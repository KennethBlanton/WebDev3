(function(b,c){function a(){var d=this;
d.ALPHANUMERIC_CASE_INSENSITIVE_PATTERN=/^[a-z0-9]+$/i;
d.pinCode="";
d.invalidPinCode=false;
d.headerOffset=MarketingServices.Utility.getHeaderOffset();
d.$onInit=function(){if(d.initialPinCode){d.pinCode=d.initialPinCode
}};
d.isValidPinCode=function(){return d.pinCode&&d.ALPHANUMERIC_CASE_INSENSITIVE_PATTERN.test(d.pinCode)
};
d.clearErrors=function(){d.invalidPinCode=false
};
d.changed=function(){d.clearErrors()
};
d.afterSubmit=function(){d.pinCode=""
};
d.submit=function(){if(!d.pinCode){d.throwError(d.errorSettings.requiredFieldsErrorMessage);
d.invalidPinCode=true;
return
}if(d.isValidPinCode()){d.clearErrors();
d.onSubmit({pinCode:d.pinCode,callback:d.afterSubmit})
}else{d.invalidPinCode=true;
d.throwError(d.errorSettings.invalidCodeErrorMessage)
}};
d.throwError=function(e){d.onError({message:e})
}
}b.module("angular-components").component("codeEntry",{templateUrl:"/etc/clientlibs/marketingservices/angular-components/code-entry/template/code-entry.html",controller:a,bindings:{settings:"<",errorSettings:"<",isEnabled:"<",initialPinCode:"<",onSubmit:"&",onError:"&"}})
}(window.angular,window.alert));