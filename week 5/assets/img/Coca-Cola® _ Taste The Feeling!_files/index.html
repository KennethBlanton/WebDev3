<!DOCTYPE html>
<!-- saved from url=(0224)https://mcr-my-coke-rewards-coca-cola.massrel.io/cokeweb/index.html#cfg=curl%3Dhttps%253A%252F%252Fus.coca-cola.com%252Fhome%252F%26parent%3Dus.coca-cola.com%26vph%3D768%26space-id%3Dmcr-my-coke-rewards-coca-cola%252Fcokeweb -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations cssfilters csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" lang="en-us" xmlns:fb="http://ogp.me/ns/fb#"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--[if lt IE 9]>
    <script src="//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/js/html5-shiv.js"></script>
    <script src="//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/js/css3-mediaqueries.js"></script>
    <![endif]-->
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <script type="text/javascript" id="www-widgetapi-script" src="./www-widgetapi.js" async=""></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="./ga.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="gauniversal" src="./analytics.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="twitter-widgets" src="./widgets.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="twitter-impressions" src="./impressions.js"></script><!--<base target="_blank">--><base href="." target="_blank">

    <title>Media Wall</title>

    
  <link id="compiled-template-less" href="./main.35a903b36ff882ca8d97fe2e5b73d96d2ff1348f.css" type="text/css" rel="stylesheet">

  <script type="text/javascript" charset="utf8" async="" src="./iframe_api"></script></head>
  <body class="use-retail  fixed loaded" style="overflow: hidden;"><iframe src="./xdm_ifr.html" style="position: absolute; top: -1000px; left: -1000px; width: 1px; height: 1px;"></iframe>
    <div id="loader-wrapper">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>
    

    <div class="main-container">
      <section id="media-grid" style="bottom: 0px;">
        <div id="noNewContent">No content available.</div>
        <div class="grid">
          <div class="grid-body">

          <div data-network="inst" data-network-id="1507437752739072411_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/18298621_209930696178876_5427887142204342272_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./18298621_209930696178876_5427887142204342272_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1503724989911475528_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/18096197_1187679918008784_3816512779653742592_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./18096197_1187679918008784_3816512779653742592_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1497954720021756360_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/18011980_213179155849612_4798385132933218304_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./18011980_213179155849612_4798385132933218304_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1491434189684575582_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/e15/p640x640/17881518_452153958453636_8457356059743354880_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./17881518_452153958453636_8457356059743354880_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1487842213936634278_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/17818980_1746988568925851_5292286696728035328_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./17818980_1746988568925851_5292286696728035328_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1485133669776835000_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/17437594_1823023441296839_4887203123879215104_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./17437594_1823023441296839_4887203123879215104_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1477102013094603079_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-photo embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(//scontent.cdninstagram.com/t51.2885-15/e35/17437623_1863459937274813_6746412595651018752_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./17437623_1863459937274813_6746412595651018752_n.jpg">
</div>

</div>
  </div>
</div>
</div><div data-network="inst" data-network-id="1472640851016221101_249655166" class="status instagram grid-cell" data-mr-view="true"><div class="grid-cell-wrapper grid-cell-instagram mr-action-click" data-action="showDetails">
  <div class="grid-cell-contents">
    <div class="media embed-type-video embed-type-_originalType" data-mr-view="true">
<div class="background-image" style="background-image: url(https://scontent.cdninstagram.com/t51.2885-15/e15/p640x640/17265412_697266993778402_5609562330384826368_n.jpg);">
  <div class="icon-video"></div>
  <div class="expand-button">
    <div class="expand-button-image"></div>
    <p class="expand-button-text"></p>
  </div>
  <img src="./17265412_697266993778402_5609562330384826368_n.jpg">
</div>

</div>
  </div>
</div>
</div></div>
          <div id="load-more" class="mr-component mr-component-type-load-more-1 mr-component-instance-load-more" data-mr-component-id="load-more" data-mr-component-type="load-more-1"><div class="button load-more-button hidden" data-mr-view="true"><span class="button-text">Load More</span></div></div>
        </div>
      </section>
    </div>

    <div class="footer " style="height: 0px;">
      <a id="mr-logo" class="mr-component mr-component-type-logo-1 mr-component-instance-mr-logo theme-dark" data-mr-component-id="mr-logo" data-mr-component-type="logo-1" data-mr-view="true" href="http://www.spredfast.com/" target="_blank" title="A Spredfast product
http://www.spredfast.com" alt="A Spredfast product"><span class="ada-text">Click to learn more about Spredfast Products</span>
<i class="icon-spredfast-logo"></i><i class="icon-spredfast-logo-shape"></i><i class="logo-copy icon-spredfast-logo-copy">
</i></a>
    </div>

    <section id="modal" class="mr-component mr-component-type-modal-2 mr-component-instance-modal" data-mr-component-id="modal" data-mr-component-type="modal-2"></section>

    
  <script src="./loader.d44424d20aad367422afcc22eec890fc95a42c1f.js"></script>
  <script>//! moment.js
//! version : 2.8.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*! Player.js - v0.0.11 - 2015-07-24
* http://github.com/embedly/player.js
* Copyright (c) 2015 Embedly; Licensed BSD */

/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */

window.MR=window.MR||{},function(define,require,requirejs){define("components/modal-2/models/ModalModel",["require","lodash","backbone-amd"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=i.Model.extend({defaults:{open:!1,model:null,View:null,closeButtonAdaText:"Close this Window",styleComponentId:null,additionalClasses:null},initialize:function(t){this.id=t.id,this.config=t.config,this.dispatcher=t.dispatcher,this.set(e.extend({},this.defaults,e.pick(t.config,e.keys(this.defaults))))},show:function(t,e,i){if(!t&&e||!e&&t)throw new Error("Modal#show requires both a model and a view, or neither!");return t&&e&&this.set({model:t,View:e}),i&&(this.set("closeButtonAdaText",i.closeButtonAdaText||this.get("closeButtonAdaText")),this.set("styleComponentId",i.styleComponentId||this.get("styleComponentId")),this.set("additionalClasses",i.additionalClasses||this.get("additionalClasses"))),this.toggle(!0),this},hide:function(){return this.toggle(!1),this},toggle:function(t){return t=0===arguments.length?!this.get("open"):!!t,this.set("open",t),this}});return n}),function(){var t=function(){function t(t){return t=t||"",/^\//.test(t)||(t=(e[""]||"/static/")+t),Object.prototype.hasOwnProperty.call(e,t)?e[t]:/^\/[^/]/.test(t)?i+t:t}var e={"/components/status-2/static/spinner.svg":"//massrel-all.massrel.io/static/spinner.82cd6a7476f4a43e8863c0551f13cc479b78a661.svg","/components/status-2/static/video-play.png":"//massrel-all.massrel.io/static/video-play.4002e090a697cd3d94f10c328119231ee547d8e4.png","/bower_components/slick/slick/ajax-loader.gif":"//massrel-all.massrel.io/static/ajax-loader.cbaaf95d6d5deeba0a91daf32211cf2322a6b17a.gif","/bower_components/background-size-polyfill/backgroundsize.htc":"//massrel-all.massrel.io/static/backgroundsize.b2ff01ef7655fd1530917b80515fd9e0314b61a7.htc","/bower_components/background-size-polyfill/backgroundsize.min.htc":"//massrel-all.massrel.io/static/backgroundsize.min.b0d1854ee9ebbd813a6b51f532ee73e0ce8efd51.htc","/bower_components/background-size-polyfill/src/intro.htc":"//massrel-all.massrel.io/static/intro.0c14d48d70564e8ffa48ee33e2921b8218db405d.htc","/bower_components/background-size-polyfill/src/outro.htc":"//massrel-all.massrel.io/static/outro.36f6a8a39a184d57a5702cadd67b724349a169ce.htc","/bower_components/background-size-polyfill/src/outro.min.htc":"//massrel-all.massrel.io/static/outro.min.a1b29828ed01b4cbb8f535ed4f043533546d6fc6.htc","/bower_components/background-size-polyfill/images/pattern.png":"//massrel-all.massrel.io/static/pattern.9b07f090653ce990ab10dfedcf1a96691b3bacc0.png","/bower_components/q/q.png":"//massrel-all.massrel.io/static/q.258d66f8de01d842f625aa30760a1e554be8c5e5.png","/bower_components/background-size-polyfill/images/algeria.jpg":"//massrel-all.massrel.io/static/algeria.8fba62617211caf29109e87ce78891879722f7b9.jpg","/bower_components/background-size-polyfill/images/algerian1.jpg":"//massrel-all.massrel.io/static/algerian1.5367f7f1990e616e0d250f33f514c61efab22bb2.jpg","/bower_components/background-size-polyfill/images/algerian2.jpg":"//massrel-all.massrel.io/static/algerian2.c16f28605fe02294c344952bdd85d447cf28ea41.jpg","/bower_components/background-size-polyfill/images/jar1.jpg":"//massrel-all.massrel.io/static/jar1.81059f90ef0f79d947601a5b35d874920dd502f6.jpg","/bower_components/background-size-polyfill/images/jar2.jpg":"//massrel-all.massrel.io/static/jar2.494a9249331a960aed0b0a587dad07adf0697c4d.jpg","/bower_components/background-size-polyfill/images/parthenon.jpg":"//massrel-all.massrel.io/static/parthenon.41f0bb0e566a150afca4c169b035eb1423b418ff.jpg","/bower_components/background-size-polyfill/images/propylaea.jpg":"//massrel-all.massrel.io/static/propylaea.99b5c36e446ffa9bd712d04b50ddd271516829c7.jpg","/bower_components/slick/slick/fonts/slick.eot":"//massrel-all.massrel.io/static/slick.2dc80ee445f351c8c621d093f9d8e2a0e631217c.eot","/bower_components/socialite-0/fonts/socialite-0-12-0.eot":"//massrel-all.massrel.io/static/socialite-0-12-0.d2736df7255a214a5512a4d7ad254f5fc5d6790e.eot","/bower_components/socialite/fonts/socialite-1-7-0.eot":"//massrel-all.massrel.io/static/socialite-1-7-0.d19f34bf6e20df46b6a9a9df86143f931b42724d.eot","/bower_components/slick/slick/fonts/slick.ttf":"//massrel-all.massrel.io/static/slick.edd0d35f739ec686c398e773c644bcc05f73e5f6.ttf","/bower_components/socialite-0/fonts/socialite-0-12-0.ttf":"//massrel-all.massrel.io/static/socialite-0-12-0.5f8c46974a09d3f2e5004dcb935aa93d6e6b7bf1.ttf","/bower_components/socialite/fonts/socialite-1-7-0.ttf":"//massrel-all.massrel.io/static/socialite-1-7-0.20cafbfd8bd1f1b0d1db0d0742097239dce069e8.ttf","/bower_components/slick/slick/fonts/slick.woff":"//massrel-all.massrel.io/static/slick.27f38483a2a6a9a19cd7571b6158edcfd292b8a1.woff","/bower_components/socialite-0/fonts/socialite-0-12-0.woff":"//massrel-all.massrel.io/static/socialite-0-12-0.e93f6ffdcc5e828475d0cfc68687ee8269a0a5e1.woff","/bower_components/socialite/fonts/socialite-1-7-0.woff":"//massrel-all.massrel.io/static/socialite-1-7-0.82a559c38b0c4c7c8308ea775a0f1823c8df7115.woff","/bower_components/q/q.svg":"//massrel-all.massrel.io/static/q.d9845f22bbf9fdc8f4a44850d38de16bdf882062.svg","/bower_components/slick/slick/fonts/slick.svg":"//massrel-all.massrel.io/static/slick.17f63c6f6131389462ba3d814b7ddf83344705f9.svg","/bower_components/socialite-0/fonts/socialite-0-12-0.svg":"//massrel-all.massrel.io/static/socialite-0-12-0.85676defe22336506594cb454de38b77b1f93133.svg","/bower_components/socialite/fonts/socialite-1-7-0.svg":"//massrel-all.massrel.io/static/socialite-1-7-0.93306ac00917c637a044a0e7309c103177bf4eff.svg","/static/img/expand.png":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/img/expand.png","/static/img/ig-logo.png":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/img/ig-logo.png","/static/img/video-play.png":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/img/video-play.png","/static/js/css3-mediaqueries.js":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/js/css3-mediaqueries.js","/static/js/html5-shiv.js":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/js/html5-shiv.js","/static/js/index.js":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/js/index.js","":"//mcr-my-coke-rewards-coca-cola.massrel.io/template-static-f605c267ba6ad2d10f49b36afa31d5df193fcc35/"},i="";return t.setPrefix=function(t){i=t},t},e=t();"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("staticPath",[],function(){return e}):module.exports=e,"object"==typeof MR&&(MR.staticPath=e)}(),define("templateCompiler",["require","lodash","TemplateStore","staticPath"],function(t){var e=t("lodash"),i=t("TemplateStore"),n=t("staticPath"),a={staticPath:n},s=function(t){return function(n){n=n||{};var s=t.fn;if(t.metadata.customizable){var r=i.get(this.componentId&&this.componentId(),this.componentType&&this.componentType(),t.name);s=r||s}var o=e.merge({},a,n),l=Array.prototype.slice.call(arguments);return l[0]=o,s.apply(null,l)}};return{compile:s}}),define("tmpl",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("tmpl!modal-content",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-content" tabindex="0">\n  <i class="mr-action-click modal-close icon-close-x" data-action="close" tabindex="0"><span class="ada-text">'+__e(closeButtonAdaText)+"</span></i>\n  "+(null==(__t=subview("modal-content",model))?"":__t)+"\n</div>\n";return __p},metadata:{customizable:!0},name:"modal-content"})}),define("components/modal-2/views/ModalView",["require","lodash","jquery","lib/views/BaseView","tmpl!modal-content"],function(t){var e=t("lodash"),i=t("jquery"),n=t("lib/views/BaseView"),a=t("tmpl!modal-content"),s=n.extend({template:a,classes:{modal_open:"modal-open"},attributes:{tabindex:0},subviews:{"modal-content":null},events:{click:"handleClose","click .modal-close":"handleClose","keydown .modal-close":"handleKeyDown"},initialize:function(){this._escapeCloseHandler=e.bind(this.handleEscapeClose,this),i(document).on("keydown",this._escapeCloseHandler),this.listenTo(this.model,"change:open",this.toggleOpen),this.listenTo(this.model,"change:open",this._removeSubviewsIfClosed)},_updateSubview:function(t){return this.subviews["modal-content"]=t,this},_removeSubviewsIfClosed:function(){return this.model.get("open")||e.each(this.renderedSubviews,function(t){t.remove()}),this},handleKeyDown:function(t){13===t.keyCode&&this.handleClose(t)},handleClose:function(t){return t.target===t.currentTarget&&(t.preventDefault(),this.model.hide()),this},handleEscapeClose:function(t){var e=t.keyCode||t.which;27===e&&this.model.hide()},toggleOpen:function(t){var i=this;return this.$el.toggleClass(this.classes.modal_open,t),this.render(),this.dispatcher().trigger(this.model.get("open")?"open":"close"),this.analytics().trackEvent({category:this.model.get("open")?"viz:expand":"viz:collapse",action:"modal"}),e.defer(function(){i.$el.find(".modal-content").focus()}),this},remove:function(){return i(document).off("keydown",this._escapeCloseHandler),this},render:function(){return(this.model.get("open")||!this._rendered)&&(this._updateSubview(this.model.get("View")),n.prototype.render.apply(this,arguments),this._rendered=!0),this},replaceSubviews:function(t,e){t.replaceWith(e.$el),e.render()},renderTemplate:function(t){if(this.template){this.model.get("styleComponentId")&&this.$el.addClass("mr-component-modal-instance-"+this.model.get("styleComponentId")),this.model.get("additionalClasses")&&this.$el.addClass(this.model.get("additionalClasses"));var e=i("<div>").html(this.template(t));this.$el.empty().append(e.contents()),this.renderSubviews(this.$el)}}});return s}),define("lib/BaseComponent",["require","backbone-amd","lodash","ENV","lib/analytics/main"],function(t){var e=t("backbone-amd"),i=t("lodash"),n=t("ENV"),a=t("lib/analytics/main"),s=e.Model.extend({create:function(){},render:function(){},exports:{},deprecated:!1,constructor:function(t){if(e.Model.apply(this,arguments),this.deprecated&&window.MR&&MR.spaceConfig&&"dev"===MR.spaceConfig.env&&window.console&&window.console.warn){var i=t&&t.type?t.type:this.get("id"),n="The '"+i+"' component version you're using is "+"deprecated! Upgrade it to the latest version to get new "+"features and improvements. See "+"https://github.com/MassRelevance/builder-sdk/tree/master/dev/components "+"for all available components and versions.";setTimeout(function(){window.console.warn(n)},5e3)}},initialize:function(){var t=this.get("config")||{},e=this.get("id");this.set("dispatcher",n.scope(e,t.type)),this.set("analytics",new a({scope:"component",componentID:e,componentType:t.type}));var i=this.styles;i&&i.render&&i.render(t)},postInitialize:function(){},hasElement:function(){var t=this.get("config")||{};return!(!t.$el||!t.$el.length)}}),r=s.extend;return s.extend=function(){var t=r.apply(s,arguments);return t.exports=function(){var e=i.extend({},t.prototype.exports);return e.create=function(e,n){var a={id:e,config:n},s=new t(a),r=s.create();return i.extend({},a,r,{render:function(){s.render()},postInitialize:function(){s.postInitialize()}})},e},t},s}),define("componentStyle",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("componentStyle!modal-2",{render:function(){}}),define("components/modal-2/main",["require","jquery","./models/ModalModel","./views/ModalView","lib/BaseComponent","componentStyle!modal-2"],function(t){var e=t("jquery"),i=t("./models/ModalModel"),n=t("./views/ModalView"),a=t("lib/BaseComponent"),s=t("componentStyle!modal-2");return a.extend({styles:s,create:function(){var t=this.get("id"),a=this.get("config"),s=this.get("dispatcher"),r=new i({dispatcher:s,config:a.settings}),o=new n({analytics:this.get("analytics"),dispatcher:s,el:e("#"+t),componentId:t,componentType:a.type,model:r});return this.set("model",r),this.set("view",o),s.on("#"+t+":show",function(t){var e=t&&t.payload?t.payload:{};r.show(e.model,e.View,e.options)}),{model:r,view:o}}}).exports()}),define("massrel-js-backbone-2/backbone",["require","backbone-amd"],function(t){var e=t("backbone-amd");return(window["massrel-js-backbone"]||window).Backbone||e}),define("massrel-js-backbone-2/MediaModel",["require","./backbone","lodash"],function(t){var e=t("./backbone"),i=t("lodash");return e.Model.extend({defaults:function(){return{type:{},size:"large",provider:{},providerName:"",photo_urls:{},embed_url:"",embed_html:"",caption:"",description:"",link:"",duration:0,videos:{},height:0,width:0}},toJSON:function(){var t=e.Model.prototype.toJSON.apply(this,arguments);if(t.size&&t.photo_urls[t.size])t.photo_url=t.photo_urls[t.size].url;else{var n=i.first(i.values(t.photo_urls));t.photo_url=n?n.url:""}return t}})}),define("massrel-js/globals",{host:"api.massrelevance.com",timeout:1e4,protocol:"https:"===document.location.protocol?"https":"http",min_poll_interval:5e3,max_backoff_interval:6e4,backoff_rate:1.8,jsonp_param:"jsonp"}),define("massrel-js/helpers",["./globals"],function(t){var e={},i=encodeURIComponent;e.step_through=function(t,i,n){t=e.is_array(t)?t:[t];var a=t.length-1;if(a>=0)for(;a>=0;a--)for(var s=t[a],r=0,o=i.length;o>r;r++)i[r].call(n,s)},e.extend=function(t,e){var i;for(i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t},e.api_url=function(e,i){i=i||t.host;var n=t.port,a=t.protocol+"://"+i+(n?":"+n:"");return a+e},e.req={},e.req.supportsXhr2=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,e.req.supportsCors=e.req.supportsXhr2||"XDomainRequest"in window,e.req.supportsJSON="JSON"in window,e.req.xdr=function(i,n,a,s,r,o,l,u){var d,c,p=!1;l||(l="GET");var h=function(t){p=!0;var i,n=!1;try{i=JSON.parse(t)}catch(a){n=!0,m(new Error("JSON parse error"))}n||("function"==typeof r?r(i):e.is_array(r)&&r.length>0&&e.step_through(i,r,s))},m=function(t){p=!0,"function"==typeof o&&o(t)};window.XMLHttpRequest&&e.req.supportsXhr2?d=new XMLHttpRequest:window.XDomainRequest&&(d=new XDomainRequest),d?(d.open(l,i+"?"+e.to_qs(n)),d.timeout=t.timeout,d.onerror=m,d.onprogress=function(){},d.ontimeout=m,d.onload=function(){h(d.responseText)},d.send(u),c=setTimeout(function(){p||(d.onerror=function(){},d.onprogress=function(){},d.ontimeout=function(){},d.onload=function(){},d.abort&&d.abort(),m())},t.timeout)):m(new Error("CORS not supported"))},e.req.jsonp=function(i,a,s,r,o,l){var u,d=s+ ++n,c=!1;t._json_callbacks[d]=function(i){"function"==typeof o?o(i):e.is_array(o)&&o.length>0&&e.step_through(i,o,r),delete t._json_callbacks[d],c=!0,clearTimeout(u)},a.push([t.jsonp_param,"massrel._json_callbacks."+d]);var p=e.load(i+"?"+e.to_qs(a));u=setTimeout(function(){c||(t._json_callbacks[d]=function(){delete t._json_callbacks[d]},"function"==typeof l&&l(),p.stop())},t.timeout)},e.jsonp_factory=e.req.jsonp;var n=0;t._json_callbacks={},e.request_factory=function(t,i,n,a,s,r){e.req.supportsCors&&e.req.supportsJSON?e.req.xdr(t,i,n,a,s,r):e.req.jsonp(t,i,n,a,s,r)},e.post_factory=function(t,i,n,a,s,r,o){if(!e.req.supportsCors||!e.req.supportsJSON)throw"POST not supported";e.req.xdr(t,i,a,s,r,o,"POST",n)},e.is_array=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.is_number=function(t){return"[object Number]"===Object.prototype.toString.call(t)};var a=document.getElementsByTagName("head")[0]||document.body;e.load=function(t,e){var i=document.createElement("script");i.type="text/javascript",i.src=t;var n=!1;return i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,i.onload=i.onreadystatechange=null,a&&i.parentNode&&a.removeChild(i),"function"==typeof e&&e())},a.insertBefore(i,a.firstChild),{stop:function(){i.onload=i.onreadystatechange=null,a&&i.parentNode&&a.removeChild(i),i.src="#"}}},e.to_qs=function(t){var n,a=[];if(t&&t.length){for(var s=0,r=t.length;r>s;s++){if(n=t[s][1],e.is_array(n)){for(var o=[],l=0,u=n.length;u>l;l++)o[l]=i(n[l]||"");n=o.join(",")}else n=void 0!==n&&null!==n?i(n):"";a.push(i(t[s][0])+"="+n)}return a.join("&")}return""};var s=/\+\d{4} \d{4}$/,r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\+\d{4})$/,o=/^(\d{4})-(\d\d)-(\d\d)T(\d\d)\:(\d\d)\:(\d\d)\.(\d{3})Z$/;return e.fix_date=e.fix_twitter_date=function(t){if(t=t.toString(),s.test(t)){t=t.split(" ");var e=t.pop();t.splice(3,0,e),t=t.join(" ")}else r.test(t)?t=t.replace(r,"$1/$2/$3 $4:$5:$6 $7"):o.test(t)&&(t=t.replace(o,"$1/$2/$3 $4:$5:$6 +0000"));return t},e.parse_params=function(t){t=t||window.location.search.substring(1);var e={};if("?"===t.charAt(0)&&(t=t.substring(1)),t.length>0){t=t.replace(/\+/g," ");for(var i=t.split(/[&;]/g),n=0;n<i.length;n++){var a=i[n].split("="),s=decodeURIComponent(a[0]),r=a.length>1?decodeURIComponent(a[1]):"";if(s in e){var o=e[s];"string"!=typeof o?e[s].push(r):(e[s]=[],e[s].push(o),e[s].push(r))}else e[s]=r}}return e},e.poll_interval=function(e){var i=t.min_poll_interval;return Math.max(e||i,i)},e.poll_backoff=function(e,i){var n=t.max_backoff_interval;return n>e&&(i=Math.max(i-1,0),e*=Math.pow(t.backoff_rate,i),e=Math.min(e||n,n)),e},e.callback_group=function(t){t=t||1;var e=0,i=!0,n=function(n,a){return function(){if(i){if(t>=e)return n.apply(a||this,arguments);throw new Error("Callback group max call count exceeded")}}};return n.deactivate=function(){i=!1},n},e.timeParam=function(t,e,i,n){"undefined"!=typeof t&&(t.getTime&&(t=t.getTime()/1e3),t=+t,!isNaN(t)&&t>0?(t=60*Math.floor(t/60),i.push([e,t])):!isNaN(t)&&n&&0>=t&&i.push([e,t]))},e.always=function(t){var e=new $.Deferred;if(void 0===t)return e.resolve(),e.promise();void 0===t.length&&(t=[t]);var i=t.length,n=function(){i--,0===i&&e.resolve()};return $.each(t,function(){this.always(n)}),e.promise()},e}),define("massrel-js/generic_poller_cycle",["./helpers"],function(t){function e(e,i,n){this.cg=t.callback_group(),this.skip=this.cg(e),this.callback=this.cg(i),this.errback=this.cg(n),this._enabled=!0}return e.prototype.enabled=function(){return this._enabled},e.prototype.disable=function(){this.cg.deactivate(),this._enabled=!1},e}),define("massrel-js/generic_poller",["./helpers","./generic_poller_cycle"],function(t,e){function i(n,a){var s,r=this,o=function(){if(d){var a=t.callback_group(),s=a(l),o=function(e){if(r.consecutive_errors=0,i.failure_mode=r.failure_mode=!1,d){for(var n=0,a=r._filters.length;a>n;n++)e=r._filters[n].call(r,e);t.step_through([e],r._listeners,r),d&&s()}},c=function(){r.consecutive_errors+=1,i.failure_mode=r.failure_mode=!0,s(!0)};u=new e(s,o,c),r.fetch(n,r.opts,u)}},l=function(e){var i=t.poll_interval(1e3*r.frequency);e&&(i=t.poll_backoff(i,r.consecutive_errors)),s=setTimeout(o,i)},u=null,d=!1;this._listeners=[],this._filters=[],this.object=n,this.opts=a||{},this.frequency=this.opts.frequency||30,this.alive_count=0,this.consecutive_errors=0,this.failure_mode=!1,this.start=function(){return d||(d=!0,o()),this},this.stop=function(){return u&&(u.disable(),u=null),clearTimeout(s),d=!1,this}}return i.prototype.fetch=function(t,e,i){return t.load(e,i.callback,i.errback),this},i.prototype.data=function(t){return this._listeners.push(t),this},i.prototype.filter=function(t){return this._filters.push(t),this},i.failure_mode=!1,i}),define("massrel-js/poller_queue",["./helpers"],function(t){function e(e,i){function n(){if(!r&&a.length>0&&"function"==typeof s){var t=++o;l.enqueued-=1,l.count+=1;var e=a.shift();r=!0,s.call(l,e,function(){t===o&&(r=!1,setTimeout(n,0))})}}this.poller=e,i=t.extend(i||{},{});var a=[],s=null,r=!1,o=0;this.total=0,this.enqueued=0,this.count=0;var l=this;e.batch(function(t){for(var e=t.length,i=e-1;i>=0;i--)a.push(t[i]);l.total+=e,l.enqueued+=e,n()}),this.next=function(t){r||"function"!=typeof t||(s=t,n())}}return e}),define("massrel-js/poller",["./helpers","./generic_poller","./poller_queue"],function(t,e,i){function n(t,i){e.call(this,t,i),this.stream=this.object,this.filter(this.filter_newer),i=this.opts,this.newest_timestamp=i.newest_timestamp||null,this.stay_realtime="stay_realtime"in i?!!i.stay_realtime:!0,this.hail_mary_mode=!!i.hail_mary_mode,this.first=!0}return t.extend(n.prototype,e.prototype),n.prototype.fetch=function(e,i,n){var a=this,s={start_id:null},r=this.stay_realtime?"since_id":"from_id";return s[r]=a.since_id,i=t.extend({},i),this.first&&(i=t.extend(i.initial||{},i),delete i.initial),s=t.extend(s,i),this.cursorable()||delete s.since_id,e.load(s,function(t){n.enabled()&&(t&&t.length>0&&(a.since_id=t[0].entity_id,a.start_id||(a.start_id=t[t.length-1].entity_id)),n.callback(t),s.timeframe&&a.first&&a.stop(),a.first=!1)},n.errback),this},n.prototype.batch=function(t){return this.data(n.createEnumerator(t,!1))},n.prototype.each=function(t){return this.data(n.createEnumerator(t,!0))},n.prototype.queue=function(t){var e=new i(this);return e.next(t),this},n.prototype.more=function(e,i){var n=this,a=function(){n.object.load(t.extend({start_id:n.start_id,since_id:null},n.opts),function(t){t.length>0&&(n.start_id=t[t.length-1].entity_id,n.since_id||(n.since_id=t[0].entity_id)),e.call(n,t)},function(){"function"==typeof i&&i()})};return a(),this},n.prototype.cursorable=function(){return!(e.failure_mode||this.failure_mode||this.hail_mary_mode)},n.prototype.filter_newer=function(t){return t=n.filter_newer(t,this.newest_timestamp),t&&t.length>0&&(this.newest_timestamp=t[0].queued_at),t},n.prototype.poke=function(){return this},n.createEnumerator=function(e,i){return i?function(i){i&&i.length>0&&t.step_through(i,[e],this)}:function(t){t&&t.length>0&&e.call(this,t)}},n.filter_newer=function(t,e){var i="queued_at";if(t&&t.length>0){var n=this.limit||1/0;if(e)if(t[0][i]<=e)t=[];else if(t[t.length-1][i]>e)t.length>n&&t.splice(this.limit,t.length-n);else{for(var a=[],s=0,r=t.length;r>s&&a.length<n;s++){var o=t[s];if(!(o[i]>e))break;a.push(o)}t=a}else t.length>n&&t.splice(this.limit,t.length-n)}return t},n}),define("massrel-js/meta_poller",["./helpers","./generic_poller"],function(t,e){function i(){e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return t.meta(e,i.callback,i.errback),this},i.prototype.each=i.prototype.data,i}),define("massrel-js/top_things_poller",["./helpers","./generic_poller"],function(t,e){function i(t,i){i.thing=i.thing||"hashtags","number"==typeof i.resolution&&(i.resolution=i.resolution+"s"),e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return"number"==typeof e.resolution&&(e.resolution=e.resolution+"s"),t.topThings(e,i.callback,i.errback),this},i.mostRecentBucket=function(t){if(t.data&&t.data.length>0){for(var e=t.data.length-1;e>=0;e--)if(t.data[e].things&&t.data[e].things.length>0)return t.data[e];if(-1===e)return t.data[t.data.length-1]}return null},i.prototype.each=i.prototype.data,i}),define("massrel-js/stream_keyword_insights",["./helpers","./generic_poller"],function(t,e){function i(t,e){this.stream=t,this.defaults=e||{}}return i.prototype.url=function(){return this.stream.keyword_insights_url()},i.prototype.fetch=function(e,i,n){e=t.extend({},e||{}),e=t.extend(e,this.defaults);var a=this.params(e);return t.request_factory(this.url(),a,"_",this,function(){"function"==typeof i&&i.apply(this,arguments)},n),this},i.prototype.poller=function(t){var i=new e(this,t);return i.fetch=function(t,e,i){return t.fetch(e,i.callback,i.errback)},i},i.prototype.params=function(t){t=t||{};var e=[];return t.topics&&e.push(["topics","1"]),"start"in t&&e.push(["start",t.start]),"finish"in t&&e.push(["finish",t.finish]),t.resolution&&e.push(["resolution",t.resolution]),t.countries&&e.push(["countries",t.countries]),e},i}),define("massrel-js/stream_activity",["./helpers","./generic_poller"],function(t,e){function i(t,e){this.stream=t,this.defaults=e||{}}var n=encodeURIComponent;i.prototype.url=function(){return t.api_url("/"+n(this.stream.account)+"/"+n(this.stream.stream_name)+"/activity.json")},i.prototype.fetch=function(e,i,n){e=t.extend({},e||{}),e=t.extend(e,this.defaults);var a=this.params(e);return t.request_factory(this.url(),a,"_",this,function(n){if(n&&(!e.verbose||"0"===e.verbose)&&t.is_array(n.activity))for(var a=n.activity,s=0,r=a.length;r>s;s++){var o=n.start+n.period_size*s;a[s]=t.extend(a[s],{start:o,finish:Math.min(o+n.period_size,n.finish)})}"function"==typeof i&&i.apply(this,arguments)},n),this},i.prototype.poller=function(t){var i=new e(this,t);return i.fetch=function(t,e,i){return t.fetch(e,i.callback,i.errback)},i},i.prototype.params=function(e){e=e||{};var i=[];return e.view?i.push(["view",e.view]):e.topic&&i.push(["topic",e.topic]),t.timeParam(e.start,"start",i,!0),t.timeParam(e.finish,"finish",i,!0),"periods"in e&&i.push(["periods",e.periods]),e.resolution&&i.push(["resolution",e.resolution]),"tz_offset"in e&&i.push(["tz_offset",e.tz_offset]),e.encode&&i.push(["encode",e.encode]),i.push(["verbose",0]),i};var a=function(t,e,n){i.prototype[t]=function(){return this.defaults[e]=n,this}};return a("approved","view","approved"),a("pending","view","pending"),a("rejected","view","rejected"),a("minutes","resolution","1m"),a("ten_minutes","resolution","10m"),a("hours","resolution","1h"),a("days","resolution","1d"),i}),define("massrel-js/stream",["./helpers","./poller","./meta_poller","./top_things_poller","./stream_keyword_insights","./stream_activity"],function(t,e,i,n,a,s){function r(){var t=1===arguments.length?arguments[0].split("/"):arguments;this.account=t[0],this.stream_name=t[1],this._enumerators=[]}var o=encodeURIComponent;return r.prototype.stream_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+".json")},r.prototype.meta_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/meta.json")},r.prototype.top_things_url=function(e){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/top_"+e+".json")},r.prototype.keyword_insights_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/keyword_insights.json")},r.prototype.load=function(e,i,n){e=t.extend(e||{},{});var a=this.buildParams(e);return t.request_factory(this.stream_url(),a,"_",this,i||this._enumerators,n),this},r.prototype.buildParams=function(e){e=e||{};var i=[];if(e.limit&&i.push(["limit",e.limit]),e.since_id?i.push(["since_id",e.since_id]):e.from_id?i.push(["from_id",e.from_id]):(e.start_id||e.start)&&i.push(["start",e.start_id||e.start]),e.replies&&i.push(["replies","1"]),e.geo_hint&&i.push(["geo_hint","1"]),e.from&&i.push(["from",e.from]),e.keywords&&i.push(["keywords",e.keywords]),e.lang&&i.push(["lang",e.lang]),e.network&&i.push(["network",e.network]),e.timeline_search&&i.push(["timeline_search","1"]),e.page_links&&i.push(["page_links","1"]),e.klout&&i.push(["klout","1"]),e.timeframe&&(t.timeParam(e.timeframe.start,"timeframe[start]",i),t.timeParam(e.timeframe.finish,"timeframe[finish]",i)),e.strip_links&&i.push(["strip_links","1"]),e.nonsquare_instagram&&i.push(["nonsquare_instagram","true"]),e.products)if(t.is_array(e.products))for(var n=0;n<e.products.length;n+=1)i.push(["products[]",e.products[n]]);else i.push(["products[]",e.products]);return e.tweet_mode&&i.push(["tweet_mode",e.tweet_mode]),i},r.prototype.each=function(t){return this._enumerators.push(t),this},r.prototype.poller=function(t){return new e(this,t)},r.prototype.meta=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildMetaParams(e);return t.request_factory(this.meta_url(),a,"meta_",this,i,n),this},r.prototype.buildMetaParams=function(t){t=t||{};var e=[];return t.all_topics&&e.push(["all_topics",t.all_topics]),t.disregard&&e.push(["disregard",t.disregard]),t.num_minutes&&e.push(["num_minutes",t.num_minutes]),t.num_hours&&e.push(["num_hours",t.num_hours]),t.num_days&&e.push(["num_days",t.num_days]),t.num_trends&&e.push(["num_trends",t.num_trends]),t.num_links&&e.push(["num_links",t.num_links]),t.num_hashtags&&e.push(["num_hashtags",t.num_hashtags]),t.num_contributors&&e.push(["num_contributors",t.num_contributors]),t.top_periods&&e.push(["top_periods",t.top_periods]),t.top_periods_relative&&e.push(["top_periods_relative",t.top_periods_relative]),t.top_count&&e.push(["top_count",t.top_count]),t.finish&&e.push(["finish",t.finish]),t.networks&&e.push(["networks","1"]),(t.activity||0===t.activity)&&e.push(["activity",t.activity]),t.tweet_mode&&e.push(["tweet_mode",t.tweet_mode]),e},r.prototype.metaPoller=function(t){return new i(this,t)},r.prototype.keywordInsights=function(t){return new a(this,t)},r.prototype.topThings=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildTopThingsParams(e);return t.request_factory(this.top_things_url(e.thing),a,"top_things_",this,i,n),this},r.prototype.buildTopThingsParams=function(e){e=e||{};var i=[];if(e.resolution){var n;n=t.is_number(e.resolution)?e.resolution+"s":e.resolution,i.push(["resolution",n])}return e.start&&i.push(["start",e.start]),e.finish&&i.push(["finish",e.finish]),e.limit&&i.push(["limit",e.limit]),e.percent&&i.push(["percent","1"]),e.tweet_mode&&i.push(["tweet_mode",e.tweet_mode]),i},r.prototype.topThingsPoller=function(t){return new n(this,t)},r.prototype.activity=function(t){return new s(this,t)},r}),define("massrel-js/account",["./helpers","./meta_poller"],function(t,e){function i(t){this.user=t}var n=encodeURIComponent;return i.prototype.meta_url=function(){return t.api_url("/"+n(this.user)+".json")},i.prototype.meta=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildMetaParams(e);return t.request_factory(this.meta_url(),a,"meta_",this,i,n),this},i.prototype.buildMetaParams=function(e){e=e||{};var i=[];if(e.quick_stats&&i.push(["quick_stats","1"]),e.streams){var n=t.is_array(e.streams)?e.streams:[e.streams];i.push(["streams",n.join(",")])}return e.num_minutes&&i.push(["num_minutes",e.num_minutes]),e.num_trends&&i.push(["num_trends",e.num_trends]),e.start&&i.push(["start",e.start]),e.finish&&i.push(["finish",e.finish]),i},i.prototype.metaPoller=function(t){return new e(this,t)},i.prototype.toString=function(){return this.user},i}),define("massrel-js/context",["./helpers"],function(t){function e(t){this.status=t,this.source={facebook:!1,twitter:!1,getglue:!1,google:!1,instagram:!1,rss:!1,message:!1},this.known=!1,this.intents=!0}return e.create=function(i,n){i=i||{};var a=new e(i);return n=t.extend(n||{},{intents:!0,retweeted_by:!0}),a.intents=n.intents,"undefined"!=typeof a.source[i.network]&&(a.source[i.network]=a.known=!0,a.sourceName=i.network),"google_plus"===i.network&&(a.source.google=a.known=!0,a.sourceName="google"),"massrelevance"===i.network&&(a.source.message=a.known=!0,a.sourceName="message"),a.source.twitter&&i.retweeted_status&&n.retweeted_by&&(a.retweet=!0,a.retweeted_by_user=i.user,a.status=i.retweeted_status),a},e.prototype.getPhotoUrl=function(){if(void 0!==this.photo_url)return this.photo_url;var t=!1;if(this.status&&this.known)if(this.source.twitter)if(this.status.entities.media&&this.status.entities.media.length){var e=this.status.entities.media[0];t={url:e.media_url,width:e.sizes.medium.w,height:e.sizes.medium.h,link_url:e.url||e.expanded_url}}else this.status.entities.urls&&this.status.entities.urls.length&&(t={url:this.status.entities.urls[0].expanded_url||this.status.entities.urls[0].url});else this.source.facebook&&(this.status.type&&"photo"===this.status.type||this.status.kind&&"photo"===this.status.kind)?t={url:this.status.picture.replace(/_[st]./,"_n.")}:this.source.google&&this.status.object.attachments.length&&"photo"===this.status.object.attachments[0].objectType?t={url:this.status.object.attachments[0].fullImage.url}:this.source.instagram&&"image"===this.status.type&&(t={url:this.status.images.standard_resolution.url});
return this.photo_url=t,t},e}),define("massrel-js/compare_poller",["./helpers","./generic_poller"],function(t,e){function i(){e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return t.load(e,i.callback,i.errback),this},i.prototype.each=i.prototype.data,i}),define("massrel-js/compare",["./helpers","./compare_poller"],function(t,e){function i(e){this.streams=t.is_array(e)?e.slice(0):"string"==typeof e?[e]:[]}return i.prototype.compare_url=function(){return t.api_url("/compare.json")},i.prototype.buildParams=function(t){var e=[];return t=t||{},t.streams&&e.push(["streams",t.streams]),(t.target||t.target>=0)&&e.push(["target",t.target.toString()]),t.precision&&t.precision>0&&e.push(["precision",t.precision]),e},i.prototype.load=function(e,i,n){"function"==typeof e&&(n=i,i=e,e=null);var a=this.buildParams(t.extend({streams:this.streams,precision:this.precision,target:this.target},e||{}));return t.request_factory(this.compare_url(),a,"meta_",this,i,n),this},i.prototype.poller=function(t){return new e(this,t)},i}),define("massrel-js/intents",["./helpers"],function(t){var e={base_url:"https://twitter.com/intent/",params:{text:"(string): default text, for tweet/reply",url:"(string): prefill url, for tweet/reply",hashtags:"(string): hashtag (or list with ,) without #, for tweet/reply",related:"(string): screen name (or list with ,) without @, available for all",in_reply_to:"(number): tweet id, only for reply",via:"(string): screen name without @, tweet/reply",tweet_id:"(number): tweet id, for retweet and favorite",screen_name:"(string): only for user/profile",user_id:"(number): only for user/profile",original_referer:'(string): url to display with related ("www.yahoo.com suggests you follow:")'},original_referer:window.top!==window.self&&document.referrer||null};return e.url=function(i,n){if(n=t.extend({},n||{}),void 0===n.original_referer&&e.original_referer&&(n.original_referer=e.original_referer),n.original_referer&&!/^https?:\/\//.test(n.original_referer)&&(n.original_referer="http://"+n.original_referer),n.hashtags&&navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)){var a=n.text?[n.text]:[];n.url&&(a.push(n.url),delete n.url),a.push("#"+n.hashtags.split(/\s*,\s*/).join(" #").replace(/^\s+|\s+$/gm,"")),delete n.hashtags,n.text=a.join(" ")}var s=[];for(var r in n)s.push([r,n[r]]);return e.base_url+encodeURIComponent(i)+"?"+t.to_qs(s)},e.tweet=function(t){return e.url("tweet",t)},e.reply=function(t,i){return i=i||{},i.in_reply_to=t,e.tweet(i)},e.retweet=function(t,i){return i=i||{},i.tweet_id=t,e.url("retweet",i)},e.favorite=function(t,i){return i=i||{},i.tweet_id=t,e.url("favorite",i)},e.user=function(t,i){return i=i||{},/^\d+$/.test(t+"")?i.user_id=t:i.screen_name=t,e.url("user",i)},e.profile=e.user,e}),define("massrel-js/search",["require","./helpers"],function(t){var e=t("./helpers"),i=function(t){this.apiToken=t};return i.prototype.url=function(){return e.api_url("/search/search.json")},i.prototype.fetch=function(t,i,n){return t=this.buildQueryString(t),e.request_factory(this.url(),t,"_",this,i,n),this},i.prototype.buildQueryString=function(t){var e=[];if("string"==typeof t.q&&e.push(["q",t.q]),t.filters&&(e=e.concat(this.buildParams(t.filters,"filter."))),t.views){var i,n;for(i in t.views)n=t.views[i],"boolean"==typeof n?e.push(["view."+i,n?"1":"0"]):e=e.concat(this.buildParams(n,"view."+i+"."))}return this.apiToken&&e.push(["api_token",this.apiToken]),e},i.prototype.buildParams=function(t,i){i=i||"";var n,a,s,r=[];for(n in t)for(a=t[n],e.is_array(a)||(a=[a]),s=0,len=a.length;len>s;s++){var o=a[s];"boolean"==typeof o&&(o=o?"1":"0"),r.push([i+n,o])}return r},i}),define("massrel-js/facebook_media_questions",["./helpers","./generic_poller"],function(t,e){function i(){}return i.prototype.url=function(){return t.api_url("/facebook/media_question.json")},i.prototype.buildParams=function(t){t=t||{};var e=[];return t.id&&e.push(["id",t.id]),t.page&&e.push(["page",t.page]),e},i.prototype.load=function(e,i,n){e=t.extend(e||{},{});var a=this.buildParams(e);return t.request_factory(this.url(),a,"_",this,i||this._enumerators,n),this},i.prototype.poller=function(t){return new e(this,t)},i}),define("massrel-js/massrel",["./globals","./helpers","./stream","./account","./stream_keyword_insights","./stream_activity","./generic_poller","./generic_poller_cycle","./poller","./meta_poller","./top_things_poller","./poller_queue","./context","./compare","./compare_poller","./intents","./search","./facebook_media_questions"],function(t,e,i,n,a,s,r,o,l,u,d,c,p,h,m,f,_,g){t.Stream=i,t.Account=n,t.StreamKeywordInsights=a,t.StreamActivity=s,t.GenericPoller=r,t.GenericPollerCycle=o,t.Poller=l,t.MetaPoller=u,t.TopThingsPoller=d,t.PollerQueue=c,t.Context=p,t.Compare=h,t.ComparePoller=m,t.helpers=e,t.intents=f,t.Search=_,t.FacebookMediaQuestion=g;var v=e.parse_params();return v["massrel[host]"]&&(t.host=v["massrel[host]"]),t}),define("massrel-js",["massrel-js/massrel"],function(t){return t}),define("embedly/js/main",["jquery","massrel-js"],function(t,e){function i(t){this.data={key:"fd577f7497bf11e0b95d4040d3dc5c07",secure:n,url:t,maxwidth:"500"}}var n="https:"===location.protocol,a="//embedly.massrelevance.com/1/";return i.prototype.task=function(i,n){var s=new t.Deferred;return e.helpers.request_factory(a+i,[["key",this.data.key],["secure",this.data.secure?"true":"false"],["url",this.data.url],["maxwidth",this.data.maxwidth]],"_",this,function(t){s.resolve(t),t&&"function"==typeof n&&n(t)},function(){s.reject()}),s.promise()},i.prototype.oembed=function(t){return this.task("oembed",t)},i.prototype.preview=function(t){return this.task("preview",t)},function(t){return new i(t)}}),define("embedly/index",["./js/main"],function(t){return t}),define("embedly",["embedly/index"],function(t){return t}),define("media-meta/js/embedly-widget",["require","lodash"],function(t){var e=t("lodash"),i="//cdn.embedly.com/widgets/media.html?",n={url:"",image:"",video:"",video_secure:"true",type:"video/mp4",schema:"instagram"},a=function(t){var i=[];return e.each(t,function(t,e){i.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),i.join("&")},s=e.template('<iframe src="<%= src %>" scrolling="no" frameborder="0"></iframe>');return function(t,r){t=e.extend({},n,t),r=r||{},r.autoplay_video&&(t.autoplay="true"),r.loop_video&&(t.loop="1");var o=i+a(t);return s({src:o})}}),define("placeholder-image-generator/templates/base",["require","lodash"],function(t){var e=t("lodash");return e.template('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="<%= width %>" height="<%= height %>"><rect width="100%" height="100%" fill="<%= color %>"></rect><%= template %></svg>')}),define("placeholder-image-generator/templates/youtube",["require","lodash"],function(t){var e=t("lodash");return e.template('<svg version="1.1" x="<%= (19 / 32) * width %>" y="<%= (5 / 8) * height %>" width="<%= width / 2 %>" height="<%= height / 2%>"      viewBox="0 0 792 1224" enable-background="new 0 0 792 1224"><path fill="#FFFFFF" d="M599.3,594.6c-4.6,0-9.9,2.4-14.6,7.1l0,93.8c4.7,4.7,10,7.1,14.6,7.1c8.1,0,11.7-5.9,11.7-21.4v-66.5    C611,599.2,607.4,594.6,599.3,594.6z"/><path fill="#FFFFFF" d="M297,726h-29.4v-17c-11.1,12.8-20.6,19.2-30.9,19.2c-9,0-15.3-4.3-18.4-12c-1.9-4.7-3.3-12-3.3-22.7V569.8    h29.4v116c0,6.6,0,9.3,0,10.8c0.7,4.3,2.5,5.9,6.3,5.9c5.6,0,10.7-4.9,16.9-13.7V569.8H297L297,726L297,726z"/><path fill="#FFFFFF" d="M164,679.6c1.5,15.5-3.3,23.1-12.4,23.1s-13.9-7.7-12.4-23.1v-61.9c-1.5-15.5,3.2-22.7,12.4-22.7    c9.1,0,13.9,7.3,12.4,22.7L164,679.6L164,679.6z M193.3,620.8c0-16.7-3.4-29.2-9.3-37.1c-7.8-10.7-20.1-15.1-32.5-15.1    c-14,0-24.7,4.4-32.5,15.1c-6,7.9-9.3,20.6-9.3,37.3l0,55.6c0,16.6,2.9,28.1,8.9,35.9c7.8,10.7,20.5,16.3,32.9,16.3    s25.3-5.6,33.1-16.3c5.9-7.8,8.7-19.3,8.7-35.9V620.8L193.3,620.8z"/><path fill="#FFFFFF" d="M77.3,640.9V726H46.4v-85.1c0,0-32.1-104.3-38.7-123.8h32.5l21.7,81.5l21.6-81.5H116L77.3,640.9L77.3,640.9z    "/><g>    <path fill="#FFFFFF" d="M778.1,534c0,0-4.5-31.7-18.4-45.6c-17.6-18.3-37.3-18.4-46.3-19.5c-64.6-4.7-161.6-4.7-161.6-4.7h-0.2        c0,0-97,0-161.6,4.7c-9,1.1-28.7,1.2-46.3,19.5c-13.9,14-18.4,45.6-18.4,45.6s-4.6,37.2-4.6,74.4v34.9c0,37.2,4.6,74.4,4.6,74.4        s4.5,31.7,18.4,45.6c17.6,18.3,40.7,17.7,50.9,19.7c37,3.5,157,4.6,157,4.6s97.1-0.1,161.7-4.8c9-1.1,28.7-1.2,46.3-19.5        c13.8-14,18.4-45.6,18.4-45.6s4.6-37.2,4.6-74.4v-34.9C782.7,571.3,778.1,534,778.1,534z M422.3,726h-30.9V548.1h-32.5v-29.4        l97.5,0v29.4h-34V726z M533.7,726h-29.4v-17c-11.1,12.8-20.6,19.2-30.9,19.2c-9,0-15.3-4.3-18.4-12c-1.9-4.7-3.3-12-3.3-22.7V571.3        h29.4v114.5c0,6.6,0,9.3,0,10.8c0.7,4.3,2.5,5.9,6.3,5.9c5.6,0,10.7-4.9,16.9-13.7V571.3h29.4V726z M640.4,679.6        c0,14.3-1.2,24.4-3.1,30.9c-3.7,11.5-11.9,17.5-23,17.5c-10,0-20.2-6-29.5-17.6l0,15.6h-27.8V518.7h27.8l0,67.6        c9-11.1,19.3-17.5,29.6-17.5c11.2,0,18.6,6.4,22.4,18c1.9,6.2,3.7,16.2,3.7,30.9V679.6z M701.9,702.5c6.9,0,10.9-3.7,12.5-11.2        c0.3-1.5,0.2-8.2,0.2-19.4H744v4.4c0,9-0.7,15.4-1,18.2c-0.9,6.2-3.1,11.8-6.5,16.8c-7.7,11.2-19.2,16.8-33.9,16.8        c-14.7,0-25.8-5.3-33.9-15.8c-5.9-7.7-9.8-19.2-9.8-35.7v-54.1c0-16.5,3.5-29.3,9.4-37.1c8.1-10.6,19.3-16.2,33.5-16.2        c14,0,25.2,5.6,33.1,16.2c5.9,7.8,9.1,19.9,9.1,36.4l0,31.6h-55.7v27.8C688.2,695.4,692.3,702.5,701.9,702.5z"/>    <path fill="#FFFFFF" d="M714.6,613.2c0-14.3-3.7-18.6-13-18.6c-9.4,0-13.3,3.9-13.3,18.4v17.1l26.3,0V613.2z"/></g></svg>')}),define("placeholder-image-generator/js/main",["require","lodash","../templates/base","../templates/youtube"],function(t){var e=t("lodash"),i="data:image/svg+xml;charset=utf-8,",n={width:480,height:360,color:"#333333",template:""},a=t("../templates/base"),s={youtube:t("../templates/youtube")};return function(t){if(t=e.extend({},n,t),""!==t.template){var r=s[t.template];t.template=r?r(t):""}return i+encodeURIComponent(a(t))}}),define("placeholder-image-generator/index",["./js/main"],function(t){return t}),define("placeholder-image-generator",["placeholder-image-generator/index"],function(t){return t}),define("media-meta/js/main",["require","lodash","embedly","q","massrel-js","./embedly-widget","placeholder-image-generator"],function(t){var e=t("lodash"),i=t("embedly"),n=t("q");t("massrel-js");var a=t("./embedly-widget"),s=t("placeholder-image-generator");n.stopUnhandledRejectionTracking();var r=["snappytv"],o=["snpy.tv"],l={promise:function(t,i){var a,s;return i=e.extend({},u,i),t&&e.isFunction(T[t.sourceName])?s=T[t.sourceName](t,i):(a=n.defer(),a.reject(),s=a.promise),s},embedlyPromise:function(t,a){var l=n.defer();if(a&&!a.use_embedly)l.reject();else{var u=[];i(t).preview().then(function(t){if(!t.error_code&&t.object){var i=k(t.object.type),n=x(t.provider_name);if((e.contains(r,t.provider_name.toLowerCase())||e.find(o,function(e){return t.original_url.indexOf(e)>=0}))&&(i.photo=!0),i.photo||i.video){var d={};!n.youtube||t.images&&t.images.length||(t.images=[{caption:null,height:360,size:16076,url:s({width:480,height:360,template:"youtube"}),width:480}]),t.images&&t.images.length&&e.each(m,function(e){d[e]=t.images[0]});var c={type:i,provider:n,providerName:h[t.provider_name]||t.provider_name,photo_urls:d,author:t.author_name};if(i.video&&t.object.html){var p=t.object.html.match(/src=\"(.*?)\"/);if(a.autoplay_video&&p&&p.length>1&&p[1]){var f=p[1]+"&autoplay=true";c.embed_html=t.object.html.replace(p[1],f)}else c.embed_html=t.object.html;c.width=t.object.width,c.height=t.object.height}u.push(c)}}0===u.length?l.reject():l.resolve(u)}).fail(function(){l.reject()})}return l.promise}},u={autoplay_video:!1,prefetch:!1,loop_video:!1,muted:!1,secure:!1,use_embedly:!0},d={link:!1,video:!1,photo:!1},c={image:"photo",animated_gif:"video",youtube_video_media:"video"},p={vine:!1,twitter:!1,facebook:!1,google:!1,getglue:!1,youtube:!1,instagram:!1,vimeo:!1},h={YouTube:"youtube",Vine:"vine",Twitter:"twitter",Facebook:"facebook",GetGlue:"getglue","Google+":"google",Instagram:"instagram",Vimeo:"vimeo"},m=["huge","large","medium","small","thumb"],f={huge:"_n.",large:"_n.",medium:"_a.",small:"_s.",thumb:"_t."},_={huge:"w1500-h1500",large:"w800-h800",medium:"w400-h400",small:"w200-h200",thumb:"w75-h75"},g={huge:"large",large:"large",medium:"medium",small:"small",thumb:"thumb"},v={huge:"standard_resolution",large:"standard_resolution",medium:"low_resolution",small:"thumbnail",thumb:"thumbnail"},b={huge:"maxres",large:"standard",medium:"high",small:"medium",thumb:"default"},y=/https?:\/\/[^/]*googleusercontent.com\/.*\/w[0-9]+-h[0-9]+\/.*/,w=/https?:\/\/video.twimg.com\/ext_tw_video\/.*?\/pu\/vid\/(.*?)x(.*?)\/.*?.mp4/,k=function(t,i){var n=t;t=c[t]||t;var a=e.extend({},d);return e.has(a,t)&&(a[t]=!0),i&&i.sourceNetwork&&i.sourceNetwork.facebook&&i.picture&&(a.photo=!0),a._originalType=n,a},x=function(t){t=h[t]||t;var i=e.extend({},p);return e.has(i,t)&&(i[t]=!0),i},S=function(t){return t&&t.user?"https://twitter.com/"+t.user.screen_name+"/status/"+t.id_str:""},T={twitter:function(t,i){var s=!1,r=!1,o=[],u=n.defer();if(t.entities&&(t.entities.media&&t.entities.media.length&&(s=!0,e.each(t.entities.media,function(n){var s,r={},l=k(n.type);if(e.each(g,function(t,e){s=n.sizes[t],r[e]={url:(i.secure?n.media_url_https:n.media_url)+":"+t,short_url:n.url,width:s.w,height:s.h}}),l.photo)o.push({provider:x("twitter"),providerName:"twitter",type:l,link:S(t),photo_urls:r,author:t.user.screen_name});else if(l.video){var u=e(n.video_info.variants).filter(function(t){return"video/mp4"===t.content_type}).map(function(t){var e=r.huge.width,i=r.huge.height,n=w.exec(t.url);return n&&(e=parseInt(n[1],10),i=parseInt(n[2],10)),{url:t.url,content_type:t.content_type,bitrate:t.bitrate,width:e,height:i}}).sortBy(function(t){return t.height*t.width}).reverse().value();"animated_gif"===l._originalType&&(i=e.extend({},i,{loop_video:!0}));var d=a({video:u[0].url,image:r.huge.url,url:S(t)},i);o.push({provider:x("twitter"),providerName:"twitter",type:l,link:S(t),photo_urls:r,embed_html:d,author:t.user.screen_name,duration:n.video_info.duration_millis,video:u})}})),t.entities.urls&&t.entities.urls.length)){s=!0,r=!0;var d=[];e.each(t.entities.urls,function(t){var e=l.embedlyPromise(t.expanded_url,i);d.push(e),e.then(function(t){o=o.concat(t)})}),n.allSettled(d).then(function(){0===o.length?u.reject():(e.each(o,function(e){e.link=S(t)}),u.resolve(o))})}return r||(s&&0!==o.length?u.resolve(o):u.reject()),u.promise},facebook:function(t,i){var a=n.defer(),s=k(t.type||t.kind,t);if("comment"===t.kind&&t.attachment&&"photo"===t.attachment.type&&(t.picture=t.attachment.media.image.src,s.photo=!0),s.video){var r=l.embedlyPromise(t.link,i);r.then(function(t){a.resolve(t)},function(){a.reject()})}else if(s.photo||s.link){var o={};if(t.images&&t.images.length>0){var u=e.sortBy(t.images,"height"),d=m.slice().reverse();if(7===u.length)for(var c=[0,1,3,5,6],p=0;p<c.length;p++){var h=d[p],_=u[c[p]];o[h]={url:_.source,height:_.height,width:_.width}}else for(var p=0;p<d.length;p++){var _,h=d[p];_=p<u.length?u[p]:u[u.length-1],o[h]={url:_.source,height:_.height,width:_.width}}}else t.picture&&e.each(f,function(e,i){o[i]={url:t.picture}});var g;g=e.has(t,"from")?t.from.name:t.user.screen_name,a.resolve([{provider:x("facebook"),providerName:"facebook",type:s,photo_urls:o,link:t.link,name:t.name,caption:t.caption,description:t.description,author:g}]),a.author=e.has(t,"from")?t.from.name:t.user.screen_name}else a.reject();return a.promise},instagram:function(t,i){var a=n.defer();if("carousel"===t.type&&(t.type=t.carousel_media[0].type),t.images){var s=k(t.type);if(s.photo||s.video){var r={};e.each(m,function(e){r[e]=t.images[v[e]],r[e].url=r[e].url.replace(/^https?:/,"")});var o=x("instagram"),u="instagram";if(s.photo)a.resolve([{provider:o,providerName:u,type:s,link:t.link,photo_urls:r,author:t.user.username}]);else if(s.video){var d=l.embedlyPromise(t.link,i);d.then(function(t){a.resolve(t)},function(){a.reject()})}}}else a.reject();return a.promise},google:function(t){var i=n.defer(),a=[];if(t.object&&t.object.attachments&&t.object.attachments.length){var s,r,o;e.each(t.object.attachments,function(i){s=k(i.objectType),s.photo&&(o=y.test(i.image.url),r={},e.each(m,function(t){r[t]=o?e.extend({},i.image,{url:i.image.url.replace(/w[0-9]+-h[0-9]+/,_[t])}):e.extend({},i.fullImage,{url:i.fullImage.url})}),a.push({provider:x("google"),providerName:"google",type:s,link:t.url,photo_urls:r,author:t.actor.displayName}))})}return 0===a.length?i.reject():i.resolve(a),i.promise},youtube:function(t,i){var a=n.defer();if(t.snippet){var r,o=k(t.kind),l={};e.each(m,function(e){var i=t.snippet.thumbnails[b[e]];i&&(l[e]=i,l[e].url=l[e].url.replace(/^https?:/,""),r||(r=l[e]))}),e.each(m,function(e){var i=t.snippet.thumbnails[b[e]];i||(l[e]=r,l[e].url=l[e].url.replace(/^https?:/,""))});var u=x("youtube"),d="youtube",c="//www.youtube.com/embed/"+t.youtube_video_id+"?rel=0";i.autoplay_video&&(c+="&autoplay=1");var p=e.map(l,function(t,e){var i=n.defer(),a=new Image;return a.onload=function(){this.width!==t.width&&this.height!==t.height?i.resolve([e,{width:t.width,height:t.height,url:s({width:t.width,height:t.height,template:"youtube"})}]):i.resolve([e,t])},a.src=t.url,i.promise});n.all(p).then(function(i){var n=e.zipObject(i);a.resolve([{provider:u,providerName:d,type:o,link:t.link,photo_urls:n,author:t.channelTitle,embed_url:c}])})}else a.reject();return a.promise},getglue:function(t){var i=n.defer(),a=[];if(t.object){var s=k(t.object.objectType),r={},o=x("getglue"),l="getglue";s.photo?(e.each(m,function(e){r[e]={url:t.object.link}}),a.push({provider:o,providerName:l,type:s,photo_urls:r,link:t.object.link})):s.video&&(e.each(m,function(e){r[e]={url:t.object.image}}),a.push({provider:o,providerName:l,type:s,photo_urls:r,link:t.object.link,author:t.user.username}))}return a.length>0?i.resolve(a):i.reject(),i.promise}};return l}),define("media-meta/index",["./js/main"],function(t){return t}),define("media-meta",["media-meta/index"],function(t){return t}),define("massrel-js-backbone-2/MediaCollection",["./backbone","./MediaModel","media-meta"],function(t,e){return t.Collection.extend({model:e})}),function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return Te.call(t,e)}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(t){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var i=!0;return p(function(){return i&&(a(t),i=!1),e.apply(this,arguments)},e)}function r(t,e){_i[t]||(a(e),_i[t]=!0)}function o(t,e){return function(i){return f(t.call(this,i),e)}}function l(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function u(){}function d(t,e){e!==!1&&E(t),h(this,t),this._d=new Date(+t._d)}function c(t){var e=S(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*u+6e4*l+36e5*o,this._days=+r+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=be.localeData(),this._bubble()}function p(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e){var i,n,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ie.length>0)for(i in Ie)n=Ie[i],a=e[n],"undefined"!=typeof a&&(t[n]=a);return t}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function f(t,e,i){for(var n=""+Math.abs(t),a=t>=0;n.length<e;)n="0"+n;return(a?i?"+":"":"-")+n}function _(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function g(t,e){var i;return e=$(e,t),t.isBefore(e)?i=_(t,e):(i=_(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function v(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=be.duration(i,n),b(this,a,t),this}}function b(t,e,i,n){var a=e._milliseconds,s=e._days,r=e._months;n=null==n?!0:n,a&&t._d.setTime(+t._d+a*i),s&&he(t,"Date",pe(t,"Date")+s*i),r&&ce(t,pe(t,"Month")+r*i),n&&be.updateOffset(t,s||r)}function y(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function k(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&C(t[n])!==C(e[n]))&&r++;return r+s}function x(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ui[t]||di[e]||e}return t}function S(t){var e,n,a={};for(n in t)i(t,n)&&(e=x(n),e&&(a[e]=t[n]));return a}function T(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}be[e]=function(a,s){var r,o,l=be._locale[e],u=[];if("number"==typeof a&&(s=a,a=t),o=function(t){var e=be().utc().set(n,t);return l.call(be._locale,e,a||"")},null!=s)return o(s);for(r=0;i>r;r++)u.push(o(r));return u}}function C(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function M(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t,e,i){return oe(be([t,11,31+e-i]),e,i).week}function D(t){return P(t)?366:365}function P(t){return 0===t%4&&0!==t%100||0===t%400}function E(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Me]<0||t._a[Me]>11?Me:t._a[je]<1||t._a[je]>M(t._a[Ce],t._a[Me])?je:t._a[De]<0||t._a[De]>24||24===t._a[De]&&(0!==t._a[Pe]||0!==t._a[Ee]||0!==t._a[Ae])?De:t._a[Pe]<0||t._a[Pe]>59?Pe:t._a[Ee]<0||t._a[Ee]>59?Ee:t._a[Ae]<0||t._a[Ae]>999?Ae:-1,t._pf._overflowDayOfYear&&(Ce>e||e>je)&&(e=je),t._pf.overflow=e)}function A(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function L(t){return t?t.toLowerCase().replace("_","-"):t}function I(t){for(var e,i,n,a,s=0;s<t.length;){for(a=L(t[s]).split("-"),e=a.length,i=L(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=U(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(a,i,!0)>=e-1)break;e--}s++}return null}function U(t){var e=null;if(!Le[t]&&Ue)try{e=be.locale(),require("./locale/"+t),be.locale(e)}catch(i){}return Le[t]}function $(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(be.isMoment(t)||w(t)?+t:+be(t))-+i,i._d.setTime(+i._d+n),be.updateOffset(i,!1),i):be(t).local()}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,i,n=t.match(ze);for(e=0,i=n.length;i>e;e++)n[e]=fi[n[e]]?fi[n[e]]:F(n[e]);return function(a){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(a,t):n[e];return s}}function z(t,e){return t.isValid()?(e=O(e,t.localeData()),ci[e]||(ci[e]=R(e)),ci[e](t)):t.localeData().invalidDate()}function O(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Oe.lastIndex=0;n>=0&&Oe.test(t);)t=t.replace(Oe,i),Oe.lastIndex=0,n-=1;return t}function N(t,e){var i,n=e._strict;switch(t){case"Q":return Xe;case"DDDD":return Qe;case"YYYY":case"GGGG":case"gggg":return n?ti:qe;case"Y":case"G":case"g":return ii;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?ei:He;case"S":if(n)return Xe;case"SS":if(n)return Ke;case"SSS":if(n)return Qe;case"DDD":return Ve;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Be;case"a":case"A":return e._locale._meridiemParse;case"x":return Je;case"X":return Ze;case"Z":case"ZZ":return We;case"T":return Ge;case"SSSS":return Ye;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Ke:Ne;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ne;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(Z(J(t.replace("\\","")),"i"))}}function V(t){t=t||"";var e=t.match(We)||[],i=e[e.length-1]||[],n=(i+"").match(oi)||["-",0,0],a=+(60*n[1])+C(n[2]);return"+"===n[0]?-a:a}function q(t,e,i){var n,a=i._a;switch(t){case"Q":null!=e&&(a[Me]=3*(C(e)-1));break;case"M":case"MM":null!=e&&(a[Me]=C(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?a[Me]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[je]=C(e));break;case"Do":null!=e&&(a[je]=C(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=C(e));break;case"YY":a[Ce]=be.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Ce]=C(e);break;case"a":case"A":i._isPm=i._locale.isPM(e);break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":a[De]=C(e);break;case"m":case"mm":a[Pe]=C(e);break;case"s":case"ss":a[Ee]=C(e);break;case"S":case"SS":case"SSS":case"SSSS":a[Ae]=C(1e3*("0."+e));break;case"x":i._d=new Date(C(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=V(e);break;case"dd":case"ddd":case"dddd":n=i._locale.weekdaysParse(e),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=C(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=be.parseTwoDigitYear(e)}}function H(t){var i,n,a,s,r,o,l;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(r=1,o=4,n=e(i.GG,t._a[Ce],oe(be(),1,4).year),a=e(i.W,1),s=e(i.E,1)):(r=t._locale._week.dow,o=t._locale._week.doy,n=e(i.gg,t._a[Ce],oe(be(),r,o).year),a=e(i.w,1),null!=i.d?(s=i.d,r>s&&++a):s=null!=i.e?i.e+r:r),l=le(n,a,s,o,r),t._a[Ce]=l.year,t._dayOfYear=l.dayOfYear}function Y(t){var i,n,a,s,r=[];if(!t._d){for(a=W(t),t._w&&null==t._a[je]&&null==t._a[Me]&&H(t),t._dayOfYear&&(s=e(t._a[Ce],a[Ce]),t._dayOfYear>D(s)&&(t._pf._overflowDayOfYear=!0),n=ne(s,0,t._dayOfYear),t._a[Me]=n.getUTCMonth(),t._a[je]=n.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=r[i]=a[i];for(;7>i;i++)t._a[i]=r[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[De]&&0===t._a[Pe]&&0===t._a[Ee]&&0===t._a[Ae]&&(t._nextDay=!0,t._a[De]=0),t._d=(t._useUTC?ne:ie).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm),t._nextDay&&(t._a[De]=24)}}function B(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Y(t))}function W(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function G(e){if(e._f===be.ISO_8601)return K(e),void 0;e._a=[],e._pf.empty=!0;var i,n,a,s,r,o=""+e._i,l=o.length,u=0;for(a=O(e._f,e._locale).match(ze)||[],i=0;i<a.length;i++)s=a[i],n=(o.match(N(s,e))||[])[0],n&&(r=o.substr(0,o.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(n)+n.length),u+=n.length),fi[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),q(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-u,o.length>0&&e._pf.unusedInput.push(o),e._pf.bigHour===!0&&e._a[De]<=12&&(e._pf.bigHour=t),e._isPm&&e._a[De]<12&&(e._a[De]+=12),e._isPm===!1&&12===e._a[De]&&(e._a[De]=0),Y(e),E(e)}function J(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a})}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t){var e,i,a,s,r;if(0===t._f.length)return t._pf.invalidFormat=!0,t._d=new Date(0/0),void 0;for(s=0;s<t._f.length;s++)r=0,e=h({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=n(),e._f=t._f[s],G(e),A(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==a||a>r)&&(a=r,i=e));p(t,i||e)}function K(t){var e,i,n=t._i,a=ni.exec(n);if(a){for(t._pf.iso=!0,e=0,i=si.length;i>e;e++)if(si[e][1].exec(n)){t._f=si[e][0]+(a[6]||" ");break}for(e=0,i=ri.length;i>e;e++)if(ri[e][1].exec(n)){t._f+=ri[e][0];break}n.match(We)&&(t._f+="Z"),G(t)}else t._isValid=!1}function Q(t){K(t),t._isValid===!1&&(delete t._isValid,be.createFromInputFallback(t))}function te(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function ee(e){var i,n=e._i;n===t?e._d=new Date:w(n)?e._d=new Date(+n):null!==(i=$e.exec(n))?e._d=new Date(+i[1]):"string"==typeof n?Q(e):y(n)?(e._a=te(n.slice(0),function(t){return parseInt(t,10)}),Y(e)):"object"==typeof n?B(e):"number"==typeof n?e._d=new Date(n):be.createFromInputFallback(e)}function ie(t,e,i,n,a,s,r){var o=new Date(t,e,i,n,a,s,r);return 1970>t&&o.setFullYear(t),o}function ne(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ae(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function se(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}function re(t,e,i){var n=be.duration(t).abs(),a=Se(n.as("s")),s=Se(n.as("m")),r=Se(n.as("h")),o=Se(n.as("d")),l=Se(n.as("M")),u=Se(n.as("y")),d=a<pi.s&&["s",a]||1===s&&["m"]||s<pi.m&&["mm",s]||1===r&&["h"]||r<pi.h&&["hh",r]||1===o&&["d"]||o<pi.d&&["dd",o]||1===l&&["M"]||l<pi.M&&["MM",l]||1===u&&["y"]||["yy",u];return d[2]=e,d[3]=+t>0,d[4]=i,se.apply({},d)}function oe(t,e,i){var n,a=i-e,s=i-t.day();return s>a&&(s-=7),a-7>s&&(s+=7),n=be(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function le(t,e,i,n,a){var s,r,o=ne(t,0,1).getUTCDay();return o=0===o?7:o,i=null!=i?i:a,s=a-o+(o>n?7:0)-(a>o?7:0),r=7*(e-1)+(i-a)+s+1,{year:r>0?t:t-1,dayOfYear:r>0?r:D(t-1)+r}}function ue(e){var i,n=e._i,a=e._f;return e._locale=e._locale||be.localeData(e._l),null===n||a===t&&""===n?be.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),be.isMoment(n)?new d(n,!0):(a?y(a)?X(e):G(e):ee(e),i=new d(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function de(t,e){var i,n;if(1===e.length&&y(e[0])&&(e=e[0]),!e.length)return be();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function ce(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),M(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function pe(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function he(t,e,i){return"Month"===e?ce(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function me(t,e){return function(i){return null!=i?(he(this,t,i),be.updateOffset(this,e),this):pe(this,t)}}function fe(t){return 400*t/146097}function _e(t){return 146097*t/400}function ge(t){be.duration.fn[t]=function(){return this._data[t]}}function ve(t){"undefined"==typeof ender&&(ye=xe.moment,xe.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):be)}for(var be,ye,we,ke="2.8.4",xe="undefined"!=typeof global?global:this,Se=Math.round,Te=Object.prototype.hasOwnProperty,Ce=0,Me=1,je=2,De=3,Pe=4,Ee=5,Ae=6,Le={},Ie=[],Ue="undefined"!=typeof module&&module&&module.exports,$e=/^\/?Date\((\-?\d+)/i,Fe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Re=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ze=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Oe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ne=/\d\d?/,Ve=/\d{1,3}/,qe=/\d{1,4}/,He=/[+\-]?\d{1,6}/,Ye=/\d+/,Be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,We=/Z|[\+\-]\d\d:?\d\d/gi,Ge=/T/i,Je=/[\+\-]?\d+/,Ze=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d/,Ke=/\d\d/,Qe=/\d{3}/,ti=/\d{4}/,ei=/[+-]?\d{6}/,ii=/[+-]?\d+/,ni=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ai="YYYY-MM-DDTHH:mm:ssZ",si=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ri=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],oi=/([\+\-]|\d\d)/gi,li=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ui={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},di={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ci={},pi={s:45,m:45,h:22,d:26,M:11},hi="DDD w W M D d".split(" "),mi="M D H h m s w W".split(" "),fi={M:function(){return this.month()+1
},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return f(C(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(C(t/60),2)+":"+f(C(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(C(t/60),2)+f(C(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_i={},gi=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];hi.length;)we=hi.pop(),fi[we+"o"]=l(fi[we],we);for(;mi.length;)we=mi.pop(),fi[we+we]=o(fi[we],2);fi.DDDD=o(fi.DDD,3),p(u.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=be.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=be([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var a=this._relativeTime[i];return"function"==typeof a?a(t,e,i,n):a.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return oe(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(e,i,a,s){var r;return"boolean"==typeof a&&(s=a,a=t),r={},r._isAMomentObject=!0,r._i=e,r._f=i,r._l=a,r._strict=s,r._isUTC=!1,r._pf=n(),ue(r)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),be.min=function(){var t=[].slice.call(arguments,0);return de("isBefore",t)},be.max=function(){var t=[].slice.call(arguments,0);return de("isAfter",t)},be.utc=function(e,i,a,s){var r;return"boolean"==typeof a&&(s=a,a=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=a,r._i=e,r._f=i,r._strict=s,r._pf=n(),ue(r).utc()},be.unix=function(t){return be(1e3*t)},be.duration=function(t,e){var n,a,s,r,o=t,l=null;return be.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(l=Fe.exec(t))?(n="-"===l[1]?-1:1,o={y:0,d:C(l[je])*n,h:C(l[De])*n,m:C(l[Pe])*n,s:C(l[Ee])*n,ms:C(l[Ae])*n}):(l=Re.exec(t))?(n="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},o={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):"object"==typeof o&&("from"in o||"to"in o)&&(r=g(be(o.from),be(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new c(o),be.isDuration(t)&&i(t,"_locale")&&(a._locale=t._locale),a},be.version=ke,be.defaultFormat=ai,be.ISO_8601=function(){},be.momentProperties=Ie,be.updateOffset=function(){},be.relativeTimeThreshold=function(e,i){return pi[e]===t?!1:i===t?pi[e]:(pi[e]=i,!0)},be.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return be.locale(t,e)}),be.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?be.defineLocale(t,e):be.localeData(t),i&&(be.duration._locale=be._locale=i)),be._locale._abbr},be.defineLocale=function(t,e){return null!==e?(e.abbr=t,Le[t]||(Le[t]=new u),Le[t].set(e),be.locale(t),Le[t]):(delete Le[t],null)},be.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return be.localeData(t)}),be.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return be._locale;if(!y(t)){if(e=U(t))return e;t=[t]}return I(t)},be.isMoment=function(t){return t instanceof d||null!=t&&i(t,"_isAMomentObject")},be.isDuration=function(t){return t instanceof c};for(we=gi.length-1;we>=0;--we)T(gi[we]);be.normalizeUnits=function(t){return x(t)},be.invalid=function(t){var e=be.utc(0/0);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(t){return C(t)+(C(t)>68?1900:2e3)},p(be.fn=d.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=be(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=z(this,t||be.defaultFormat);return this.localeData().postformat(e)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(t,e,i){var n,a,s,r=$(t,this),o=6e4*(this.zone()-r.zone());return e=x(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),s=this-be(this).startOf("month")-(r-be(r).startOf("month")),s-=6e4*(this.zone()-be(this).startOf("month").zone()-(r.zone()-be(r).startOf("month").zone())),a+=s/n,"year"===e&&(a/=12)):(n=this-r,a="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?a:m(a)},from:function(t,e){return be.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(be(),t)},calendar:function(t){var e=t||be(),i=$(e,this).startOf("day"),n=this.diff(i,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,be(e)))},isLeapYear:function(){return P(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ae(t,this.localeData()),this.add(t-e,"d")):e},month:me("Month",!0),startOf:function(t){switch(t=x(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=x(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this>+t):(i=be.isMoment(t)?+t:+be(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+t>+this):(i=be.isMoment(t)?+t:+be(t),+this.clone().endOf(e)<i)},isSame:function(t,e){var i;return e=x(e||"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this===+t):(i=+be(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),t>this?this:t}),zone:function(t,e){var i,n=this._offset||0;return null==t?this._isUTC?n:this._dateTzOffset():("string"==typeof t&&(t=V(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.subtract(i,"m"),n!==t&&(!e||this._changeInProgress?b(this,be.duration(n-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?be(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(t){var e=Se((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=oe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=oe(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=oe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return j(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return j(this.year(),t.dow,t.doy)},get:function(t){return t=x(t),this[t]()},set:function(t,e){return t=x(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var i;return e===t?this._locale._abbr:(i=be.localeData(e),null!=i&&(this._locale=i),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),be.fn.millisecond=be.fn.milliseconds=me("Milliseconds",!1),be.fn.second=be.fn.seconds=me("Seconds",!1),be.fn.minute=be.fn.minutes=me("Minutes",!1),be.fn.hour=be.fn.hours=me("Hours",!0),be.fn.date=me("Date",!0),be.fn.dates=s("dates accessor is deprecated. Use date instead.",me("Date",!0)),be.fn.year=me("FullYear",!0),be.fn.years=s("years accessor is deprecated. Use year instead.",me("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,p(be.duration.fn=c.prototype,{_bubble:function(){var t,e,i,n=this._milliseconds,a=this._days,s=this._months,r=this._data,o=0;r.milliseconds=n%1e3,t=m(n/1e3),r.seconds=t%60,e=m(t/60),r.minutes=e%60,i=m(e/60),r.hours=i%24,a+=m(i/24),o=m(fe(a)),a-=m(_e(o)),s+=m(a/30),a%=30,o+=m(s/12),s%=12,r.days=a,r.months=s,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*C(this._months/12)},humanize:function(t){var e=re(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=be.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=be.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=x(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=x(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*fe(e),"month"===t?i:i/12;switch(e=this._days+Math.round(_e(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 60*24*e+this._milliseconds/6e4;case"second":return 60*60*24*e+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*e)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||a||s?"T":"")+(n?n+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale}}),be.duration.fn.toString=be.duration.fn.toISOString;for(we in li)i(li,we)&&ge(we.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Ue?module.exports=be:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(xe.moment=ye),be}),ve(!0)):ve()}.call(this),define("massrel-js-backbone-2/StatusModel",["require","./backbone","./MediaCollection","lodash","moment"],function(t){var e=t("./backbone"),i=t("./MediaCollection"),n=t("lodash"),a=t("moment"),s=new RegExp("(https?:)?//i\\.embed\\.ly/\\d+/image"),r={minute:a.duration(1,"minute").asMilliseconds(),hour:a.duration(1,"hour").asMilliseconds(),day:a.duration(1,"day").asMilliseconds(),week:a.duration(1,"week").asMilliseconds(),month:a.duration(1,"month").asMilliseconds()};return e.Model.extend({idAttribute:"_id",defaults:function(){return{retweet:!1,formattedDate:"",relativeDateFormat:"display",formattedText:"",klout:null,formattedStory:"",config:{},place:null,media:new i}},constructor:function(t,i){i=i||{},i.parse=!0,e.Model.call(this,t,i),this.generateFormattedDates()},embedlyImageProxyUrl:function(t){return s.test(t)||(t="//embedly.massrelevance.com/1/image?key=fd577f7497bf11e0b95d4040d3dc5c07&url="+window.encodeURIComponent(t)),t},parse:function(t){return t.raw=n.cloneDeep(t),t._id=n.uniqueId(),t.klout=this.kloutData(t),t},kloutData:function(t){var e=t.massrel&&t.massrel.klout||null;return e&&e.score&&(e.score_floor=Math.floor(window.parseInt(e.score))),e},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("created_at")))},formattedDates:function(t,e){var i={display:t,"short":t,full:t,timestamp:t},n=a(t,e);return n.isValid()&&(i={display:this.displayDate(n),"short":this.shortDate(n),full:this.fullDate(n),timestamp:this.timestamp(n)}),i},displayDate:function(t){return t.fromNow()},shortDate:function(t){var e,i=a().diff(t),n=a.duration(i);return e=i<r.minute?n.seconds()+"s":i<r.hour?n.minutes()+"m":i<r.day?n.hours()+"h":i<r.week?n.days()+"d":i<r.month?n.weeks()+"w":t.format("M/D/YY")},fullDate:function(t){return t.format("lll")},timestamp:function(t){return t.toISOString()}})}),function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var i=s.txt.regexen[e]||"";return"string"!=typeof i&&(i=i.source),i}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,i){return e[i]||""})}function i(t,e,i){var n=String.fromCharCode(e);return i!==e&&(n+="-"+String.fromCharCode(i)),t.push(n),t}function n(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function a(t,e,i){return i?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if("undefined"==typeof s||null===s)var s={};s.txt={},s.txt.regexen={};var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};s.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return r[t]})},s.txt.regexSupplant=t,s.txt.stringSupplant=e,s.txt.addCharsToCharClass=i;var o=String.fromCharCode,l=[o(32),o(133),o(160),o(5760),o(6158),o(8232),o(8233),o(8239),o(8287),o(12288)];i(l,9,13),i(l,8192,8202);var u=[o(65534),o(65279),o(65535)];i(u,8234,8238),s.txt.regexen.spaces_group=t(l.join("")),s.txt.regexen.spaces=t("["+l.join("")+"]"),s.txt.regexen.invalid_chars_group=t(u.join("")),s.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,s.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,s.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var d=[];i(d,192,214),i(d,216,246),i(d,248,255),i(d,256,591),i(d,595,596),i(d,598,599),i(d,601,601),i(d,603,603),i(d,611,611),i(d,616,616),i(d,623,623),i(d,626,626),i(d,649,649),i(d,651,651),i(d,699,699),i(d,768,879),i(d,7680,7935),s.txt.regexen.latinAccentChars=t(d.join(""));var c="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︭",p="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",h="_‌‍꙾־׳״゛゜゠・〃་༌·";s.txt.regexen.hashSigns=/[#＃]/,s.txt.regexen.hashtagAlpha=new RegExp("["+c+"]"),s.txt.regexen.hashtagAlphaNumeric=new RegExp("["+c+p+h+"]"),s.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),s.txt.regexen.hashtagBoundary=new RegExp("(?:^|$|[^&"+c+p+h+"])"),s.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),s.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,s.txt.regexen.atSigns=/[@＠]/,s.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),s.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),s.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),s.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),s.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,s.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",s.txt.regexen),s.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),s.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),s.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),s.txt.regexen.validGTLD=t(RegExp("(?:(?:abb|abbott|abogado|academy|accenture|accountant|accountants|aco|active|actor|ads|adult|aeg|aero|afl|agency|aig|airforce|airtel|allfinanz|alsace|amsterdam|android|apartments|app|aquarelle|archi|army|arpa|asia|associates|attorney|auction|audio|auto|autos|axa|azure|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bbc|bbva|bcn|beer|bentley|berlin|best|bet|bharti|bible|bid|bike|bing|bingo|bio|biz|black|blackfriday|bloomberg|blue|bmw|bnl|bnpparibas|boats|bond|boo|boots|boutique|bradesco|bridgestone|broker|brother|brussels|budapest|build|builders|business|buzz|bzh|cab|cafe|cal|camera|camp|cancerresearch|canon|capetown|capital|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|ceb|center|ceo|cern|cfa|cfd|chanel|channel|chat|cheap|chloe|christmas|chrome|church|cisco|citic|city|claims|cleaning|click|clinic|clothing|cloud|club|coach|codes|coffee|college|cologne|com|commbank|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|corsica|country|coupons|courses|credit|creditcard|cricket|crown|crs|cruises|cuisinella|cymru|cyou|dabur|dad|dance|date|dating|datsun|day|dclk|deals|degree|delivery|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dnp|docs|dog|doha|domains|doosan|download|drive|durban|dvag|earth|eat|edu|education|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|erni|esq|estate|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|faith|family|fan|fans|farm|fashion|feedback|film|finance|financial|firmdale|fish|fishing|fit|fitness|flights|florist|flowers|flsmidth|fly|foo|football|forex|forsale|forum|foundation|frl|frogans|fund|furniture|futbol|fyi|gal|gallery|game|garden|gbiz|gdn|gent|genting|ggee|gift|gifts|gives|giving|glass|gle|global|globo|gmail|gmo|gmx|gold|goldpoint|golf|goo|goog|google|gop|gov|graphics|gratis|green|gripe|group|guge|guide|guitars|guru|hamburg|hangout|haus|healthcare|help|here|hermes|hiphop|hitachi|hiv|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hsbc|ibm|icbc|ice|icu|ifm|iinet|immo|immobilien|industries|infiniti|info|ing|ink|institute|insure|int|international|investments|ipiranga|irish|ist|istanbul|itau|iwc|java|jcb|jetzt|jewelry|jlc|jll|jobs|joburg|jprs|juegos|kaufen|kddi|kim|kitchen|kiwi|koeln|komatsu|krd|kred|kyoto|lacaixa|lancaster|land|lasalle|lat|latrobe|law|lawyer|lds|lease|leclerc|legal|lexus|lgbt|liaison|lidl|life|lighting|limited|limo|link|live|lixil|loan|loans|lol|london|lotte|lotto|love|ltda|lupin|luxe|luxury|madrid|maif|maison|man|management|mango|market|marketing|markets|marriott|mba|media|meet|melbourne|meme|memorial|men|menu|miami|microsoft|mil|mini|mma|mobi|moda|moe|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mtn|mtpc|museum|nadex|nagoya|name|navy|nec|net|netbank|network|neustar|new|news|nexus|ngo|nhk|nico|ninja|nissan|nokia|nra|nrw|ntt|nyc|office|okinawa|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|osaka|otsuka|ovh|page|panerai|paris|partners|parts|party|pet|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pink|pizza|place|play|plumbing|plus|pohl|poker|porn|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|racing|realtor|realty|recipes|red|redstone|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rich|ricoh|rio|rip|rocks|rodeo|rsvp|ruhr|run|ryukyu|saarland|sakura|sale|samsung|sandvik|sandvikcoromant|sanofi|sap|sarl|saxo|sca|scb|schmidt|scholarships|school|schule|schwarz|science|scor|scot|seat|seek|sener|services|sew|sex|sexy|shiksha|shoes|show|shriram|singles|site|ski|sky|skype|sncf|soccer|social|software|sohu|solar|solutions|sony|soy|space|spiegel|spreadbetting|srl|starhub|statoil|studio|study|style|sucks|supplies|supply|support|surf|surgery|suzuki|swatch|swiss|sydney|systems|taipei|tatamotors|tatar|tattoo|tax|taxi|team|tech|technology|tel|telefonica|temasek|tennis|thd|theater|tickets|tienda|tips|tires|tirol|today|tokyo|tools|top|toray|toshiba|tours|town|toyota|toys|trade|trading|training|travel|trust|tui|ubs|university|uno|uol|vacations|vegas|ventures|vermögensberater|vermögensberatung|versicherung|vet|viajes|video|villas|vin|vision|vista|vistaprint|vlaanderen|vodka|vote|voting|voto|voyage|wales|walter|wang|watch|webcam|website|wed|wedding|weir|whoswho|wien|wiki|williamhill|win|windows|wine|wme|work|works|world|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yandex|yodobashi|yoga|yokohama|youtube|zip|zone|zuerich|дети|ком|москва|онлайн|орг|рус|сайт|קום|بازار|شبكة|كوم|موقع|कॉम|नेट|संगठन|คอม|みんな|グーグル|コム|世界|中信|中文网|企业|佛山|信息|健康|八卦|公司|公益|商城|商店|商标|在线|大拿|娱乐|工行|广东|慈善|我爱你|手机|政务|政府|新闻|时尚|机构|淡马锡|游戏|点看|移动|组织机构|网址|网店|网络|谷歌|集团|飞利浦|餐厅|닷넷|닷컴|삼성|onion)(?=[^0-9a-zA-Z@]|$))")),s.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бел|мкд|мон|рф|срб|укр|қаз|հայ|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عراق|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|澳門|香港|한국)(?=[^0-9a-zA-Z@]|$))")),s.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),s.txt.regexen.validSpecialCCTLD=t(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),s.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),s.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),s.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),s.txt.regexen.validSpecialShortDomain=t(/^#{validDomainName}#{validSpecialCCTLD}$/i),s.txt.regexen.validPortNumber=t(/[0-9]+/),s.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),s.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),s.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),s.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),s.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,s.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,s.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),s.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,s.txt.regexen.urlHasProtocol=/^https?:\/\//i,s.txt.regexen.urlHasHttps=/^https:\/\//i,s.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,s.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),s.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,s.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,s.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,s.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),s.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,s.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),s.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,s.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),s.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,s.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),s.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,s.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,s.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,s.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),s.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),s.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,s.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,s.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,s.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),s.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),s.txt.regexen.validateUrlPort=/[0-9]{1,5}/,s.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),s.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),s.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),s.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),s.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),s.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");
var m="tweet-url list-slug",f="tweet-url username",_="tweet-url hashtag",g="tweet-url cashtag",v={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},b={disabled:!0,readonly:!0,multiple:!0,checked:!0};s.txt.tagAttrs=function(t){var e="";for(var i in t){var n=t[i];b[i]&&(n=n?i:null),null!=n&&(e+=" "+s.txt.htmlEscape(i)+'="'+s.txt.htmlEscape(n.toString())+'"')}return e},s.txt.linkToText=function(t,i,n,a){a.suppressNoFollow||(n.rel="nofollow"),a.linkAttributeBlock&&a.linkAttributeBlock(t,n),a.linkTextBlock&&(i=a.linkTextBlock(t,i));var r={text:i,attr:s.txt.tagAttrs(n)};return e("<a#{attr}>#{text}</a>",r)},s.txt.linkToTextWithSymbol=function(t,e,i,n,a){var r=a.symbolTag?"<"+a.symbolTag+">"+e+"</"+a.symbolTag+">":e;i=s.txt.htmlEscape(i);var o=a.textWithSymbolTag?"<"+a.textWithSymbolTag+">"+i+"</"+a.textWithSymbolTag+">":i;return a.usernameIncludeSymbol||!e.match(s.txt.regexen.atSigns)?s.txt.linkToText(t,r+o,n,a):r+s.txt.linkToText(t,o,n,a)},s.txt.linkToHashtag=function(t,e,i){var a=e.substring(t.indices[0],t.indices[0]+1),r=s.txt.htmlEscape(t.hashtag),o=n(i.htmlAttrs||{});return o.href=i.hashtagUrlBase+r,o.title="#"+r,o["class"]=i.hashtagClass,r.charAt(0).match(s.txt.regexen.rtl_chars)&&(o["class"]+=" rtl"),i.targetBlank&&(o.target="_blank"),s.txt.linkToTextWithSymbol(t,a,r,o,i)},s.txt.linkToCashtag=function(t,e,i){var a=s.txt.htmlEscape(t.cashtag),r=n(i.htmlAttrs||{});return r.href=i.cashtagUrlBase+a,r.title="$"+a,r["class"]=i.cashtagClass,i.targetBlank&&(r.target="_blank"),s.txt.linkToTextWithSymbol(t,"$",a,r,i)},s.txt.linkToMentionAndList=function(t,e,i){var a=e.substring(t.indices[0],t.indices[0]+1),r=s.txt.htmlEscape(t.screenName),o=s.txt.htmlEscape(t.listSlug),l=t.listSlug&&!i.suppressLists,u=n(i.htmlAttrs||{});return u["class"]=l?i.listClass:i.usernameClass,u.href=l?i.listUrlBase+r+o:i.usernameUrlBase+r,l||i.suppressDataScreenName||(u["data-screen-name"]=r),i.targetBlank&&(u.target="_blank"),s.txt.linkToTextWithSymbol(t,a,l?r+o:r,u,i)},s.txt.linkToUrl=function(t,e,i){var a=t.url,r=a,o=s.txt.htmlEscape(r),l=i.urlEntities&&i.urlEntities[a]||t;l.display_url&&(o=s.txt.linkTextWithEntity(l,i));var u=n(i.htmlAttrs||{});return a.match(s.txt.regexen.urlHasProtocol)||(a="http://"+a),u.href=a,i.targetBlank&&(u.target="_blank"),i.urlClass&&(u["class"]=i.urlClass),i.urlTarget&&(u.target=i.urlTarget),!i.title&&l.display_url&&(u.title=l.expanded_url),s.txt.linkToText(t,o,u,i)},s.txt.linkTextWithEntity=function(t,i){var n=t.display_url,a=t.expanded_url,r=n.replace(/…/g,"");if(-1!=a.indexOf(r)){var o=a.indexOf(r),l={displayUrlSansEllipses:r,beforeDisplayUrl:a.substr(0,o),afterDisplayUrl:a.substr(o+r.length),precedingEllipsis:n.match(/^…/)?"…":"",followingEllipsis:n.match(/…$/)?"…":""};for(var u in l)l.hasOwnProperty(u)&&(l[u]=s.txt.htmlEscape(l[u]));return l.invisible=i.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",l)}return n},s.txt.autoLinkEntities=function(t,e,i){i=n(i||{}),i.hashtagClass=i.hashtagClass||_,i.hashtagUrlBase=i.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",i.cashtagClass=i.cashtagClass||g,i.cashtagUrlBase=i.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",i.listClass=i.listClass||m,i.usernameClass=i.usernameClass||f,i.usernameUrlBase=i.usernameUrlBase||"https://twitter.com/",i.listUrlBase=i.listUrlBase||"https://twitter.com/",i.htmlAttrs=s.txt.extractHtmlAttrsFromOptions(i),i.invisibleTagAttrs=i.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var a,r,o;if(i.urlEntities){for(a={},r=0,o=i.urlEntities.length;o>r;r++)a[i.urlEntities[r].url]=i.urlEntities[r];i.urlEntities=a}var l="",u=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var d=i.htmlEscapeNonEntities?s.txt.htmlEscape:function(t){return t},r=0;r<e.length;r++){var c=e[r];l+=d(t.substring(u,c.indices[0])),c.url?l+=s.txt.linkToUrl(c,t,i):c.hashtag?l+=s.txt.linkToHashtag(c,t,i):c.screenName?l+=s.txt.linkToMentionAndList(c,t,i):c.cashtag&&(l+=s.txt.linkToCashtag(c,t,i)),u=c.indices[1]}return l+=d(t.substring(u,t.length))},s.txt.autoLinkWithJSON=function(t,e,i){if(e.user_mentions)for(var n=0;n<e.user_mentions.length;n++)e.user_mentions[n].screenName=e.user_mentions[n].screen_name;if(e.hashtags)for(var n=0;n<e.hashtags.length;n++)e.hashtags[n].hashtag=e.hashtags[n].text;if(e.symbols)for(var n=0;n<e.symbols.length;n++)e.symbols[n].cashtag=e.symbols[n].text;var a=[];for(var r in e)a=a.concat(e[r]);return s.txt.modifyIndicesFromUnicodeToUTF16(t,a),s.txt.autoLinkEntities(t,a,i)},s.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var i in t){var n=t[i];v[i]||(b[i]&&(n=n?i:null),null!=n&&(e[i]=n))}return e},s.txt.autoLink=function(t,e){var i=s.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return s.txt.autoLinkEntities(t,i,e)},s.txt.autoLinkUsernamesOrLists=function(t,e){var i=s.txt.extractMentionsOrListsWithIndices(t);return s.txt.autoLinkEntities(t,i,e)},s.txt.autoLinkHashtags=function(t,e){var i=s.txt.extractHashtagsWithIndices(t);return s.txt.autoLinkEntities(t,i,e)},s.txt.autoLinkCashtags=function(t,e){var i=s.txt.extractCashtagsWithIndices(t);return s.txt.autoLinkEntities(t,i,e)},s.txt.autoLinkUrlsCustom=function(t,e){var i=s.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return s.txt.autoLinkEntities(t,i,e)},s.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],i=1;i<t.length;i++)e.indices[1]>t[i].indices[0]?(t.splice(i,1),i--):e=t[i]},s.txt.extractEntitiesWithIndices=function(t,e){var i=s.txt.extractUrlsWithIndices(t,e).concat(s.txt.extractMentionsOrListsWithIndices(t)).concat(s.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(s.txt.extractCashtagsWithIndices(t));return 0==i.length?[]:(s.txt.removeOverlappingEntities(i),i)},s.txt.extractMentions=function(t){for(var e=[],i=s.txt.extractMentionsWithIndices(t),n=0;n<i.length;n++){var a=i[n].screenName;e.push(a)}return e},s.txt.extractMentionsWithIndices=function(t){for(var e,i=[],n=s.txt.extractMentionsOrListsWithIndices(t),a=0;a<n.length;a++)e=n[a],""==e.listSlug&&i.push({screenName:e.screenName,indices:e.indices});return i},s.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(s.txt.regexen.atSigns))return[];var e=[];return t.replace(s.txt.regexen.validMentionOrList,function(t,i,n,a,r,o,l){var u=l.slice(o+t.length);if(!u.match(s.txt.regexen.endMentionMatch)){r=r||"";var d=o+i.length,c=d+a.length+r.length+1;e.push({screenName:a,listSlug:r,indices:[d,c]})}}),e},s.txt.extractReplies=function(t){if(!t)return null;var e=t.match(s.txt.regexen.validReply);return!e||RegExp.rightContext.match(s.txt.regexen.endMentionMatch)?null:e[1]},s.txt.extractUrls=function(t,e){for(var i=[],n=s.txt.extractUrlsWithIndices(t,e),a=0;a<n.length;a++)i.push(n[a].url);return i},s.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var i=[];s.txt.regexen.extractUrl.exec(t);){var n=RegExp.$2,a=RegExp.$3,r=RegExp.$4,o=RegExp.$5,l=RegExp.$7,u=s.txt.regexen.extractUrl.lastIndex,d=u-a.length;if(r)a.match(s.txt.regexen.validTcoUrl)&&(a=RegExp.lastMatch,u=d+a.length),i.push({url:a,indices:[d,u]});else{if(!e.extractUrlsWithoutProtocol||n.match(s.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var c=null,p=0;if(o.replace(s.txt.regexen.validAsciiDomain,function(t){var e=o.indexOf(t,p);p=e+t.length,c={url:t,indices:[d+e,d+p]},(l||t.match(s.txt.regexen.validSpecialShortDomain)||!t.match(s.txt.regexen.invalidShortDomain))&&i.push(c)}),null==c)continue;l&&(c.url=a.replace(o,c.url),c.indices[1]=u)}}return i},s.txt.extractHashtags=function(t){for(var e=[],i=s.txt.extractHashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].hashtag);return e},s.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(s.txt.regexen.hashSigns))return[];var i=[];if(t.replace(s.txt.regexen.validHashtag,function(t,e,n,a,r,o){var l=o.slice(r+t.length);if(!l.match(s.txt.regexen.endHashtagMatch)){var u=r+e.length,d=u+a.length+1;i.push({hashtag:a,indices:[u,d]})}}),e.checkUrlOverlap){var n=s.txt.extractUrlsWithIndices(t);if(n.length>0){var a=i.concat(n);s.txt.removeOverlappingEntities(a),i=[];for(var r=0;r<a.length;r++)a[r].hashtag&&i.push(a[r])}}return i},s.txt.extractCashtags=function(t){for(var e=[],i=s.txt.extractCashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].cashtag);return e},s.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(s.txt.regexen.validCashtag,function(t,i,n,a,s){var r=s+i.length,o=r+a.length+1;e.push({cashtag:a,indices:[r,o]})}),e},s.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){s.txt.convertUnicodeIndices(t,e,!1)},s.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){s.txt.convertUnicodeIndices(t,e,!0)},s.txt.getUnicodeTextLength=function(t){return t.replace(s.txt.regexen.non_bmp_code_pairs," ").length},s.txt.convertUnicodeIndices=function(t,e,i){if(0!=e.length){var n=0,a=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var s=0,r=e[0];n<t.length;){if(r.indices[0]==(i?n:a)){var o=r.indices[1]-r.indices[0];if(r.indices[0]=i?a:n,r.indices[1]=r.indices[0]+o,s++,s==e.length)break;r=e[s]}var l=t.charCodeAt(n);l>=55296&&56319>=l&&n<t.length-1&&(l=t.charCodeAt(n+1),l>=56320&&57343>=l&&n++),a++,n++}}},s.txt.splitTags=function(t){for(var e,i,n=t.split("<"),a=[],s=0;s<n.length;s+=1)if(i=n[s]){e=i.split(">");for(var r=0;r<e.length;r+=1)a.push(e[r])}else a.push("");return a},s.txt.hitHighlight=function(t,e,i){var n="em";if(e=e||[],i=i||{},0===e.length)return t;var a,r,o,l,u,d,c,p=i.tag||n,h=["<"+p+">","</"+p+">"],m=s.txt.splitTags(t),f="",_=0,g=m[0],v=0,b=0,y=!1,w=g,k=[];for(a=0;a<e.length;a+=1)for(r=0;r<e[a].length;r+=1)k.push(e[a][r]);for(o=0;o<k.length;o+=1){for(l=k[o],u=h[o%2],d=!1;null!=g&&l>=v+g.length;)f+=w.slice(b),y&&l===v+w.length&&(f+=u,d=!0),m[_+1]&&(f+="<"+m[_+1]+">"),v+=w.length,b=0,_+=2,g=m[_],w=g,y=!1;d||null==g?d||(d=!0,f+=u):(c=l-v,f+=w.slice(b,c)+u,b=c,y=0===o%2?!0:!1)}if(null!=g)for(b<w.length&&(f+=w.slice(b)),o=_+1;o<m.length;o+=1)f+=0===o%2?m[o]:"<"+m[o]+">";return f};var y=140,w=[o(65534),o(65279),o(65535),o(8234),o(8235),o(8236),o(8237),o(8238)];s.txt.getTweetLength=function(t,e){e||(e={short_url_length:23,short_url_length_https:23});var i=s.txt.getUnicodeTextLength(t),n=s.txt.extractUrlsWithIndices(t);s.txt.modifyIndicesFromUTF16ToUnicode(t,n);for(var a=0;a<n.length;a++)i+=n[a].indices[0]-n[a].indices[1],i+=n[a].url.toLowerCase().match(s.txt.regexen.urlHasHttps)?e.short_url_length_https:e.short_url_length;return i},s.txt.isInvalidTweet=function(t){return t?s.txt.getTweetLength(t)>y?"too_long":s.txt.hasInvalidCharacters(t)?"invalid_characters":!1:"empty"},s.txt.hasInvalidCharacters=function(t){for(var e=0;e<w.length;e++)if(t.indexOf(w[e])>=0)return!0;return!1},s.txt.isValidTweetText=function(t){return!s.txt.isInvalidTweet(t)},s.txt.isValidUsername=function(t){if(!t)return!1;var e=s.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var k=t(/^#{validMentionOrList}$/);if(s.txt.isValidList=function(t){var e=t.match(k);return!(!e||""!=e[1]||!e[4])},s.txt.isValidHashtag=function(t){if(!t)return!1;var e=s.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},s.txt.isValidUrl=function(t,e,i){if(null==e&&(e=!0),null==i&&(i=!0),!t)return!1;var n=t.match(s.txt.regexen.validateUrlUnencoded);if(!n||n[0]!==t)return!1;var r=n[1],o=n[2],l=n[3],u=n[4],d=n[5];return(!i||a(r,s.txt.regexen.validateUrlScheme)&&r.match(/^https?$/i))&&a(l,s.txt.regexen.validateUrlPath)&&a(u,s.txt.regexen.validateUrlQuery,!0)&&a(d,s.txt.regexen.validateUrlFragment,!0)?e&&a(o,s.txt.regexen.validateUrlUnicodeAuthority)||!e&&a(o,s.txt.regexen.validateUrlAuthority):!1},"undefined"!=typeof module&&module.exports&&(module.exports=s.txt),"function"==typeof define&&define.amd&&define("twitter-text/twitter-text",[],s.txt),"undefined"!=typeof window)if(window.twttr)for(var x in s)window.twttr[x]=s[x];else window.twttr=s}(),define("twitter-text",["twitter-text/twitter-text"],function(t){return t}),define("massrel-js-backbone-2/util",["require"],function(){var t=Array.from||function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,a=function(t){var e=i(t);return Math.min(Math.max(e,0),n)};return function(t){var i=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,r=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof r){if(!e(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var o,l=a(n.length),u=e(i)?Object(new i(l)):new Array(l),d=0;l>d;)o=n[d],u[d]=r?"undefined"==typeof s?r(o,d):r.call(s,o,d):o,d+=1;return u.length=l,u}}();return{arrayFrom:t}}),define("massrel-js-backbone-2/TwitterStatusModel",["require","massrel-js","./StatusModel","twitter-text","lodash","./util"],function(t){var e=t("massrel-js"),i=t("./StatusModel"),n=t("twitter-text"),a=t("lodash"),s=t("./util"),r={thumb:"_normal",small:"_normal",medium:"_bigger",large:"_reasonably_small",huge:""},o=["network","sourceNetwork","sourceName","massrel"],l=["original_referer"],u={video:!0,animated_gif:!0},d="ddd MMM DD HH:mm:ss ZZ YYYY";return i.extend({defaults:a.extend(a.result(i.prototype,"defaults"),{original_referer:e.intents.original_referer,relativeDateFormat:"short"}),parse:function(t){if(t=i.prototype.parse.apply(this,arguments),t.retweeted_status){var e=t;t=t.retweeted_status,t.original_status=e,t.raw=e.raw,delete t.original_status.retweeted_status,delete t.original_status.raw,t.retweet=!0,t.retweeted_by_user=t.original_status.user,a.extend(t,a.pick(t.original_status,o)),t.klout=this.kloutData(t)}t.extended_entities&&t.extended_entities.media&&t.extended_entities.media.length>0&&a.each(t.entities.media,function(e,i){var n=a.find(t.extended_entities.media,{id:e.id});n&&u[n.type]===!0&&(t.entities.media[i]=n)});var r=[];t.entities&&(t.entities.urls&&t.entities.urls.length>0&&(r=r.concat(t.entities.urls)),t.entities.media&&t.entities.media.length>0&&(r=r.concat(t.entities.media)));var l;if("string"==typeof t.full_text){var d=s.arrayFrom(t.full_text);l=d.slice(0,t.display_text_range[1]).join("")}else l=t.text;t.formattedText=n.autoLink(l,{usernameIncludeSymbol:!0,urlEntities:r});var c=t.geo||t.geo_hint;return c&&(t.coordinates=c.coordinates),t},constructor:function(){i.apply(this,arguments),this.generateIntentUrls(),this.generateAvatarUrl(),this.on("change:original_referer",a.bind(this.generateIntentUrls,this)),this.on("change:avatar_resolution",a.bind(this.generateAvatarUrl,this))},generateAvatarUrl:function(){var t=this.get("avatar_resolution"),e=this.get("user"),i=r[t];if(i){var n=e.profile_image_url_https.replace("_normal",i);e.profile_image_url_https=n}},generateIntentUrls:function(){var t=a.pick(this.toJSON(),l),i=this.get("id_str");this.set("replyUrl",e.intents.reply(i,t)),this.set("retweetUrl",e.intents.retweet(i,t)),this.set("favUrl",e.intents.favorite(i,t))},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("created_at"),d))}})}),define("massrel-js-backbone-2/FacebookStatusModel",["require","./StatusModel","twitter-text","lodash"],function(t){var e=t("./StatusModel"),i=t("twitter-text"),n=t("lodash");return e.extend({parse:function(t){t=e.prototype.parse.apply(this,arguments);var i="https://www.facebook.com/",a=t.facebook_id.split("_"),s=t.type;return n.contains(["photo","video","link","post"],s)?i+=[a[0],"posts",a[1]].join("/"):"comment"===t.kind?2===a.length?i+=a[0]+"?comment_id="+a[1]:(i+=[a[0],"posts",a[1]].join("/"),a[2]&&(i+="?comment_id="+a[2])):i+=t.facebook_id,t.permalink=i,t.action_available={comment:!0,share:!1,like:!1},"comment"===t.kind&&(t.action_available.comment=!1),t.share_text&&t.story&&(t.formattedStory=this.autoLink(t.story)),t.originalStatus=n.extend({},t),"string"==typeof t.originalStatus.id&&(t.originalStatus.id=t.originalStatus.id.replace("facebook:","")),(t.message||t.name)&&(t.formattedText=this.autoLink(t.message||t.name)),t.hide_app_cards&&t.fbapp_id&&t.application&&t.fbapp_id===t.application.id&&(t.mediaHtml=""),t.author?t.action_available.like=t.author.is_page>0?!0:!1:t.from&&t.from.broadcast_name&&(t.author={name:t.from.broadcast_name,is_page:!0},t.action_available.like=!0),t},autoLink:function(t){var e=i.extractUrlsWithIndices(t).concat(i.extractHashtagsWithIndices(t,{checkUrlOverlap:!1}));return i.removeOverlappingEntities(e),i.autoLinkEntities(t,e,{hashtagClass:"facebook-hashtag",urlClass:"facebook-url",hashtagUrlBase:"https://www.facebook.com/hashtag/",targetBlank:!0})},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("created_time")))}})}),define("massrel-js-backbone-2/InstagramStatusModel",["require","./StatusModel","twitter-text"],function(t){var e=t("./StatusModel"),i=t("twitter-text");return e.extend({parse:function(t){if(t=e.prototype.parse.apply(this,arguments),t.user.profile_picture&&(t.user.profile_picture=this.embedlyImageProxyUrl(t.user.profile_picture),t.caption&&t.caption.from.profile_picture&&(t.caption.from.profile_picture=this.embedlyImageProxyUrl(t.caption.from.profile_picture))),t.caption){var n=t.caption.text,a=String.fromCharCode(133)+"#",s=this.getHashtagRuns(n);n=_.reduce(s,function(t,e){var i=e.replace(/#/g,a).slice(1);return t.replace(e,i)},n);var r=i.extractUrlsWithIndices(n),o=i.extractMentionsWithIndices(n),l=i.extractHashtagsWithIndices(n,{checkUrlOverlap:!1}),u=r.concat(l).concat(o);i.removeOverlappingEntities(u);var d={hashtagUrlBase:"//instagram.com/explore/tags/",usernameUrlBase:"//instagram.com/"},c=i.autoLinkEntities(n,u,d);t.caption.text=c}return t.location&&_.isNumber(t.location.latitude)&&_.isNumber(t.location.longitude)&&(t.coordinates=[t.location.latitude,t.location.longitude]),t.place=t.location,delete t.location,t},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("created_time"),"X"))},getHashtagRuns:function(t){for(var e=/(?:#|^|\s)((?:#[^#\s]+){2,})(?:#|$|\s)/gi,i=[],n=e.exec(t);n;)e.lastIndex=n.index+1,i.push(n[1]),n=e.exec(t);return _.sortBy(i,"length").reverse()}})}),define("massrel-js-backbone-2/GoogleStatusModel",["require","./StatusModel","twitter-text"],function(t){var e=t("./StatusModel"),i=t("twitter-text");return e.extend({parse:function(t){return t=e.prototype.parse.apply(this,arguments),t.title&&(t.title=i.autoLinkUrlsCustom(t.title)),t.place=t.location,delete t.location,t.formattedText=t.title,t.object&&t.object.content&&(t.formattedText=t.object.content),t.url||(t.url=""),t},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("published")))}})}),define("massrel-js-backbone-2/GetglueStatusModel",["require","./StatusModel","twitter-text","lodash"],function(t){var e=t("./StatusModel"),i=t("twitter-text"),n=t("lodash"),a={thumb:"tiny_",small:"tiny_",medium:"",large:"large_",huge:"large_"},s=/\/[a-z_]*tile\./;return e.extend({defaults:n.extend(n.result(e.prototype,"defaults"),{relativeDateFormat:"short"}),parse:function(t){return t=e.prototype.parse.apply(this,arguments),t.actor&&t.actor.image&&(t.actor.image=this.embedlyImageProxyUrl(t.actor.image)),t.canonical_link=t.link,n.isUndefined(t.inReplyTo)||(t.canonical_link=t.inReplyTo.link),t.body=i.autoLinkUrlsCustom(t.body),t},initialize:function(){e.prototype.initialize.apply(this,arguments),this.generateAvatarUrl()},generateAvatarUrl:function(){var t=this.get("actor"),e=this.get("avatar_resolution"),i=a[e];if(i){var n=t.image.replace(s,"/"+i+"tile.");t.image=n}},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("publishTime")))}})}),define("massrel-js-backbone-2/RssStatusModel",["./StatusModel","twitter-text"],function(t,e){return t.extend({parse:function(i){return i=t.prototype.parse.apply(this,arguments),i.description&&(i.raw_description=i.description,i.description=e.autoLinkUrlsCustom(i.description)),i},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("pub_date")))}})}),define("massrel-js-backbone-2/YoutubeStatusModel",["./StatusModel","twitter-text","./MediaCollection","./MediaModel","lodash","moment"],function(t,e,i,n,a,s){return t.extend({defaults:a.extend(a.result(t.prototype,"defaults"),{relativeDurationFormat:"display",formattedDuration:"",relativeDateFormat:"short"}),initialize:function(){t.prototype.initialize.apply(this,arguments),this.on("change:relativeDurationFormat",a.bind(this.generateFormattedDurations,this)),this.generateFormattedDurations()},parse:function(e){return e=t.prototype.parse.apply(this,arguments),e.title=e.snippet.title,e.description=e.snippet.description,e.link="//youtu.be/"+e.youtube_video_id,e.channelTitle=e.snippet.channelTitle,e},generateFormattedDates:function(){this.set("formattedDate",this.formattedDates(this.get("snippet").publishedAt))},generateFormattedDurations:function(){var t=this.computeDuration(this.get("contentDetails").duration),e=this.get("relativeDurationFormat");a.isFunction(e)?this.set("formattedDuration",e(t)):this[e+"Duration"]&&this.set("formattedDuration",this[e+"Duration"](t))},computeDuration:function(t){var e=s.duration(t);return{hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),totalSeconds:e.asSeconds()}},displayDuration:function(t){function e(t){return 10>t?"0"+t:t}var i=":"+e(t.seconds);return i=t.hours?t.hours+":"+e(t.minutes)+i:t.minutes+i},secondsDuration:function(t){return t.totalSeconds}})}),define("massrel-js-backbone-2/statusModelFactory",["./StatusModel","./TwitterStatusModel","./FacebookStatusModel","./InstagramStatusModel","./GoogleStatusModel","./GetglueStatusModel","./RssStatusModel","./YoutubeStatusModel"],function(t,e,i,n,a,s,r,o){var l=function(e,i,n){var a;return l.detectSource(e),"undefined"==typeof n&&(n=l.constructors),a=void 0!==n[e.sourceName]?n[e.sourceName]:t,new a(e,i)};return l.constructors={twitter:e,facebook:i,instagram:n,google:a,getglue:s,rss:r,youtube:o},l.detectSource=function(t){return t.sourceNetwork={facebook:!1,twitter:!1,getglue:!1,google:!1,instagram:!1,rss:!1,youtube:!1,message:!1},"undefined"!=typeof t.sourceNetwork[t.network]&&(t.sourceNetwork[t.network]=!0,t.sourceName=t.network),"google_plus"===t.network&&(t.sourceNetwork.google=!0,t.sourceName="google"),"youtube"===t.network&&(t.sourceNetwork.youtube=!0,t.sourceName="youtube"),"massrelevance"===t.network&&(t.sourceNetwork.message=!0,t.sourceName="message"),t},l}),define("massrel-js-backbone-2/mediaCollectionFactory",["q","./MediaCollection","media-meta"],function(t,e,i){var n=function(n,a){var s=t.defer(),r=i.promise(n.toJSON(),a);return r.done(function(t){s.resolve(new e(t))},function(){s.reject()}),s.promise};return n}),define("massrel-js-backbone-2/StreamPoller",["require","lodash","q","./backbone","./statusModelFactory","./mediaCollectionFactory","massrel-js"],function(t){var e=t("lodash"),i=t("q"),n=t("./backbone"),a=t("./statusModelFactory"),s=t("./mediaCollectionFactory"),r=t("massrel-js"),o="https"===r.protocol;return n.Model.extend({defaults:{embed_media:!1,avatar_resolution:"small",total:0,media_config:{secure:o,autoplay_video:!1,loop_video:!1}},initialize:function(){var t=this;t.filters=[],t.asyncFilters=[],t.queue=new n.Collection,t.moreQueue=new n.Collection;var i=t.toJSON();t.stream=new r.Stream(i.stream_name),t.poller=t.stream.poller(i),t.poller.data(function(e){var i=t.get("total")+e.length;t.set("total",i),0===i&&t.trigger("no-data"),0===e.length&&t.trigger("no-new-data")}),t.poller.batch(e.bind(t.handleBatch,t))},start:function(){var t=this;return this.get("stream_name")&&t.poller.start(),t},handleBatch:function(t){var e=this;e.createModels(t).done(function(t){e.queue.add(t,{at:0}),e.trigger("loaded-batch",t.length)})},createModels:function(t){var n=this,r=i.defer(),o=n.get("embed_media"),l=n.get("avatar_resolution"),u=n.get("media_config"),d=[],c=[];if(e.each(t,function(t){if(t.in_reply_to){var e=a(t.in_reply_to);d.push(e)}var i=a(t);d.push(i),t.in_reply_to&&(e.set("reply",i),i.set("in_reply_to",e))}),e.each(d,function(t){if(l&&t.set("avatar_resolution",l),o){var e=s(t,u);e.then(function(e){t.set("media",e)}).fail(function(){}),c.push(e)}}),o)i.allSettled(c).done(function(){var t=n.applyFilters(d);n.applyAsyncFilters(t).then(function(t){r.resolve(t)})});else{var p=n.applyFilters(d);n.applyAsyncFilters(p).then(function(t){r.resolve(t)})}return r.promise},stop:function(){var t=this;return t.poller.stop(),t},filter:function(t){var e=this;return e.filters.push(t),e.queue.remove(e.queue.reject(t)),e.moreQueue.remove(e.moreQueue.reject(t)),e},asyncFilter:function(t){var i=this;i.asyncFilters.push(t);var n=e.clone(i.queue.models),a=e.clone(i.moreQueue.models);return i.applyAsyncFilters(i.queue.models).then(function(t){var a=e.difference(n,t);i.queue.remove(a)}),i.applyAsyncFilters(i.moreQueue.models).then(function(t){var n=e.difference(a,t);i.moreQueue.remove(n)}),i},applyFilters:function(t){var i=this;return e.each(i.filters,function(i){t=e.filter(t,i)}),t},applyAsyncFilters:function(t){var n=i.defer(),a=function(t){n.resolve(t)};if(this.asyncFilters.length){var s=i(t);e.each(this.asyncFilters,function(t){s=s.then(t)}),s.then(a)}else n.resolve(t);return n.promise},more:function(){var t=this;return t.trigger("loading-more"),t.poller.more(e.bind(t.loadedMore,t)),t},loadedMore:function(t){var e=this;0===t.length?e.trigger("end-of-data"):e.createModels(t).done(function(t){e.moreQueue.add(t),e.trigger("loaded-more",t.length)})}})}),define("massrel-js-backbone-2/Filters",["require","./backbone","q","jquery","lodash"],function(t){function e(t){var e=r("head"),i=s.defer(),n=r("<img/>");return n.on("load",function(){n.remove(),i.resolve()}).on("error",function(){n.remove(),i.reject()}),e.append(n),n.attr("src",t),i.promise}function i(t,i){var n=[],a=[],r=s.defer();return o.each(t,function(t){var r=s.defer();n.push(r.promise);var o=t.get("media");if(o&&o.length>0){var l=o.at(0),u=l.get("photo_urls"),d=l.get("size"),c=[];if(!u[d])return r.resolve();c.push(e(u[d].url)),s.all(c).then(function(){a.push(t),r.resolve()},function(){r.resolve()})}else i&&i.includeText&&a.push(t),r.resolve()}),s.allSettled(n).then(function(){r.resolve(o.intersection(t,a))}),r.promise}function n(t){return i(t,{includeText:!0})}function a(t){return String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.get("formattedText")&&t.get("formattedText").trim().length>0?!0:"instagram"===t.get("network")&&t.get("caption")&&t.get("caption").text&&t.get("caption").text.trim().length>0?!0:"rss"===t.get("network")&&(t.get("title")&&t.get("title").trim().length>0||t.get("description")&&t.get("description").trim().length>0)?!0:!1}t("./backbone");var s=t("q"),r=t("jquery"),o=t("lodash");return{sync:{hasTextStatus:a},async:{hasValidImages:i,hasValidImagesOrText:n}}}),define("massrel-js-backbone-2/ComparePoller",["./backbone","massrel-js"],function(t,e){return t.Model.extend({defaults:function(){return{streams:[],frequency:20}},initialize:function(){var t=this,i=t.toJSON();t.compare=new e.Compare(i.streams),t.poller=t.compare.poller(i)},start:function(){var t=this;this.get("streams")&&this.get("streams").length>0&&(t.set("loading",!0),t.poller.data(function(e){t.set("data",e),t.set("loading",!1)}),t.poller.start())},stop:function(){this.poller.stop()}})}),define("massrel-js-backbone-2/MetaPoller",["require","./backbone","massrel-js"],function(t){var e=t("./backbone"),i=t("massrel-js");return e.Model.extend({defaults:function(){return{stream_name:"",networks:1,disregard:"",frequency:20,loading:!1,activity:{},count:{},networks:{}}},initialize:function(){var t=this,e=t.toJSON();t.stream=new i.Stream(e.stream_name),t.poller=t.stream.metaPoller(e)},start:function(){var t=this;this.get("stream_name")&&(t.set("loading",!0),t.poller.data(function(e){t.set(e),t.set("loading",!1)}),t.poller.start())},stop:function(){var t=this;t.poller.stop()}})}),define("massrel-js-backbone-2/TopThingsPoller",["require","./backbone","massrel-js","lodash"],function(t){var e=t("./backbone"),i=t("massrel-js"),n=t("lodash");return e.Model.extend({defaults:function(){return{stream_name:"",networks:1,frequency:20,resolution:"1h",start:"-1h",finish:"",thing:"",limit:50,loading:!1,data:{}}},start:function(){if(this.stop(),this.get("stream_name")){var t=n.pick(this.toJSON(),["tweet_mode","thing","resolution","start","finish","limit","stream_name"]);this.stream=new i.Stream(t.stream_name),this.poller=this.stream.topThingsPoller(t),this.set("loading",!0),this.poller.data(n.bind(function(t){this.set("data",t),this.set("loading",!1)},this)),this.poller.start()}},stop:function(){this.poller&&this.poller.stop()}})}),define("massrel-js-backbone-2/main",["require","./StreamPoller","./Filters","./ComparePoller","./MetaPoller","./TopThingsPoller","./statusModelFactory","./StatusModel","./TwitterStatusModel","./FacebookStatusModel","./GoogleStatusModel","./GetglueStatusModel","./InstagramStatusModel","./RssStatusModel","./mediaCollectionFactory","./MediaCollection","./MediaModel"],function(t){var e=t("./StreamPoller"),i=t("./Filters"),n=t("./ComparePoller"),a=t("./MetaPoller"),s=t("./TopThingsPoller"),r=t("./statusModelFactory"),o=t("./StatusModel"),l=t("./TwitterStatusModel"),u=t("./FacebookStatusModel"),d=t("./GoogleStatusModel"),c=t("./GetglueStatusModel"),p=t("./InstagramStatusModel"),h=t("./RssStatusModel"),m=t("./mediaCollectionFactory"),f=t("./MediaCollection"),_=t("./MediaModel");return{StreamPoller:e,ComparePoller:n,MetaPoller:a,TopThingsPoller:s,statusModelFactory:r,StatusModel:o,TwitterStatusModel:l,FacebookStatusModel:u,GoogleStatusModel:d,GetglueStatusModel:c,InstagramStatusModel:p,RssStatusModel:h,mediaCollectionFactory:m,MediaCollection:f,MediaModel:_,Filters:i}}),define("massrel-js-backbone-2",["massrel-js-backbone-2/main"],function(t){return t}),define("tmpl!media",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)type.photo&&(__p+='\n  <a href="'+__e(link)+'" target="_blank">\n    <img src="'+__e(photo_url)+'" />\n  </a>\n'),__p+="\n\n",type.video&&(__p+="\n  ",embed_url?__p+='\n    <iframe src="'+__e(embed_url)+'" seamless></iframe>\n  ':embed_html&&(__p+='\n    <div class="video-embed-wrapper"\n      ',0!==height*width&&(__p+='\n        style="padding-top: '+__e(100*(height/width))+'%"\n      '),__p+=">\n      "+(null==(__t=embed_html)?"":__t)+"\n    </div>\n  "),__p+="\n"),__p+="\n\n",type.link&&(__p+="\n"),__p+="\n";return __p},metadata:{customizable:!0},name:"media"})}),define("lib/views/MediaView",["require","lodash","lib/views/BaseView","tmpl!media"],function(t){var e=t("lodash"),i=t("lib/views/BaseView"),n=t("tmpl!media");return i.extend({template:n,className:"media",initialize:function(){e.each(this.model.get("type"),function(t,e){this.$el.toggleClass("embed-type-"+e,t)},this)}})}),define("tmpl!klout",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});
var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="klout">\n  ',__p+=profile_url?'\n  <a href="'+__e(profile_url)+'" class="klout-score" data-score="'+__e(score)+'" title="Klout Score is '+__e(score_floor)+'">'+__e(score_floor)+"</a>\n  ":'\n  <span class="klout-score" data-score="'+__e(score)+'" title="Klout Score is '+__e(score_floor)+'">'+__e(score_floor)+"</span>\n  ",__p+="\n</div>\n";return __p},metadata:{},name:"klout"})}),define("lib/views/StatusView",["require","lib/views/BaseView","lib/views/MediaView","lodash","tmpl!klout","moment","lib/analytics/main"],function(t){var e=t("lib/views/BaseView"),i=t("lib/views/MediaView"),n=t("lodash"),a=t("tmpl!klout"),s=t("moment"),r=t("lib/analytics/main");return e.extend({className:"status",type:"status",$timestamp:null,subviews:{media:i},initialize:function(){e.prototype.initialize.apply(this,arguments);var t=this.dispatcher();t&&this.listenTo(t,"update-relative-dates",this.updateRelativeDates),this.listenTo(this.model,"change:relativeDateFormat",this.updateRelativeDates)},render:function(){var t=this.model&&this.model.get("klout");return t&&this.model.set("kloutHtml",a(t)),e.prototype.render.apply(this,arguments),t&&this.$el.addClass("has-klout"),this.$timestamp=this.$el.find(".timestamp"),this.updateRelativeDates(),this.trackImpression(),this},trackImpression:function(){if(this.model&&this.model.attributes){var t=this.model.get("network"),e=this.model.get("entity_id");r.trackImpression({network:t,entityId:e})}},updateRelativeDates:function(){if(this.model.generateFormattedDates(),this.$timestamp&&this.$timestamp.length>0){var t,e=this.model.get("formattedDate"),i=this.model.get("relativeDateFormat");t=n.has(e,i)?e[i]:n.isFunction(i)?i.call(null,s(e.timestamp),n.extend({},e)):s(e.timestamp).format(i);var a=this.$timestamp.find(".formatted-timestamp");a.length?a.text(t):this.$timestamp.text(t)}}})}),define("tmpl!status-twitter",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="body">\n  ',klout&&(__p+="\n    "+(null==(__t=kloutHtml)?"":__t)+"\n  "),__p+='\n  <a href="https://twitter.com/intent/user?screen_name='+__e(user.screen_name)+'" class="avatar">\n    <img src="'+__e(user.profile_image_url_https)+'" alt="" />\n  </a>\n  <div class="content">\n    <a href="https://twitter.com/'+__e(user.screen_name)+"/status/"+__e(id_str)+'" class="permalink">\n      <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n        <i class="permalink-logo icon-twitter-logo"></i> <span class="timestamp"></span>\n      </span>\n    </a>\n    <a class="author" href="https://twitter.com/intent/user?screen_name='+__e(user.screen_name)+'">\n      <span class="primary-name">'+__e(user.name),user.verified&&(__p+='<span class="verified"><i class="icon-twitter-verified-bg"></i><i class="icon-twitter-verified-check" title="Verified profile"></i></span>'),__p+='</span>\n      <span class="secondary-name"><span class="prefix">@</span>'+__e(user.screen_name)+'</span>\n    </a>\n    <div class="text">'+(null==(__t=formattedText)?"":__t)+"</div>\n\n    ",media.length>0&&(__p+="\n     "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+="\n\n    ",retweet&&(__p+='\n      <div class="retweeted-by"><i class="retweeted-by-icon icon-twitter-retweet"></i> <span class="retweeted-by-label" title="Retweeted">Retweeted</span> by <a href="https://twitter.com/intent/user?screen_name='+__e(retweeted_by_user.screen_name)+'" class="retweeted-by-user">',print(retweeted_by_user.name||retweeted_by_user.screen_name),__p+="</a></div>\n    "),__p+='\n\n    <div class="meta">\n      ',place&&(__p+='\n        <span class="place"><i class="icon-place"></i> '+__e(place.full_name)+"</span>\n      "),__p+='\n\n      <div class="intents">\n        <a href="'+__e(replyUrl)+'" class="intent intent-reply" title="Reply"><i class="intent-icon intent-icon-reply icon-twitter-reply"></i> <span class="intent-text">Reply</span></a>\n        <a href="'+__e(retweetUrl)+'" class="intent intent-retweet" title="Retweet"><i class="intent-icon intent-icon-retweet icon-twitter-retweet"></i> <span class="intent-text">Retweet</span></a>\n        <a href="'+__e(favUrl)+'" class="intent intent-favorite" title="Like"><i class="intent-icon intent-icon-favorite icon-twitter-like"></i> <span class="intent-text">Like</span></a>\n      </div>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-twitter"})}),define("lib/views/TwitterStatusView",["require","lib/views/StatusView","tmpl!status-twitter"],function(t){var e=t("lib/views/StatusView"),i=t("tmpl!status-twitter");return t(["twitter-widgets","twitter-impressions"]),e.extend({template:i,className:e.prototype.className+" twitter twitter-custom-tweet",hasLoggedImpression:!1,attributes:function(){return{"data-network":"twt","data-network-id":this.model.get("id_str")}},render:function(){return e.prototype.render.apply(this,arguments),this.renderImpressionTracking(),this},renderImpressionTracking:function(){var e=this;return this.$el.attr("data-twitter-tweet-id",this.model.get("id_str")),this.$el.attr("data-twitter-tweet-context",""),this.$el.attr("data-partner","spredfast"),t(["twitter-impressions"],function(){twttr.impressions.ready(function(){e.hasLoggedImpression||(e.hasLoggedImpression=!0,twttr.impressions.logTweets(e.el))})}),this}})}),define("tmpl!status-facebook",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <a href="https://www.facebook.com/'+__e(from.id)+'" class="avatar"><img src="https://api.massrelevance.com/avatar/facebook?user_id='+__e(from.id)+'" alt="" /></a>\n  <div class="content">\n    <a href="'+__e(permalink)+'" class="permalink">\n      <i class="permalink-logo icon-facebook-logo"></i>\n    </a>\n    <div class="author">\n      ',__p+=formattedStory?'\n        <div class="fb-story">'+(null==(__t=formattedStory)?"":__t)+"</div>\n      ":'\n        <a href="https://www.facebook.com/'+__e(from.id)+'" class="primary-name">'+__e(from.name)+"</a>\n      ",__p+='\n    </div>\n\n    <div class="text">'+(null==(__t=formattedText)?"":__t)+"</div>\n\n    ",media.length>0&&(__p+="\n      "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+='\n\n    <div class="meta">\n      <span class="intents">\n        ',obj.action_available.comment&&(__p+='\n          <a href="'+__e(permalink)+'/comments"\n            data-app_id="'+__e(config.fbapp_id)+'"\n            data-post_id="'+__e(facebook_id)+'"\n            data-message="'+__e(originalStatus.message)+'"\n            data-name="'+__e(originalStatus.name)+'"\n            data-caption="'+__e(originalStatus.caption)+'"\n            data-link="'+__e(originalStatus.link)+'"\n            data-picture="'+__e(originalStatus.picture)+'"\n            data-photourl="'+__e(originalStatus.photo_url)+'"\n            data-description="'+__e(originalStatus.description)+'"\n            data-post_type="'+__e(originalStatus.type)+'"\n            data-author_id="'+__e(from.id)+'"\n            data-author="'+__e(from.name)+'"\n            data-permalink="'+__e(permalink)+'"\n            class="intent fb-intent intent-comment fb-comment-intent mr-action-click"\n            data-action="fb-comment"\n            data-timestamp="'+__e(formattedDate.timestamp)+'"\n            title="Comment">Comment</a> •\n        '),__p+="\n\n        ",obj.author&&author.is_page>0&&(__p+='\n          <a href="'+__e(permalink)+'/likes" data-id="'+__e(facebook_id)+'" data-liked="false" class="intent fb-intent intent-like mr-action-click" data-action="fb-like" title="Like">Like</a> •\n        '),__p+='\n\n        <a href="'+__e(permalink)+'/share" data-link="'+__e(permalink)+'" data-name="'+__e(originalStatus.message||permalink)+'" class="intent fb-intent intent-share mr-action-click" data-action="fb-share" title="Share">Share</a> •\n      </span>\n      <a href="'+__e(permalink)+'" class="timestamp permalink"></a>\n      ',place&&(__p+='\n        <span class="location">near '+__e(place.full_name)+"</span>\n      "),__p+="\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-facebook"})}),define("lib/views/FacebookStatusView",["require","lib/views/StatusView","lib/facebookApi","tmpl!status-facebook"],function(t){var e=t("lib/views/StatusView"),i=t("lib/facebookApi"),n=t("tmpl!status-facebook");return e.extend({template:n,className:e.prototype.className+" facebook",attributes:function(){return{"data-network":"fb","data-network-id":this.model.get("facebook_id")}},initialize:function(){e.prototype.initialize.apply(this,arguments),this.on("liked",function(t){t.text("Unlike")}),this.on("unliked",function(t){t.text("Like")}),i.init()},render:function(){return e.prototype.render.apply(this,arguments),this}})}),define("lib/instagramApi",["require","jquery","lodash","backbone-amd","q","./RespondingWindow"],function(t){var e=t("jquery"),i=t("lodash"),n=t("backbone-amd"),a=t("q"),s=t("./RespondingWindow"),r=n.Model.extend({defaults:function(){return{instagramApiUrl:"https://api.instagram.com/v1",intentDomain:"//massrelevance.com",accessToken:null}},initialize:function(){this.$body=e("body"),this.setAccessToken(),this.$body.trigger("instagram:ready")},setAccessToken:function(t){t?document.cookie="mr_inst_token="+encodeURIComponent(t):this.set("accessToken",document.cookie.replace(/(?:(?:^|.*;\s*)mr_inst_token\s*\=\s*([^;]*).*$)|^.*$/,"$1"))},likeIntent:function(t){var e=this,i=a.defer();return t=t||{},this.authenticate().then(function(i){return e._postLike(i,t)}).then(function(t){i.resolve(t)}).fail(function(){i.reject()}),i.promise},authenticate:function(){var t=this,e=a.defer();return this.get("accessToken")?e.resolve(this.get("accessToken")):s.getClient().open(this.get("intentDomain")+"/intents/instagram_auth?response_type=code&origin=viz&scope=likes").then(function(i){if(i.error)e.reject(i);else{var n=i.accessToken;t.set("accessToken",n),t.setAccessToken(n),e.resolve(n)}}).fail(function(){e.reject()}),e.promise},_postLike:function(t,n){var s=this,r=a.defer(),o="true"===n.liked,l=i.extend({"delete":o},n);return l.access_token=t,a(e.ajax({crossDomain:!0,dataType:"jsonp",url:this.get("intentDomain")+"/intents/instagram_like.json",data:l})).then(function(e){if(e.meta&&400===e.meta.code){if("OAuthParameterException"===e.meta.error_type)return s.deauthenticate(),s.authenticate().then(function(){return s._postLike(t,n)}).then(function(t){r.resolve(t)}).fail(function(){r.reject()})}else{var i=n.id||"unknown";s.trigger(o?"unlike":"like",i),r.resolve(!o)}}).fail(function(){r.reject()}),r.promise},deauthenticate:function(){this.set("accessToken",""),document.cookie="mr_inst_token=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}});s.init();var o;return{getClient:function(){if(!o)throw new Error("You must call instagramApi.init() before calling getClient()");return o},init:function(){o||(o=new r)}}}),define("tmpl!status-instagram",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <div class="left-content">\n    <a href="https://instagram.com/'+__e(user.username)+'" class="avatar">\n      <img src="'+__e(user.profile_picture)+'" alt="" />\n    </a>\n\n    <div class="author">\n      <a href="https://instagram.com/'+__e(user.username)+'" class="primary-name">'+__e(user.username)+'</a>\n\n      <a href="'+__e(link)+'" class="timestamp permalink"></a>\n    </div>\n\n    ',place&&place.name&&(__p+='\n      <div class="place"><i class="icon-place"></i>'+__e(place.name)+"</div>\n    "),__p+='\n  </div>\n\n  <div class="content">\n\n    <div class="media-container">\n      <a href="'+__e(link)+'" class="permalink">\n        <i class="permalink-logo icon-instagram-logo"></i>\n      </a>\n\n      ',media.length>0&&(__p+="\n        "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n      "),__p+='\n    </div>\n\n    <div class="text">',caption&&(__p+=null==(__t=caption.text)?"":__t),__p+='</div>\n\n    <div class="meta">\n      <span class="intents">\n        <a href="#" data-id="'+__e(id)+'" data-liked="false" class="intent instagram-intent intent-like mr-action-click" data-action="instagram-like" data-link="'+__e(link)+'" title="Like">\n          <i class="icon icon-instagram-like"></i>\n          Like\n        </a>\n      </span>\n      ',place&&place.name&&(__p+='\n        <span class="location">near '+__e(place.name)+"</span>\n      "),__p+="\n    </div>\n\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-instagram"})}),define("lib/views/InstagramStatusView",["require","lodash","jquery","lib/views/StatusView","lib/instagramApi","tmpl!status-instagram"],function(t){var e=t("lodash"),i=t("jquery"),n=t("lib/views/StatusView"),a=t("lib/instagramApi"),s=t("tmpl!status-instagram");return n.extend({template:s,className:n.prototype.className+" instagram",_positionAndShowIconHandler:null,attributes:function(){return{"data-network":"inst","data-network-id":this.model.get("id")}},initialize:function(){n.prototype.initialize.apply(this,arguments),a.init()},render:function(){return n.prototype.render.apply(this,arguments),this.$icon=this.$(".permalink"),this.$container=this.$(".media-container"),this.$img=this.$(".media img"),this.positionAndShowIcon(),this._positionAndShowIconHandler=e.debounce(e.bind(this.positionAndShowIcon,this),50),this.$img.one("load",this._positionAndShowIconHandler),i(window).on("resize",this._positionAndShowIconHandler),this},positionAndShowIcon:function(){var t=2;this.$img.length>0&&(t=this.$container.width()-this.$img.position().left-this.$img.width()+2),this.$icon.css({right:t+"px",visibility:"visible"})},remove:function(){return n.prototype.remove.apply(this,arguments),this.$img.off("load",this._positionAndShowIconHandler),i(window).off("resize",this._positionAndShowIconHandler),this}})}),define("tmpl!status-google",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <div class="author">\n    <a href="'+__e(url)+'" class="permalink">\n      <i class="permalink-logo icon-google-plus-logo"></i>\n    </a>\n    <a href="'+__e(actor.url)+'" class="avatar">\n      <img src="'+__e(actor.image.url)+'" alt="" />\n    </a>\n    <a href="'+__e(actor.url)+'" class="primary-name">'+__e(actor.displayName)+'</a>\n    <a href="'+__e(url)+'" class="timestamp permalink"></a>\n    ',place&&(__p+='\n      <div class="place"><i class="icon-place"></i>'+__e(place.name)+"</div>\n    "),__p+='\n  </div>\n\n  <div class="content">\n    <div class="text">'+(null==(__t=formattedText)?"":__t)+"</div>\n    \n    ",media.length>0&&(__p+="\n      "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+='\n\n    <div class="meta">\n      <span class="details">\n      </span>\n    </div>\n\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-google"})}),define("lib/views/GoogleStatusView",["require","lib/views/StatusView","tmpl!status-google"],function(t){var e=t("lib/views/StatusView"),i=t("tmpl!status-google");return e.extend({template:i,className:e.prototype.className+" google",attributes:function(){return{"data-network":"ggl","data-network-id":this.model.get("id")}},render:function(){return e.prototype.render.apply(this,arguments),this}})}),define("tmpl!status-getglue",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <a href="'+__e(actor.link)+'" class="avatar">\n    <img src="'+__e(actor.image)+'" alt="" />\n  </a>\n  <div class="content">\n    <a href="'+__e(canonical_link)+'" class="permalink">\n      <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n        <span class="timestamp"></span> <i class="permalink-logo permalink-logo-getglue icon-getglue-logo"></i>\n      </span>\n    </a>\n\n    <div class="author">\n      <a href="'+__e(actor.link)+'" class="primary-name">'+__e(actor.displayName)+'</a>\n      <a href="'+__e(actor.link)+'" class="secondary-name">'+__e(actor.preferredUsername)+'</a>\n    </div>\n\n    <div class="text">\n      <p class="text-header text-getglue-'+__e(verb)+'">'+__e(displayName)+"</p>\n      ",status.body&&(__p+=null==(__t=body)?"":__t),__p+="\n    </div>\n\n    ",media.length>0&&(__p+="\n      "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+='\n\n    <div class="meta">\n      <span class="details">\n        <a href="'+__e(canonical_link)+'" class="details-created-at" title="'+__e(formattedDate.full)+'"><i class="details-logo details-logo-getglue icon-getglue-logo"></i>'+__e(formattedDate.full)+"</a>\n        ",status.location&&(__p+='\n          <a href="'+__e(canonical_link)+'" class="place">from '+__e(location.name)+"</a>\n        "),__p+="\n      </span>\n    </div>\n\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-getglue"})}),define("lib/views/GetglueStatusView",["require","lib/views/StatusView","tmpl!status-getglue"],function(t){var e=t("lib/views/StatusView"),i=t("tmpl!status-getglue");return e.extend({template:i,className:e.prototype.className+" getglue",attributes:function(){return{"data-network":"glue","data-network-id":this.model.get("id")}},render:function(){return e.prototype.render.apply(this,arguments),this}})}),define("tmpl!status-rss",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <div class="content">\n    <a href="'+__e(link)+'" class="permalink">\n      <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n        <span class="timestamp"></span><i class="permalink-logo permalink-logo-rss icon-rss-logo"></i>\n      </span>\n    </a>\n\n    <div class="title"><a href="'+__e(link)+'">'+__e(title)+'</a></div>\n    <div class="author">\n      <span class="primary-name">'+__e(author)+'</span>\n    </div>\n    <div class="text">'+(null==(__t=description)?"":__t)+"</div>\n\n    ",media.length>0&&(__p+="\n     "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+='\n\n    <div class="meta">\n      <span class="details">\n        <a href="'+__e(link)+'" class="details-created-at" title="'+__e(formattedDate.full)+'"><i class="details-logo details-logo-rss icon-rss-logo"></i>'+__e(formattedDate.full)+"</a>\n        ",status.location&&(__p+='\n          <a href="'+__e(link)+'" class="place">from '+__e(location.name)+"</a>\n        "),__p+="\n      </span>\n    </div>\n\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-rss"})}),define("lib/views/RssStatusView",["require","lib/views/StatusView","tmpl!status-rss"],function(t){var e=t("lib/views/StatusView"),i=t("tmpl!status-rss");return e.extend({template:i,className:e.prototype.className+" rss",attributes:function(){return{"data-network":"rss","data-network-id":this.model.get("id")}},render:function(){return e.prototype.render.apply(this,arguments),this}})}),define("tmpl!status-youtube",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <a href="'+__e(link)+'" class="permalink">\n    <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n      <i class="permalink-logo icon-youtube-logo"></i> <span class="timestamp"></span>\n    </span>\n  </a>\n\n  <div class="title">"'+__e(title)+'"</div>\n\n  <div class="player">\n    ',media.length>0&&(__p+="\n     "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n    "),__p+='\n\n    <span class="attribution">\n      <span class="attribution-label">by</span>\n      <a class="author" href="//youtube.com/channel/'+__e(snippet.channelId)+'">'+__e(channelTitle)+'</a>\n    </span>\n\n    <span class="duration">'+__e(formattedDuration)+"</span>\n  </div> \n</div>";return __p},metadata:{customizable:!0},name:"status-youtube"})}),define("lib/views/YoutubeStatusView",["require","lib/views/StatusView","tmpl!status-youtube"],function(t){var e=t("lib/views/StatusView"),i=t("tmpl!status-youtube");return e.extend({template:i,className:e.prototype.className+" youtube",attributes:function(){return{"data-network":"youtube","data-network-id":this.model.get("id")}},render:function(){return e.prototype.render.apply(this,arguments),this}})}),define("lib/views/statusViewFactory",["lib/views/StatusView","lib/views/TwitterStatusView","lib/views/FacebookStatusView","lib/views/InstagramStatusView","lib/views/GoogleStatusView","lib/views/GetglueStatusView","lib/views/RssStatusView","lib/views/YoutubeStatusView"],function(t,e,i,n,a,s,r,o){var l=function(e,i){var n;if("undefined"==typeof i&&(i=l.constructors),e){var a=e.get("sourceName");void 0!==i[a]&&(n=i[a])}return void 0===n&&(n=t),n};return l.constructors={twitter:e,facebook:i,instagram:n,google:a,getglue:s,rss:r,youtube:o},l.factory=function(t){return function(){return l.apply(this,arguments).extend({defaults:t||{}})}},l}),define("componentStyle!status-1",{render:function(){}}),define("tmpl!status-facebook-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n"),__p+='\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick tabindex="0">\n    <span class="ada-text">Close caption area</span>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      <a href="https://www.facebook.com/'+__e(from.id)+'" class="avatar"><span class="ada-text">Click to view user\'s profile on Facebook</span><img src="https://api.massrelevance.com/avatar/facebook?user_id='+__e(from.id)+'" alt="" /></a>\n      <div class="content">\n        <a href="'+__e(permalink)+'" class="permalink">\n          <span class="ada-text">Click to view this post on Facebook</span>\n          <i class="permalink-logo icon-facebook-logo"></i>\n        </a>\n        <div class="author">\n          ',__p+=formattedStory?'\n            <div class="fb-story">'+(null==(__t=formattedStory)?"":__t)+"</div>\n          ":'\n            <a href="https://www.facebook.com/'+__e(from.id)+'" class="primary-name"><span class="ada-text">Click to view user\'s profile on Facebook</span>'+__e(from.name)+"</a>\n          ",__p+='\n        </div>\n\n        <div class="text">'+(null==(__t=formattedText)?"":__t)+'</div>\n\n        <div class="meta">\n          <span class="intents">\n          ',obj.action_available.comment&&(__p+='\n            <a href="'+__e(permalink)+'/comments"\n              data-app_id="'+__e(config.fbapp_id)+'"\n              data-post_id="'+__e(facebook_id)+'"\n              data-message="'+__e(originalStatus.message)+'"\n              data-name="'+__e(originalStatus.name)+'"\n              data-caption="'+__e(originalStatus.caption)+'"\n              data-link="'+__e(originalStatus.link)+'"\n              data-picture="'+__e(originalStatus.picture)+'"\n              data-photourl="'+__e(originalStatus.photo_url)+'"\n              data-description="'+__e(originalStatus.description)+'"\n              data-post_type="'+__e(originalStatus.type)+'"\n              data-author_id="'+__e(from.id)+'"\n              data-author="'+__e(from.name)+'"\n              data-permalink="'+__e(permalink)+'"\n              data-timestamp="'+__e(formattedDate.timestamp)+'"\n              class="intent fb-intent intent-comment fb-comment-intent mr-action-click"\n              data-action="fb-comment"\n              title="Comment"><span class="ada-text">Comment on this post on Facebook</span>Comment</a> •\n            '),__p+="\n            ",obj.author&&author.is_page>0&&(__p+='\n              <a href="'+__e(permalink)+'/likes" data-id="'+__e(facebook_id)+'" data-liked="false" class="intent fb-intent intent-like mr-action-click" data-action="fb-like" title="Like"><span class="ada-text">Like this post on Facebook</span>Like</a> •\n            '),__p+='\n            <a href="'+__e(permalink)+'/share" data-link="'+__e(permalink)+'" data-name="'+__e(originalStatus.message||permalink)+'" class="intent fb-intent intent-share mr-action-click" data-action="fb-share" title="Share"><span class="ada-text">Share this post on Facebook</span>Share</a> •\n          </span>\n          <a href="'+__e(permalink)+'" class="timestamp permalink"><span class="ada-text">Click to view this post on Facebook</span><span class="formatted-timestamp"></span></a>\n          ',place&&(__p+='\n            <span class="location">near '+__e(place.full_name)+"</span>\n          "),__p+="\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-facebook-media-first"})}),define("lib/views/mixins/MediaFirstViewMixin",["require","jquery"],function(t){var e=t("jquery");return{handlers:{toggleDrawer:function(t){t.preventDefault(),this.toggleStatusDrawer(e(t.currentTarget))}},toggleStatusDrawer:function(t){var e=this.$el.find(".status-drawer"),i=e.get(0);i&&(this.statusDrawerClosed=!!this.statusDrawerClosed,this.statusDrawerClosed?(t.removeClass("closed").addClass("open"),e.animate({height:i.scrollHeight},{done:function(){e.height("auto")}})):(t.removeClass("open").addClass("closed"),e.animate({height:0})),this.analytics().trackEvent({category:"viz:toggle",action:"drawer",label:this.statusDrawerClosed?"open":"close"}),this.statusDrawerClosed=!this.statusDrawerClosed)}}}),define("lib/views/FacebookMediaFirstStatusView",["require","lib/views/FacebookStatusView","tmpl!status-facebook-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/FacebookStatusView"),i=t("tmpl!status-facebook-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-getglue-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n"),__p+='\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      <a href="'+__e(actor.link)+'" class="avatar">\n        <img src="'+__e(actor.image)+'" alt="" />\n      </a>\n      <div class="content">\n        <a href="'+__e(canonical_link)+'" class="permalink">\n          <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n            <span class="timestamp"></span> <i class="permalink-logo permalink-logo-getglue icon-getglue-logo"></i>\n          </span>\n        </a>\n\n        <div class="author">\n          <a href="'+__e(actor.link)+'" class="primary-name">'+__e(actor.displayName)+'</a>\n          <a href="'+__e(actor.link)+'" class="secondary-name">'+__e(actor.preferredUsername)+'</a>\n        </div>\n\n        <div class="text">\n          <p class="text-header text-getglue-'+__e(verb)+'">'+__e(displayName)+"</p>\n          ",status.body&&(__p+=null==(__t=body)?"":__t),__p+='\n        </div>\n\n        <div class="meta">\n          <span class="details">\n            <a href="'+__e(canonical_link)+'" class="details-created-at" title="'+__e(formattedDate.full)+'"><i class="details-logo details-logo-getglue icon-getglue-logo"></i>'+__e(formattedDate.full)+"</a>\n            ",status.location&&(__p+='\n              <a href="'+__e(canonical_link)+'" class="place">from '+__e(location.name)+"</a>\n            "),__p+="\n          </span>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-getglue-media-first"})}),define("lib/views/GetglueMediaFirstStatusView",["require","lib/views/GetglueStatusView","tmpl!status-getglue-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/GetglueStatusView"),i=t("tmpl!status-getglue-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-google-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n"),__p+='\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick tabindex="0">\n    <span class="ada-text">Close caption area</span>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      <div class="author">\n        <a href="'+__e(url)+'" class="permalink">\n          <span class="ada-text">Click to view this post on Google Plus</span>\n          <i class="permalink-logo icon-google-plus-logo"></i>\n        </a>\n        <a href="'+__e(actor.url)+'" class="avatar">\n          <span class="ada-text">Click to view this user\'s profile on Google Plus</span>\n          <img src="'+__e(actor.image.url)+'" alt="" />\n        </a>\n        <a href="'+__e(actor.url)+'" class="primary-name">'+__e(actor.displayName)+'<span class="ada-text">Click to view this user\'s profile on Google Plus</span></a>\n        <a href="'+__e(url)+'" class="timestamp permalink"><span class="ada-text">Click to view this post on Google Plus</span><span class="formatted-timestamp"></a></a>\n        ',place&&(__p+='\n          <div class="place"><i class="icon-place"></i>'+__e(place.name)+"</div>\n        "),__p+='\n      </div>\n\n      <div class="content">\n        <div class="text">'+(null==(__t=formattedText)?"":__t)+'</div>\n\n        <div class="meta">\n          <span class="details">\n          </span>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-google-media-first"})}),define("lib/views/GoogleMediaFirstStatusView",["require","lib/views/GoogleStatusView","tmpl!status-google-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/GoogleStatusView"),i=t("tmpl!status-google-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-instagram-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="media-container">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick tabindex="0">\n    <span class="ada-text">Close caption area</span>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      <div class="left-content">\n        <a href="https://instagram.com/'+__e(user.username)+'" class="avatar">\n          <span class="ada-text">Click to view this user\'s profile on Instagram</span>\n          <img src="'+__e(user.profile_picture)+'" alt="" />\n        </a>\n\n        <div class="author">\n          <a href="https://instagram.com/'+__e(user.username)+'" class="primary-name"><span class="ada-text">Click to view this user\'s profile on Instagram</span>'+__e(user.username)+'</a>\n\n          <a href="'+__e(link)+'" class="timestamp permalink"><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp"></span></a>\n        </div>\n\n        ',place&&place.name&&(__p+='\n          <div class="place"><i class="icon-place"></i>'+__e(place.name)+"</div>\n        "),__p+='\n\n        <a href="'+__e(link)+'" class="network-permalink">\n          <span class="ada-text">Click to view this post on Instagram</span>\n          <i class="instagram-logo icon-instagram-logo"></i>\n        </a>\n      </div>\n      <div class="content">\n\n        <div class="text">',caption&&(__p+=null==(__t=caption.text)?"":__t),__p+='</div>\n\n        <div class="meta">\n          <span class="intents">\n            <a href="#" data-id="'+__e(id)+'" data-liked="false" class="intent instagram-intent intent-like mr-action-click" data-action="instagram-like" data-link="'+__e(link)+'" title="Like">\n              <span class="ada-text">Like this post on Instagram</span>\n              <i class="icon icon-instagram-like"></i>\n              Like\n            </a>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
return __p},metadata:{customizable:!0},name:"status-instagram-media-first"})}),define("lib/views/InstagramMediaFirstStatusView",["require","lib/views/InstagramStatusView","tmpl!status-instagram-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/InstagramStatusView"),i=t("tmpl!status-instagram-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-rss-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+="\n "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n"),__p+='\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      <div class="content">\n        <a href="'+__e(link)+'" class="permalink">\n          <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n            <span class="timestamp"></span><i class="permalink-logo permalink-logo-rss icon-rss-logo"></i>\n          </span>\n        </a>\n\n        <div class="title"><a href="'+__e(link)+'">'+__e(title)+'</a></div>\n        <div class="author">\n          <span class="primary-name">'+__e(author)+'</span>\n        </div>\n        <div class="text">'+(null==(__t=description)?"":__t)+'</div>\n\n        <div class="meta">\n          <span class="details">\n            <a href="'+__e(link)+'" class="details-created-at" title="'+__e(formattedDate.full)+'"><i class="details-logo details-logo-rss icon-rss-logo"></i>'+__e(formattedDate.full)+"</a>\n            ",status.location&&(__p+='\n              <a href="'+__e(link)+'" class="place">from '+__e(location.name)+"</a>\n            "),__p+="\n          </span>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-rss-media-first"})}),define("lib/views/RssMediaFirstStatusView",["require","lib/views/RssStatusView","tmpl!status-rss-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/RssStatusView"),i=t("tmpl!status-rss-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-twitter-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)media.length>0&&(__p+="\n "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n"),__p+='\n\n<div class="status-overlay">\n  <div class="mr-action-click toggle-status open" data-allow-default="false" data-action="toggleDrawer" onclick tabindex="0">\n    <span class="ada-text">Close caption area</span>\n    <i class="icon-chevron-down"></i>\n    <i class="icon-chevron-up"></i>\n  </div>\n  <div class="status-drawer">\n    <div class="body">\n      ',klout&&(__p+="\n        "+(null==(__t=kloutHtml)?"":__t)+"\n      "),__p+='\n      <a href="https://twitter.com/intent/user?screen_name='+__e(user.screen_name)+'" class="avatar">\n        <span class="ada-text">Click to view user\'s profile on Twitter</span>\n        <img src="'+__e(user.profile_image_url_https)+'" alt="" />\n      </a>\n      <div class="content">\n        <a href="https://twitter.com/'+__e(user.screen_name)+"/status/"+__e(id_str)+'" class="permalink">\n          <span class="ada-text">Click to view this post on Twitter</span>\n          <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n            <i class="permalink-logo icon-twitter-logo"></i> <span class="timestamp"></span>\n          </span>\n        </a>\n        <a class="author" href="https://twitter.com/intent/user?screen_name='+__e(user.screen_name)+'">\n          <span class="ada-text">Click to view this user\'s profile on Twitter</span>\n          <span class="primary-name">'+__e(user.name),user.verified&&(__p+='<span class="verified"><i class="icon-twitter-verified-bg"></i><i class="icon-twitter-verified-check" title="Verified profile"></i></span>'),__p+='</span>\n          <span class="secondary-name"><span class="prefix">@</span>'+__e(user.screen_name)+'</span>\n        </a>\n        <div class="text">'+(null==(__t=formattedText)?"":__t)+"</div>\n\n        ",retweet&&(__p+='\n          <div class="retweeted-by"><i class="retweeted-by-icon icon-twitter-retweet"></i> <span class="retweeted-by-label" title="Retweeted">Retweeted</span> by <a href="https://twitter.com/intent/user?screen_name='+__e(retweeted_by_user.screen_name)+'" class="retweeted-by-user">',print(retweeted_by_user.name||retweeted_by_user.screen_name),__p+="</a></div>\n        "),__p+='\n\n        <div class="meta">\n          ',place&&(__p+='\n            <span class="place"><i class="icon-place"></i> '+__e(place.full_name)+"</span>\n          "),__p+='\n\n          <div class="intents">\n            <a href="'+__e(replyUrl)+'" class="intent intent-reply" title="Reply"><span class="ada-text">Reply to this Tweet on Twitter</span><i class="intent-icon intent-icon-reply icon-twitter-reply"></i> <span class="intent-text">Reply</span></a>\n            <a href="'+__e(retweetUrl)+'" class="intent intent-retweet" title="Retweet"><span class="ada-text">Retweet this Tweet on Twitter</span><i class="intent-icon intent-icon-retweet icon-twitter-retweet"></i> <span class="intent-text">Retweet</span></a>\n            <a href="'+__e(favUrl)+'" class="intent intent-favorite" title="Like"><span class="ada-text">Like this Tweet on Twitter</span><i class="intent-icon intent-icon-favorite icon-twitter-like"></i> <span class="intent-text">Like</span></a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-twitter-media-first"})}),define("lib/views/TwitterMediaFirstStatusView",["require","lib/views/TwitterStatusView","tmpl!status-twitter-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/TwitterStatusView"),i=t("tmpl!status-twitter-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("tmpl!status-youtube-media-first",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="body">\n  <a href="'+__e(link)+'" class="permalink content-permalink">\n    <span class="ada-text">Click to view this post on YouTube</span>\n    <span class="permalink-created-at" title="'+__e(formattedDate.full)+'">\n      <i class="permalink-logo icon-youtube-logo"></i> <span class="timestamp"></span>\n    </span>\n  </a>\n\n  ',media.length>0&&(__p+="\n   "+(null==(__t=subview("media",media.at(media.length-1)))?"":__t)+"\n  "),__p+='\n\n  <a href="'+__e(link)+'" class="permalink modal-permalink">\n  <span class="ada-text">Click to view this post on YouTube</span>\n    <i class="icon-youtube-logo-copy permalink-logo"></i>\n  </a>\n\n  <span class="attribution">\n    <span class="attribution-label">by</span>\n    <a class="author" href="//youtube.com/channel/'+__e(snippet.channelId)+'"><span class="ada-text">Click to view this user\'s profile on YouTube</span>'+__e(channelTitle)+'</a>\n  </span>\n\n  <span class="duration">'+__e(formattedDuration)+"</span>\n</div>";return __p},metadata:{customizable:!0},name:"status-youtube-media-first"})}),define("lib/views/YoutubeMediaFirstStatusView",["require","lib/views/YoutubeStatusView","tmpl!status-youtube-media-first","lib/views/mixins/MediaFirstViewMixin"],function(t){var e=t("lib/views/YoutubeStatusView"),i=t("tmpl!status-youtube-media-first"),n=t("lib/views/mixins/MediaFirstViewMixin");return e.extend({template:i}).extend(n)}),define("components/media-first-status-1/main",["require","lodash","massrel-js-backbone-2","lib/views/statusViewFactory","lib/BaseComponent","componentStyle!status-1","lib/views/FacebookMediaFirstStatusView","lib/views/GetglueMediaFirstStatusView","lib/views/GoogleMediaFirstStatusView","lib/views/InstagramMediaFirstStatusView","lib/views/RssMediaFirstStatusView","lib/views/TwitterMediaFirstStatusView","lib/views/YoutubeMediaFirstStatusView"],function(t){var e=t("lodash"),i=t("massrel-js-backbone-2"),n=t("lib/views/statusViewFactory"),a=t("lib/BaseComponent"),s=t("componentStyle!status-1"),r=t("lib/views/FacebookMediaFirstStatusView"),o=t("lib/views/GetglueMediaFirstStatusView"),l=t("lib/views/GoogleMediaFirstStatusView"),u=t("lib/views/InstagramMediaFirstStatusView"),d=t("lib/views/RssMediaFirstStatusView"),c=t("lib/views/TwitterMediaFirstStatusView"),p=t("lib/views/YoutubeMediaFirstStatusView"),h=e.extend({},n.constructors,{facebook:r,getglue:o,google:l,instagram:u,rss:d,twitter:c,youtube:p});return a.extend({styles:s,initialize:function(){a.prototype.initialize.apply(this,arguments);var t=this.get("config");this._statusViewFactory=n.factory({componentId:t.id,componentType:t.type,analytics:this.get("analytics"),dispatcher:this.get("dispatcher")})},mediaFirstStatusViewFactory:function(t,e){return this._statusViewFactory(t,e||h)},create:function(){return{modelFactory:i.statusModelFactory,viewFactory:e.bind(this.mediaFirstStatusViewFactory,this)}},render:function(){this.setupEvents()},setupEvents:function(){var t=this.get("dispatcher");this.listenTo(t,"#"+this.id+":findStatusView",function(e){var i,n=e.payload&&e.payload.model;n&&(i=this.mediaFirstStatusViewFactory(n)),n&&i&&t.trigger("showStatusAndView",{model:n,view:i})})}}).exports()}),define("componentStyle!retail-carousel-2",{render:function(){}}),define("components/retail-carousel-2/models/RetailCarouselModel",["backbone-amd"],function(){var t=require("backbone-amd");return t.Model.extend({defaults:function(){return{queue:new t.Collection,startIndex:0,noContentMsg:"No Content",noContent:!1}},initialize:function(t){var e=t.config;e&&this.set("noContentMsg",e.noContent)}})}),define("tmpl!retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="retail-carousel">\n  ',queue.length<1&&obj.noContent?__p+='\n    <div class="retail-carousel-no-content">\n      <div class="no-content-message-container">\n        <div class="no-content-message">'+__e(noContentMsg)+"</div>\n      </div>\n    </div>\n  ":(__p+="\n    ",queue.each(function(t){__p+="\n      "+(null==(__t=subview("retail-carousel-item",t))?"":__t)+"\n    "}),__p+="\n  "),__p+="\n</div>";return __p},metadata:{},name:"retail-carousel"})}),define("tmpl!retail-carousel-item",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="status-container status-placeholder"></div>';return __p},metadata:{},name:"retail-carousel-item"})}),define("tmpl!media-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+="\n  ",__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n    />\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        <a class="media-attribution-link"\n          href="'+__e(author_url)+'"\n          title="'+__e(author_name)+'"\n          target="_blank"\n        >',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n        </a>\n      </div>\n      <a class="media-attribution-logo-link" href="'+__e(link)+'">\n        <div class="media-attribution-logo">\n          ',provider_icon_class&&(__p+='\n          <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n          '),__p+="\n        </div>\n      </a>\n    </div>\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="media-image media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",provider.facebook?(__p+='\n      <div class="media-video-sizer"\n        ',__p+=0!==height*width?'\n        style="padding-bottom: '+__e(100*(height/width))+'%"\n        ':'\n        style="padding-bottom: '+__e(56.25)+'%"\n        ',__p+='>\n        <img src="'+__e(thumbnail_url)+'"\n              alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n      </div>\n    '):(__p+="\n      ",thumbnail_url?__p+='\n      <img src="'+__e(thumbnail_url)+'"\n          alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n      />\n      ':(__p+='\n      <div class="media-video-sizer"\n        ',__p+=0!==height*width?'\n        style="padding-bottom: '+__e(100*(height/width))+'%"\n        ':'\n        style="padding-bottom: '+__e(56.25)+'%"\n        ',__p+="\n      ></div>\n      "),__p+="\n    "),__p+='\n\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        <a class="media-attribution-link"\n          href="'+__e(author_url)+'"\n          title="'+__e(author_name)+'"\n          target="_blank"\n        >',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n        </a>\n      </div>\n      <a class="media-attribution-logo-link" href="'+__e(link)+'">\n        <div class="media-attribution-logo">\n          ',provider_icon_class&&(__p+='\n          <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n          '),__p+="\n        </div>\n      </a>\n    </div>\n\n    ",(autoplay||load_video_html)&&(__p+='\n      <div class="video-embed-wrapper"\n        ',0!==height*width&&(__p+='\n          style="padding-top: '+__e(100*(height/width))+'%"\n        '),__p+=">\n        "+(null==(__t=html)?"":__t)+"\n      </div>\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",url&&(__p+='\n  <a class="media-url" href="'+__e(url)+'" target="_blank">\n  '),__p+="\n\n  ",thumbnail_url?__p+='\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n    />\n  </div>\n  ':(__p+="\n  <p>",print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+="</p>\n  "),__p+="\n\n  ",url&&(__p+="\n  </a>\n  "),__p+="\n"),__p+="\n";return __p},metadata:{customizable:!0},name:"media-2"})}),define("components/status-2/views/MediaView",["require","q","lodash","jquery","lib/views/BaseView","tmpl!media-2"],function(t){var e=t("q"),i=t("lodash"),n=t("jquery"),a=t("lib/views/BaseView"),s=t("tmpl!media-2"),r=window.addEventListener||function(t,e){window.attachEvent("on"+t,e)},o=window.removeEventListener||function(t,e){window.detachEvent("on"+t,e)},l="loaded",u="loading",d=a.extend({className:"media",template:s,_videoEventListener:null,_frameLoadListener:null,_videoCommandQueue:[],$canvas:null,$video:null,displayOptions:{mediaHandleClickEvent:!0,mediaLoadVideoHtml:!1},_load_video_html:!1,_load_gif:!1,events:{"click .media-video-thumbnail":"handleVideoThumbnailClick","click .media-gif":"handleGIFClick"},initialize:function(t){this.listenTo(this.model,{"change:load_video_html":this._modelEvents,"change:load_gif":this._modelEvents,"change:autoplay":this.render}),this.displayOptions=i.extend(i.clone(this.displayOptions),t.parent.displayOptions||{}),"video"===this.model.get("type")&&this._listenForVideoEvents(),this._syncLocalModelVars(),this.on("media-pause",this.pause)},_loadImage:function(){var t=new Image,n=e.defer();return t.onload=function(){n.resolve(t)},t.onerror=i.bind(function(){var e=new Error("URL '"+this.model.get("url")+"' failed to load");e.image=t,n.reject(e)},this),t.src=this.model.get("url"),n.promise},_listenForVideoEvents:function(){return o("message",this._videoEventListener),this._videoEventListener=i.bind(function(t){var e=t.data;if(i.isString(e))try{e=JSON.parse(e)}catch(n){}if(e&&"player.js"===e.context&&this.$video&&this.$video.length>0){var a=e.value&&i.isString(e.value.src)&&(this.$video.attr("src")===e.value.src.replace(/^https?:/i,"")||this.$video.attr("src")===e.value.src),s=e.listener&&e.listener===this.cid;(a||s)&&this._handleVideoEvent(e)}},this),r("message",this._videoEventListener),this},_handleVideoEvent:function(t){if("ready"===t.event&&i.isArray(this._videoCommandQueue)){var e=this._videoCommandQueue;this._videoCommandQueue=null;for(var n=0,a=e.length;a>n;n++)this._callVideoMethod.apply(this,e[n]);this._callVideoMethod("addEventListener","error"),this._callVideoMethod("addEventListener","timeupdate"),this._callVideoMethod("addEventListener","ended")}else if("error"===t.event&&window.console&&window.console.error){var s="player.js error for "+this.$video.attr("src");window.console.error(s,i.extend({cid:this.cid},t.value))}else this.trigger("player-"+t.event,t);return this},_callVideoMethod:function(t,e){if(i.isArray(this._videoCommandQueue))this._videoCommandQueue.push(i.toArray(arguments));else{var a={context:"player.js",version:"0.0.10",listener:this.cid,method:t,value:e},s=n("html").hasClass("touch");s&&this.model.get("provider").youtube||this.$video[0].contentWindow.postMessage(JSON.stringify(a),"*")}return this},_flagLoading:function(){return this.$el.addClass(u).removeClass(l),this},_flagLoaded:function(){return this.$el.removeClass(u).addClass(l),this},_removeLoadFlags:function(){return this.$el.removeClass(u).removeClass(l),this},_modelEvents:function(){return this._syncLocalModelVars(),this.render(),this},_syncLocalModelVars:function(){return this._load_video_html=this.model.get("load_video_html")||this.displayOptions.mediaLoadVideoHtml,this._load_gif=this.model.get("load_gif"),this},toggleMediaTypeClass:function(){return this.$el.addClass("media-"+this.model.get("type")),this.$el.addClass("media-"+this.model.get("provider_name")),this},handleVideoThumbnailClick:function(t){if(!this.displayOptions.mediaHandleClickEvent)return this;var e=n(t.target);return e.closest(".media-attribution-link, .media-attribution-logo-link").length?this:(this._flagLoading(),this._callVideoMethod("play"),this._load_video_html=!0,this.render(),this)},handleGIFClick:function(){return this.displayOptions.mediaHandleClickEvent?(this._load_gif=!this._load_gif,this.render(),this):this},renderStaticGIF:function(){return this.$canvas&&this.$canvas.length>0&&(this._flagLoading(),this._loadImage().then(i.bind(function(t){var e=this.$canvas[0],i=e.width=t.width,n=e.height=t.height;e.getContext("2d").drawImage(t,0,0,i,n),this._flagLoaded()},this))),this},prepareModel:function(){var t=a.prototype.prepareModel.apply(this,arguments);return t.load_video_html=this._load_video_html,t.load_gif=this._load_gif,t},render:function(){return a.prototype.render.apply(this,arguments),this.toggleMediaTypeClass(),this.$video=this.$("iframe:first"),this.$canvas=this.$("canvas:first"),this._removeLoadFlags(),this.$video&&this.$video.length>0&&(this._flagLoading(),this.$video.ready(i.bind(this._flagLoaded,this))),this.model.get("loop_video")&&this._callVideoMethod("setLoop",!0),this.model.get("autoplay")&&this._callVideoMethod("play"),this.model.get("start_muted")&&this._callVideoMethod("mute"),this.renderStaticGIF(),this},pause:function(){this._callVideoMethod("pause")},play:function(t){t&&this._callVideoMethod("setCurrentTime",0),this._callVideoMethod("play")},unmute:function(){this._callVideoMethod("unmute")},notifyWhenFinished:function(t,e){var n=this,a=i.extend({maxTime:0,minTime:0},t),s=!1,r=0,o=0,l=function(){s||(e(),s=!0,n.off("player-timeupdate",u),n.off("player-ended",d))},u=function(t){r=t.value.duration,t.value.seconds+r*o>=a.maxTime&&l()},d=function(){o++,r*o>=a.maxTime?l():!this.model.get("loop_video")&&!s&&r*o<a.minTime&&setTimeout(function(){l()},1e3*(a.minTime-r*o))};a.maxTime&&(this.on("player-timeupdate",u),this.on("player-ended",d))},remove:function(){return o("message",this._videoEventListener),this._videoEventListener=null,this._frameLoadListener&&(this.$video.off("load",this._frameLoadListener),this._frameLoadListener=null),this}});return d}),function(t,e){function i(t){return function(){var e={method:t},i=Array.prototype.slice.call(arguments);/^get/.test(t)?(n.assert(i.length>0,"Get methods require a callback."),i.unshift(e)):(/^set/.test(t)&&(n.assert(0!==i.length,"Set methods require a value."),e.value=i[0]),i=[e]),this.send.apply(this,i)}}var n={};n.DEBUG=!1,n.VERSION="0.0.11",n.CONTEXT="player.js",n.POST_MESSAGE=!!t.postMessage,n.origin=function(e){return"//"===e.substr(0,2)&&(e=t.location.protocol+e),e.split("/").slice(0,3).join("/")},n.addEvent=function(t,e,i){t&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i)},n.log=function(){n.log.history=n.log.history||[],n.log.history.push(arguments),t.console&&n.DEBUG&&t.console.log(Array.prototype.slice.call(arguments))},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isNone=function(t){return null===t||void 0===t},n.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.indexOf=function(t,e){if(null==t)return-1;var i=0,n=t.length;if(Array.prototype.IndexOf&&t.indexOf===Array.prototype.IndexOf)return t.indexOf(e);for(;n>i;i++)if(t[i]===e)return i;return-1},n.assert=function(t,e){if(!t)throw e||"Player.js Assert Failed"},n.Keeper=function(){this.init()},n.Keeper.prototype.init=function(){this.data={}},n.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),i="x"===t?e:8|3&e;return i.toString(16)})},n.Keeper.prototype.has=function(t,e){if(!this.data.hasOwnProperty(t))return!1;if(n.isNone(e))return!0;for(var i=this.data[t],a=0;a<i.length;a++)if(i[a].id===e)return!0;return!1},n.Keeper.prototype.add=function(t,e,i,n,a){var s={id:t,event:e,cb:i,ctx:n,one:a};this.has(e)?this.data[e].push(s):this.data[e]=[s]},n.Keeper.prototype.execute=function(t,e,i,a){if(!this.has(t,e))return!1;for(var s=[],r=[],o=0;o<this.data[t].length;o++){var l=this.data[t][o];n.isNone(e)||!n.isNone(e)&&l.id===e?(r.push({cb:l.cb,ctx:l.ctx?l.ctx:a,data:i}),l.one===!1&&s.push(l)):s.push(l)}0===s.length?delete this.data[t]:this.data[t]=s;for(var u=0;u<r.length;u++){var d=r[u];d.cb.call(d.ctx,d.data)}},n.Keeper.prototype.on=function(t,e,i,n){this.add(t,e,i,n,!1)},n.Keeper.prototype.one=function(t,e,i,n){this.add(t,e,i,n,!0)},n.Keeper.prototype.off=function(t,e){var i=[];if(!this.data.hasOwnProperty(t))return i;for(var a=[],s=0;s<this.data[t].length;s++){var r=this.data[t][s];n.isNone(e)||r.cb===e?n.isNone(r.id)||i.push(r.id):a.push(r)}return 0===a.length?delete this.data[t]:this.data[t]=a,i},n.Player=function(t,e){return this instanceof n.Player?(this.init(t,e),void 0):new n.Player(t,e)},n.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},n.EVENTS.all=function(){var t=[];for(var e in n.EVENTS)n.has(n.EVENTS,e)&&n.isString(n.EVENTS[e])&&t.push(n.EVENTS[e]);return t},n.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},n.METHODS.all=function(){var t=[];for(var e in n.METHODS)n.has(n.METHODS,e)&&n.isString(n.METHODS[e])&&t.push(n.METHODS[e]);return t},n.READIED=[],n.Player.prototype.init=function(i){var a=this;n.isString(i)&&(i=e.getElementById(i)),this.elem=i,this.origin=n.origin(i.src),this.keeper=new n.Keeper,this.isReady=!1,this.queue=[],this.events=n.EVENTS.all(),this.methods=n.METHODS.all(),n.POST_MESSAGE?n.addEvent(t,"message",function(t){a.receive(t)}):n.log("Post Message is not Available."),n.indexOf(n.READIED,i.src)>-1?a.loaded=!0:this.elem.onload=function(){a.loaded=!0}},n.Player.prototype.send=function(t,e,i){if(t.context=n.CONTEXT,t.version=n.VERSION,e){var a=this.keeper.getUUID();t.listener=a,this.keeper.one(a,t.method,e,i)}return this.isReady||"ready"===t.value?(n.log("Player.send",t,this.origin),this.loaded===!0&&this.elem.contentWindow.postMessage(JSON.stringify(t),this.origin),!0):(n.log("Player.queue",t),this.queue.push(t),!1)},n.Player.prototype.receive=function(t){if(n.log("Player.receive",t),t.origin!==this.origin)return!1;var e;try{e=JSON.parse(t.data)}catch(i){return!1}return e.context!==n.CONTEXT?!1:("ready"===e.event&&e.value&&e.value.src===this.elem.src&&this.ready(e),this.keeper.has(e.event,e.listener)&&this.keeper.execute(e.event,e.listener,e.value,this),void 0)},n.Player.prototype.ready=function(t){if(this.isReady===!0)return!1;t.value.events&&(this.events=t.value.events),t.value.methods&&(this.methods=t.value.methods),this.isReady=!0,this.loaded=!0;for(var e=0;e<this.queue.length;e++){var i=this.queue[e];n.log("Player.dequeue",i),"ready"===t.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},n.Player.prototype.on=function(t,e,i){var n=this.keeper.getUUID();return"ready"===t?this.keeper.one(n,t,e,i):this.keeper.on(n,t,e,i),this.send({method:"addEventListener",value:t,listener:n}),!0},n.Player.prototype.off=function(t,e){var i=this.keeper.off(t,e);if(n.log("Player.off",i),i.length>0)for(var a in i)return this.send({method:"removeEventListener",value:t,listener:i[a]}),!0;return!1},n.Player.prototype.supports=function(t,e){n.assert(n.indexOf(["method","event"],t)>-1,'evtOrMethod needs to be either "event" or "method" got '+t),e=n.isArray(e)?e:[e];for(var i="event"===t?this.events:this.methods,a=0;a<e.length;a++)if(-1===n.indexOf(i,e[a]))return!1;return!0};for(var a=0,s=n.METHODS.all().length;s>a;a++){var r=n.METHODS.all()[a];n.Player.prototype.hasOwnProperty(r)||(n.Player.prototype[r]=i(r))}t.playerjs=n,n.addEvent(t,"message",function(t){var e;try{e=JSON.parse(t.data)}catch(i){return!1}return e.context!==n.CONTEXT?!1:("ready"===e.event&&e.value&&e.value.src&&n.READIED.push(e.value.src),void 0)}),n.Receiver=function(t,e){this.init(t,e)},n.Receiver.prototype.init=function(i,a){var s=this;this.isReady=!1,this.origin=n.origin(e.referrer),this.methods={},this.supported={events:i?i:n.EVENTS.all(),methods:a?a:n.METHODS.all()},this.eventListeners={},this.reject=!(t.self!==t.top&&n.POST_MESSAGE),this.reject||n.addEvent(t,"message",function(t){s.receive(t)})},n.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var i={};if(n.isObject(e.data))i=e.data;else try{i=t.JSON.parse(e.data)}catch(a){n.log("JSON Parse Error",a)}if(n.log("Receiver.receive",e,i),!i.method)return!1;if(i.context!==n.CONTEXT)return!1;if(-1===n.indexOf(n.METHODS.all(),i.method))return this.emit("error",{code:2,msg:'Invalid Method "'+i.method+'"'}),!1;var s=n.isNone(i.listener)?null:i.listener;if("addEventListener"===i.method)this.eventListeners.hasOwnProperty(i.value)?-1===n.indexOf(this.eventListeners[i.value],s)&&this.eventListeners[i.value].push(s):this.eventListeners[i.value]=[s],"ready"===i.value&&this.isReady&&this.ready();else if("removeEventListener"===i.method){if(this.eventListeners.hasOwnProperty(i.value)){var r=n.indexOf(this.eventListeners[i.value],s);r>-1&&this.eventListeners[i.value].splice(r,1),0===this.eventListeners[i.value].length&&delete this.eventListeners[i.value]}}else this.get(i.method,i.value,s)},n.Receiver.prototype.get=function(t,e,i){var n=this;if(!this.methods.hasOwnProperty(t))return this.emit("error",{code:3,msg:'Method Not Supported"'+t+'"'}),!1;var a=this.methods[t];if("get"===t.substr(0,3)){var s=function(e){n.send(t,e,i)};a.call(this,s)}else a.call(this,e)},n.Receiver.prototype.on=function(t,e){this.methods[t]=e},n.Receiver.prototype.send=function(e,i,a){if(n.log("Receiver.send",e,i,a),this.reject)return n.log("Receiver.send.reject",e,i,a),!1;var s={context:n.CONTEXT,version:n.VERSION,event:e};n.isNone(i)||(s.value=i),n.isNone(a)||(s.listener=a);var r=JSON.stringify(s);t.parent.postMessage(r,""===this.origin?"*":this.origin)},n.Receiver.prototype.emit=function(t,e){if(!this.eventListeners.hasOwnProperty(t))return!1;n.log("Instance.emit",t,e,this.eventListeners[t]);for(var i=0;i<this.eventListeners[t].length;i++){var a=this.eventListeners[t][i];this.send(t,e,a)}return!0},n.Receiver.prototype.ready=function(){n.log("Receiver.ready"),this.isReady=!0;var e={src:t.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},n.HTML5Adapter=function(t){return this instanceof n.HTML5Adapter?(this.init(t),void 0):new n.HTML5Adapter(t)},n.HTML5Adapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a video element");var e=this.receiver=new n.Receiver;t.addEventListener("playing",function(){e.emit("play")}),t.addEventListener("pause",function(){e.emit("pause")}),t.addEventListener("ended",function(){e.emit("ended")}),t.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:t.currentTime,duration:t.duration})}),t.addEventListener("progress",function(){e.emit("buffered",{percent:t.buffered.length})}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("setVolume",function(e){t.volume=e/100}),e.on("mute",function(){t.muted=!0}),e.on("unmute",function(){t.muted=!1}),e.on("getMuted",function(e){e(t.muted)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},n.JWPlayerAdapter=function(t){return this instanceof n.JWPlayerAdapter?(this.init(t),void 0):new n.JWPlayerAdapter(t)},n.JWPlayerAdapter.prototype.init=function(t){n.assert(t,"playerjs.JWPlayerAdapter requires a player object");var e=this.receiver=new n.Receiver;this.looped=!1,t.onPause(function(){e.emit("pause")}),t.onPlay(function(){e.emit("play")}),t.onTime(function(t){var i=t.position,n=t.duration;if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)});var i=this;t.onComplete(function(){i.looped===!0?t.seek(0):e.emit("ended")}),t.onError(function(){e.emit("error")}),e.on("play",function(){t.play(!0)}),e.on("pause",function(){t.pause(!0)}),e.on("getPaused",function(e){e("PLAYING"!==t.getState())}),e.on("getCurrentTime",function(e){e(t.getPosition())}),e.on("setCurrentTime",function(e){t.seek(e)}),e.on("getDuration",function(e){e(t.getDuration())}),e.on("getVolume",function(e){e(t.getVolume())}),e.on("setVolume",function(e){t.setVolume(e)}),e.on("mute",function(){t.setMute(!0)}),e.on("unmute",function(){t.setMute(!1)
}),e.on("getMuted",function(e){e(t.getMute()===!0)}),e.on("getLoop",function(t){t(this.looped)},this),e.on("setLoop",function(t){this.looped=t},this)},n.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},n.MockAdapter=function(){return this instanceof n.MockAdapter?(this.init(),void 0):new n.MockAdapter},n.MockAdapter.prototype.init=function(){var t={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){t.interval=setInterval(function(){t.currentTime+=.25,t.timeupdate({seconds:t.currentTime,duration:t.duration})},250),t.playing=!0},pause:function(){clearInterval(t.interval),t.playing=!1}},e=this.receiver=new n.Receiver;e.on("play",function(){var e=this;t.play(),this.emit("play"),t.timeupdate=function(t){e.emit("timeupdate",t)}}),e.on("pause",function(){t.pause(),this.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(t.volume)}),e.on("setVolume",function(e){t.volume=e}),e.on("mute",function(){t.mute=!0}),e.on("unmute",function(){t.mute=!1}),e.on("getMuted",function(e){e(t.mute)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.MockAdapter.prototype.ready=function(){this.receiver.ready()},n.SublimeAdapter=function(t){return this instanceof n.SublimeAdapter?(this.init(t),void 0):new n.SublimeAdapter(t)},n.SublimeAdapter.prototype.events=[n.EVENTS.READY,n.EVENTS.PLAY,n.EVENTS.PAUSE,n.EVENTS.ENDED,n.EVENTS.TIMEUPDATE,n.EVENTS.ERROR],n.SublimeAdapter.prototype.methods=[n.METHODS.PLAY,n.METHODS.PAUSE,n.METHODS.GETDURATION,n.METHODS.SETCURRENTTIME,n.METHODS.GETCURRENTTIME,n.METHODS.REMOVEEVENTLISTENER,n.METHODS.ADDEVENTLISTENER],n.SublimeAdapter.prototype.init=function(t){n.assert(t,"playerjs.SublimeAdapter requires a player object");var e=this.receiver=new n.Receiver(this.events,this.methods);t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeUpdate",function(t,i){var n=t.duration();if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)}),t.on("end",function(){e.emit("ended")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getCurrentTime",function(e){e(t.playbackTime())}),e.on("setCurrentTime",function(e){t.seekTo(e)}),e.on("getDuration",function(e){e(t.duration())})},n.SublimeAdapter.prototype.ready=function(){this.receiver.ready()},n.VideoJSAdapter=function(t){return this instanceof n.VideoJSAdapter?(this.init(t),void 0):new n.VideoJSAdapter(t)},n.VideoJSAdapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a player object");var e=this.receiver=new n.Receiver;t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeupdate",function(){var i=t.currentTime(),n=t.duration();if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)}),t.on("ended",function(){e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused())}),e.on("getCurrentTime",function(e){e(t.currentTime())}),e.on("setCurrentTime",function(e){t.currentTime(e)}),e.on("getDuration",function(e){e(t.duration())}),e.on("getVolume",function(e){e(100*t.volume())}),e.on("setVolume",function(e){t.volume(e/100)}),e.on("mute",function(){t.volume(0)}),e.on("unmute",function(){t.volume(1)}),e.on("getMuted",function(e){e(0===t.volume())}),e.on("getLoop",function(e){e(t.loop())}),e.on("setLoop",function(e){t.loop(e)})},n.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()}}(window,document),define("playerjs",["playerjs/player-0.0.11"],function(t){return t}),define("playerjs/player-0.0.11",function(){}),define("lib/player/YTPlayer",["require","lodash"],function(t){var e=t("lodash"),i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf8",n.async=!0,n.src="//www.youtube.com/iframe_api",i.appendChild(n);var a=[],s=!1;return window.onYouTubeIframeAPIReady=function(){s=!0,e.forEach(a,function(t){t(window.YT)})},{ready:function(t){s?t(window.YT):a.push(t)}}}),define("lib/player/YoutubePlayer",["require","./YTPlayer","lodash"],function(t){var e=t("./YTPlayer"),i=t("lodash"),n=function(t){return this instanceof n?(this.instance=t,this.queue=[],void 0):new n(t)};n.prototype.setup=function(t,e){var n=this;this.instance[t]=function(){n._ready?e.apply(n.instance,arguments):n.queue.push({method:t,args:arguments})},this.instance.on=i.bind(this.bind,this),this.instance.off=i.bind(this.unbind,this)},n.prototype.ready=function(){var t=this;this._ready=!0,i.forEach(this.queue,function(e){t.instance[e.method].apply(t.instance,e.args)})},n.prototype.bind=function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},n.prototype.unbind=function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},n.prototype.emit=function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))};var a=function(t){var i=this;return this instanceof a?(this.video=t,this.init(t),e.ready(function(t){i.YT=t,i.ready()}),void 0):new a(t)};return a.prototype.init=function(){var t=this,e=this.receiver=n(this);e.setup("play",function(){t.player.playVideo()}),e.setup("pause",function(){t.player.pauseVideo()}),e.setup("getPaused",function(e){e(t.player.getPlayerState()===t.YT.PlayerState.PAUSED)}),e.setup("getCurrentTime",function(e){e(t.player.getCurrentTime())}),e.setup("setCurrentTime",function(e){t.player.seekTo(e,!0)}),e.setup("getDuration",function(e){e(t.player.getDuration())}),e.setup("getVolume",function(e){e(t.player.getVolume())}),e.setup("setVolume",function(e){t.player.setVolume(e)}),e.setup("mute",function(){t.player.mute()}),e.setup("unmute",function(){t.player.unMute()}),e.setup("getMuted",function(e){e(t.player.isMuted())}),e.setup("getLoop",function(e){e(t._internalLoopStatus)}),e.setup("setLoop",function(e){t._internalLoopStatus=e,t.player.setLoop(e)})},a.prototype.ready=function(){var t=this;this.player=new this.YT.Player(this.video,{events:{onStateChange:function(e){e.data===t.YT.PlayerState.ENDED?t.receiver.emit("ended"):e.data===t.YT.PlayerState.PLAYING?t.receiver.emit("play"):e.data===t.YT.PlayerState.PAUSED&&t.receiver.emit("pause")},onError:function(){t.receiver.emit("error")}}}),this.receiver.ready()},a}),define("lib/player/Player",["require","playerjs","./YoutubePlayer"],function(t){t("playerjs");var e=t("./YoutubePlayer");return function(t){return t.is("iframe")?/youtube.com/.test(t.attr("src"))&&!/embedly.com/.test(t.attr("src"))?new e(t.get(0)):new window.playerjs.Player(t.get(0)):void 0}}),define("components/status-2/views/PlayerJSMediaView",["require","q","lodash","jquery","lib/views/BaseView","lib/player/Player","tmpl!media-2"],function(t){var e=t("q"),i=t("lodash"),n=t("jquery"),a=t("lib/views/BaseView"),s=t("lib/player/Player"),r=t("tmpl!media-2"),o="loaded",l="loading",u=a.extend({className:"media",template:r,_frameLoadListener:null,$canvas:null,$video:null,player:null,displayOptions:{mediaHandleClickEvent:!0,mediaLoadVideoHtml:!1},_load_video_html:!1,_load_gif:!1,events:{"click .media-video-thumbnail":"handleVideoThumbnailClick","click .media-gif":"handleGIFClick"},initialize:function(t){this.listenTo(this.model,{"change:load_video_html":this._modelEvents,"change:load_gif":this._modelEvents,"change:autoplay":this.render}),this.displayOptions=i.extend(i.clone(this.displayOptions),t.parent.displayOptions||{}),this._syncLocalModelVars(),this.on("media-pause",this.pause)},_loadImage:function(){var t=new Image,n=e.defer();return t.onload=function(){n.resolve(t)},t.onerror=i.bind(function(){var e=new Error("URL '"+this.model.get("url")+"' failed to load");e.image=t,n.reject(e)},this),t.src=this.model.get("url"),n.promise},_flagLoading:function(){return this.$el.addClass(l).removeClass(o),this},_flagLoaded:function(){return this.$el.removeClass(l).addClass(o),this._setupPlayer(),this},_removeLoadFlags:function(){return this.$el.removeClass(l).removeClass(o),this},_modelEvents:function(){return this._syncLocalModelVars(),this.render(),this},_syncLocalModelVars:function(){return this._load_video_html=this.model.get("load_video_html")||this.displayOptions.mediaLoadVideoHtml,this._load_gif=this.model.get("load_gif"),this},_setupPlayer:function(){this.player=s(this.$video),this.player&&(this.model.get("loop_video")&&this.player.loop(!0),this.model.get("autoplay")&&this.player.play(),this.model.get("start_muted")&&this.player.mute())},toggleMediaTypeClass:function(){return this.$el.addClass("media-"+this.model.get("type")),this.$el.addClass("media-"+this.model.get("provider_name")),this},handleVideoThumbnailClick:function(t){if(!this.displayOptions.mediaHandleClickEvent)return this;var e=n(t.target);return e.closest(".media-attribution-link, .media-attribution-logo-link").length?this:(this._flagLoading(),this._load_video_html=!0,this.render(),this)},handleGIFClick:function(){return this.displayOptions.mediaHandleClickEvent?(this._load_gif=!this._load_gif,this.render(),this):this},renderStaticGIF:function(){return this.$canvas&&this.$canvas.length>0&&(this._flagLoading(),this._loadImage().then(i.bind(function(t){var e=this.$canvas[0],i=e.width=t.width,n=e.height=t.height;e.getContext("2d").drawImage(t,0,0,i,n),this._flagLoaded()},this))),this},prepareModel:function(){var t=a.prototype.prepareModel.apply(this,arguments);return t.load_video_html=this._load_video_html,t.load_gif=this._load_gif,t},render:function(){return a.prototype.render.apply(this,arguments),this.toggleMediaTypeClass(),this.$video=this.$("iframe:first"),this._setupPlayer(),this.$canvas=this.$("canvas:first"),this._removeLoadFlags(),this.$video&&this.$video.length>0&&(this._flagLoading(),this.$video.ready(i.bind(this._flagLoaded,this))),this.renderStaticGIF(),this},pause:function(){this.player&&this.player.pause()},play:function(t){this.player&&(t&&this.player.setCurrentTime(0),this.player.play())},unmute:function(){this.player&&this.player.unmute()},notifyWhenFinished:function(t,e){if(!this.player)return!1;var n=this,a=i.extend({maxTime:0,minTime:0},t),s=!1,r=0,o=0,l=function(){s||(e(),s=!0,n.player.off("timeupdate",u),n.player.off("ended",d))},u=function(t){r=t.duration,t.seconds+r*o>=a.maxTime&&l()},d=function(){o++,r*o>=a.maxTime?l():n.model.get("loop_video")||s||(r*o<a.minTime?setTimeout(function(){l()},1e3*(a.minTime-r*o)):l())};return a.maxTime&&(this.player.on("timeupdate",u),setTimeout(l,1e3*a.maxTime)),this.player.on("ended",d),!0},remove:function(){return this._frameLoadListener&&(this.$video.off("load",this._frameLoadListener),this._frameLoadListener=null),this.player&&this.player.off(),this}});return u}),define("components/status-2/views/StatusView",["require","lib/views/BaseView","./MediaView","./PlayerJSMediaView","lib/analytics/main"],function(t){var e=t("lib/views/BaseView"),i=t("./MediaView"),n=t("./PlayerJSMediaView"),a=t("lib/analytics/main"),s=/\bstatus-has-media-[a-z0-9-_]+\b/gi,r=e.extend({network:null,className:"status",_oldAdditionalClasses:"",$timestamp:null,$avatar:null,subviews:{media:i,playerjsMedia:n},displayOptions:{additionalClasses:""},initialize:function(){e.prototype.initialize.apply(this,arguments),this.listenTo(this.model,{"change:additional_classes":this.renderAdditionalClasses,"change:formatted_date":this.renderTimestamp,"change:formatted_avatar_url":this.renderAvatar}),this.listenTo(this.model.get("media"),"sort reset add remove",this.render)},render:function(){return e.prototype.render.apply(this,arguments),this.$avatar=this.$(".status-avatar"),this.$timestamp=this.$(".status-timestamp"),this.renderAdditionalClasses(),this.renderAvatar(),this.renderEntityId(),this.renderNetwork(),this.renderMediaClasses(),this.renderTimestamp(),this.trackImpression(),this},renderAdditionalClasses:function(){this.$el.removeClass(this._oldAdditionalClasses);var t=[this.displayOptions.additionalClasses,this.model.get("additional_classes")].join(" ");return this._oldAdditionalClasses=t,this.$el.addClass(t),this},renderEntityId:function(){return this.$el.attr("data-entity-id",this.model.get("entity_id")),this},renderNetwork:function(){return this.$el.attr("data-network",this.network),this},renderTimestamp:function(){if(this.$timestamp&&this.$timestamp.length>0){var t=this.$timestamp.find(".formatted-timestamp");t.length?t.text(this.model.get("formatted_date")):this.$timestamp.text(this.model.get("formatted_date"))}return this},renderAvatar:function(){return this.$avatar&&this.$avatar.length>0&&this.$avatar.css("background-image","url("+this.model.get("formatted_avatar_url")+")"),this},renderMediaClasses:function(){var t=this.model.get("media"),e=t.length>0;this.$el.toggleClass("status-has-media",e);var i=this.$el.attr("class");return i=i.replace(s,""),e&&(i+=" status-has-media-"+t.at(0).get("type")),this.$el.attr("class",i.replace(/\s+/g," ")),this},trackImpression:function(){if(this.model&&this.model.attributes){var t=this.model.get("network"),e=this.model.get("entity_id");a.trackImpression({network:t,entityId:e})}}});return r}),define("tmpl!status-facebook-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header" title="'+__e(formatted_name)+'">\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    ',(intent_can_comment||intent_can_share)&&(__p+='\n    <div class="status-intents">\n      ',intent_can_comment&&(__p+='\n      <a class="status-intent status-intent-facebook-comment mr-action-click"\n        data-action="fb-comment"\n        href="'+__e(intent_url_comment)+'"\n        title="Add a Comment"\n        target="_blank"\n\n        data-app_id="'+__e(intent_app_id)+'"\n        data-post_id="'+__e(facebook_id)+'"\n        data-message="'+__e(formatted_text_full)+'"\n        data-post_type="',print(obj.type||obj.kind),__p+='"\n        data-author_id="'+__e(from_id)+'"\n        data-author="'+__e(from_name)+'"\n        data-permalink="'+__e(formatted_permalink)+'"\n        data-timestamp="'+__e(formatted_date_iso)+'"\n      ><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n      '),__p+="\n\n      ",intent_can_share&&(__p+='\n      <a class="status-intent status-intent-facebook-share mr-action-click"\n        data-action="fb-share"\n        href="'+__e(intent_url_share)+'"\n        title="Share this"\n        target="_blank"\n\n        ',__p+='\n        data-link="',print("https:"+formatted_permalink),__p+='"\n        data-name="'+__e(formatted_text||formatted_permalink)+'"\n      ><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n      '),__p+="\n    </div>\n    "),__p+='\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-facebook-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-facebook-2"})}),define("components/status-2/views/FacebookStatusView",["require","lodash","./StatusView","lib/facebookApi","tmpl!status-facebook-2"],function(t){var e=t("lodash"),i=t("./StatusView"),n=t("lib/facebookApi"),a=t("tmpl!status-facebook-2"),s=i.extend({network:"facebook",template:a,className:i.prototype.className+" status-facebook",initialize:function(){i.prototype.initialize.apply(this,arguments),this.on("liked",e.partial(this.toggleLiked,!0)),this.on("unliked",e.partial(this.toggleLiked,!1))},toggleLiked:function(t){return this.$el.toggleClass("status-liked",!!t),this},render:function(){return i.prototype.render.apply(this,arguments),n.init(),this}});return s}),define("tmpl!status-google-plus-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-google-plus-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-google-plus-2"})}),define("components/status-2/views/GooglePlusStatusView",["require","./StatusView","tmpl!status-google-plus-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-google-plus-2"),n=e.extend({network:"google_plus",template:i,className:e.prototype.className+" status-google-plus"});return n}),define("tmpl!status-instagram-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >@'+__e(user_username)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-instagram-like mr-action-click"\n        data-action="instagram-like"\n        href="'+__e(formatted_permalink)+'"\n        title="Like this"\n        target="_blank"\n\n        data-id="'+__e(id)+'"\n        data-liked="false"\n      ><i class="status-intent-icon icon-instagram-like"></i><span class="status-intent-text"></span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-instagram-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-instagram-2"})}),define("components/status-2/views/InstagramStatusView",["require","./StatusView","lib/instagramApi","tmpl!status-instagram-2"],function(t){var e=t("./StatusView"),i=t("lib/instagramApi"),n=t("tmpl!status-instagram-2"),a=e.extend({network:"instagram",template:n,className:e.prototype.className+" status-instagram",render:function(){return e.prototype.render.apply(this,arguments),i.init(),this}});return a}),define("tmpl!status-rss-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header" title="'+__e(title)+'" >\n    ',author&&(__p+='\n    <div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+"</a>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta"></div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+"</a>\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-rss-2"})}),define("components/status-2/views/RSSStatusView",["require","./StatusView","tmpl!status-rss-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-rss-2"),n=e.extend({network:"rss",template:i,className:e.prototype.className+" status-rss"});return n}),define("tmpl!status-twitter-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" (@"+__e(user_screen_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(intent_url_user)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t),user_verified&&(__p+='<span class="status-twitter-verified-icon">\n        <i class="icon-twitter-verified-bg"></i>\n        <i class="icon-twitter-verified-check"></i>\n      </span>'),__p+='</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      ><s>@</s><span>'+__e(user_screen_name)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t)+'\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',is_retweet&&(__p+='\n    <div class="status-meta-item status-meta-item-retweeted">\n      <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n      <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n          target="_blank"\n          title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n      >'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n    </div>\n    "),__p+="\n\n    ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-twitter-reply"\n        href="'+__e(intent_url_reply)+'"\n        title="Reply to this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n      <a class="status-intent status-intent-twitter-retweet"\n        href="'+__e(intent_url_retweet)+'"\n        title="Retweet this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n      <a class="status-intent status-intent-twitter-favorite"\n        href="'+__e(intent_url_favorite)+'"\n        title="Like this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-twitter-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-twitter-2"})}),define("components/status-2/views/TwitterStatusView",["require","./StatusView","tmpl!status-twitter-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-twitter-2");t(["twitter-widgets","twitter-impressions"]);var n=e.extend({network:"twitter",hasLoggedImpression:!1,template:i,className:e.prototype.className+" status-twitter twitter-custom-tweet",render:function(){return e.prototype.render.apply(this,arguments),this.renderImpressionTracking(),this},renderImpressionTracking:function(){var e=this;return this.$el.attr("data-twitter-tweet-id",this.model.get("id_str")),this.$el.attr("data-twitter-tweet-context",""),this.$el.attr("data-partner","spredfast"),t(["twitter-impressions"],function(){twttr.impressions.ready(function(){e.hasLoggedImpression||(e.hasLoggedImpression=!0,twttr.impressions.logTweets(e.el))})}),this}});return n}),define("tmpl!status-youtube-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  ><div class="status-title">\n      <a class="status-title-link"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      >'+(null==(__t=title)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <div class="status-text">\n      <div class="status-author">by\n        <a class="status-author-link status-author-name"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n        >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      </div>\n\n      <div class="status-duration"\n      >'+(null==(__t=duration_pretty)?"":__t)+'</div>\n      <div class="status-clear"></div>\n    </div>\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-youtube-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-youtube-2"})}),define("components/status-2/views/YouTubeVideoStatusView",["require","./StatusView","tmpl!status-youtube-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-youtube-2"),n=e.extend({network:"youtube",template:i,className:e.prototype.className+" status-youtube"});return n}),define("components/status-2/viewFactory",["require","lodash","./views/FacebookStatusView","./views/GooglePlusStatusView","./views/InstagramStatusView","./views/RSSStatusView","./views/TwitterStatusView","./views/YouTubeVideoStatusView"],function(t){var e=t("lodash"),i=t("./views/FacebookStatusView"),n=t("./views/GooglePlusStatusView"),a=t("./views/InstagramStatusView"),s=t("./views/RSSStatusView"),r=t("./views/TwitterStatusView"),o=t("./views/YouTubeVideoStatusView"),l=e.reduce([i,n,a,s,r,o],function(t,e){return t[e.prototype.network]=e,t
},{}),u=function(t){if(!(t&&t.network&&e.has(l,t.network))){var i=new TypeError("No constructor found for the given model");throw i.model=t,i}var n=[];this.config&&this.config.settings&&this.config.settings.additional_classes&&n.push(this.config.settings.additional_classes);var a=l[t.network];if(a){var s={displayOptions:{}};if(e.isFunction(this.status_style)&&(this.status_style=this.status_style()),this.status_style){var r=this.status_style.overrides(t);r.template&&(s.template=r.template),r.mediaTemplate&&a.prototype.subviews&&(s.subviews=e.clone(a.prototype.subviews,!0),a.prototype.subviews.media&&(s.subviews.media=s.subviews.media.extend({template:r.mediaTemplate})),a.prototype.subviews.playerjsMedia&&(s.subviews.playerjsMedia=s.subviews.playerjsMedia.extend({template:r.mediaTemplate}))),r.additionalClasses&&n.push(r.additionalClasses),r.displayOptions&&e.isObject(r.displayOptions)&&(s.displayOptions=r.displayOptions)}s.displayOptions.additionalClasses=n.join(" "),a=a.extend(s)}return a},d=function(t){var e=u(t);return new e({model:t})},c=function(t){return function(){return u.apply(this,arguments).extend({defaults:t||{}})}},p=function(t){return function(){return d.apply(this,arguments).extend({defaults:t||{}})}};return{getStatusViewConstructor:u,createStatusView:d,statusViewConstructor:c,statusViewCreator:p}}),!function(t){"function"==typeof define&&define.amd?define("slick/slick.min",["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=window.Slick||{};e=function(){function e(e,n){var a,s,r,o=this;if(o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.hidden="hidden",o.paused=!1,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,a=t(e).data("slick")||{},o.options=t.extend({},o.defaults,a,n),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,s=o.options.responsive||null,s&&s.length>-1){o.respondTo=o.options.respondTo||"window";for(r in s)s.hasOwnProperty(r)&&(o.breakpoints.push(s[r].breakpoint),o.breakpointSettings[s[r].breakpoint]=s[r].settings);o.breakpoints.sort(function(t,e){return o.options.mobileFirst===!0?t-e:e-t})}"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init(!0),o.checkResponsive(!0)}var i=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var a=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=a.slideCount)return!1;a.unload(),"number"==typeof i?0===i&&0===a.$slides.length?t(e).appendTo(a.$slideTrack):n?t(e).insertBefore(a.$slides.eq(i)):t(e).insertAfter(a.$slides.eq(i)):n===!0?t(e).prependTo(a.$slideTrack):t(e).appendTo(a.$slideTrack),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),a.$slidesCache=a.$slides,a.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},a=this;a.animateHeight(),a.options.rtl===!0&&a.options.vertical===!1&&(e=-e),a.transformsEnabled===!1?a.options.vertical===!1?a.$slideTrack.animate({left:e},a.options.speed,a.options.easing,i):a.$slideTrack.animate({top:e},a.options.speed,a.options.easing,i):a.cssTransitions===!1?(a.options.rtl===!0&&(a.currentLeft=-a.currentLeft),t({animStart:a.currentLeft}).animate({animStart:e},{duration:a.options.speed,easing:a.options.easing,step:function(t){t=Math.ceil(t),a.options.vertical===!1?(n[a.animType]="translate("+t+"px, 0px)",a.$slideTrack.css(n)):(n[a.animType]="translate(0px,"+t+"px)",a.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(a.applyTransition(),e=Math.ceil(e),n[a.animType]=a.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",a.$slideTrack.css(n),i&&setTimeout(function(){a.disableTransition(),i.call()},a.options.speed))},e.prototype.asNavFor=function(e){var i=this,n=i.options.asNavFor;n&&null!==n&&(n=t(n).not(i.$slider)),null!==n&&"object"==typeof n&&n.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};i[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(0===t.currentSlide-1&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=t(e.options.prevArrow),e.$nextArrow=t(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',e=0;e<=n.getDotCount();e+=1)i+="<li>"+n.options.customPaging.call(this,n,e)+"</li>";i+="</ul>",n.$dots=t(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,a,s,r,o=this;if(n=document.createDocumentFragment(),s=o.$slider.children(),o.options.rows>1){for(r=o.options.slidesPerRow*o.options.rows,a=Math.ceil(s.length/r),t=0;a>t;t++){var l=document.createElement("div");for(e=0;e<o.options.rows;e++){var u=document.createElement("div");for(i=0;i<o.options.slidesPerRow;i++){var d=t*r+(e*o.options.slidesPerRow+i);s.get(d)&&u.appendChild(s.get(d))}l.appendChild(u)}n.appendChild(l)}o.$slider.html(n),o.$slider.children().children().children().css({width:100/o.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e){var i,n,a,s=this,r=!1,o=s.$slider.width(),l=window.innerWidth||t(window).width();if("window"===s.respondTo?a=l:"slider"===s.respondTo?a=o:"min"===s.respondTo&&(a=Math.min(l,o)),s.originalSettings.responsive&&s.originalSettings.responsive.length>-1&&null!==s.originalSettings.responsive){n=null;for(i in s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(s.originalSettings.mobileFirst===!1?a<s.breakpoints[i]&&(n=s.breakpoints[i]):a>s.breakpoints[i]&&(n=s.breakpoints[i]));null!==n?null!==s.activeBreakpoint?n!==s.activeBreakpoint&&(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick(n):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[n]),e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=n):(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick(n):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[n]),e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=n):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e),r=n),e||r===!1||s.$slider.trigger("breakpoint",[s,r])}},e.prototype.changeSlide=function(e,i){var n,a,s,r=this,o=t(e.target);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),s=0!==r.slideCount%r.options.slidesToScroll,n=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":a=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-a,!1,i);break;case"next":a=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+a,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i),o.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i,n=this;if(e=n.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var a in e){if(t<e[a]){t=i;break}i=e[a]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide),e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).off("mouseenter.slick",t.proxy(e.setPaused,e,!0)).off("mouseleave.slick",t.proxy(e.setPaused,e,!1))),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.html(t))},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&"object"!=typeof i.options.prevArrow&&i.$prevArrow.remove(),i.$nextArrow&&"object"!=typeof i.options.nextArrow&&i.$nextArrow.remove(),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;i.cssTransitions===!1?(i.$slides.eq(t).css({zIndex:1e3}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(t.options.infinite===!0)for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(t.options.centerMode===!0)n=t.slideCount;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n-1},e.prototype.getLeft=function(t){var e,i,n,a=this,s=0;return a.slideOffset=0,i=a.$slides.first().outerHeight(),a.options.infinite===!0?(a.slideCount>a.options.slidesToShow&&(a.slideOffset=-1*a.slideWidth*a.options.slidesToShow,s=-1*i*a.options.slidesToShow),0!==a.slideCount%a.options.slidesToScroll&&t+a.options.slidesToScroll>a.slideCount&&a.slideCount>a.options.slidesToShow&&(t>a.slideCount?(a.slideOffset=-1*(a.options.slidesToShow-(t-a.slideCount))*a.slideWidth,s=-1*(a.options.slidesToShow-(t-a.slideCount))*i):(a.slideOffset=-1*a.slideCount%a.options.slidesToScroll*a.slideWidth,s=-1*a.slideCount%a.options.slidesToScroll*i))):t+a.options.slidesToShow>a.slideCount&&(a.slideOffset=(t+a.options.slidesToShow-a.slideCount)*a.slideWidth,s=(t+a.options.slidesToShow-a.slideCount)*i),a.slideCount<=a.options.slidesToShow&&(a.slideOffset=0,s=0),a.options.centerMode===!0&&a.options.infinite===!0?a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)-a.slideWidth:a.options.centerMode===!0&&(a.slideOffset=0,a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)),e=a.options.vertical===!1?-1*t*a.slideWidth+a.slideOffset:-1*t*i+s,a.options.variableWidth===!0&&(n=a.slideCount<=a.options.slidesToShow||a.options.infinite===!1?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow),e=n[0]?-1*n[0].offsetLeft:0,a.options.centerMode===!0&&(n=a.options.infinite===!1?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow+1),e=n[0]?-1*n[0].offsetLeft:0,e+=(a.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,a=[];for(e.options.infinite===!1?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);t>i;)a.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return a},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n,a=this;return n=a.options.centerMode===!0?a.slideWidth*Math.floor(a.options.slidesToShow/2):0,a.options.swipeToSlide===!0?(a.$slideTrack.find(".slick-slide").each(function(e,s){return s.offsetLeft-n+t(s).outerWidth()/2>-1*a.swipeLeft?(i=s,!1):void 0}),e=Math.abs(t(i).attr("data-slick-index")-a.currentSlide)||1):a.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var i=this;i.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),e&&i.$slider.trigger("init",[i])},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.setPaused,e,!0)).on("mouseleave.slick",t.proxy(e.setPaused,e,!1))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:1},200)},n.src=i,e.css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,a,s,r=this;r.options.centerMode===!0?r.options.infinite===!0?(a=r.currentSlide+(r.options.slidesToShow/2+1),s=a+r.options.slidesToShow+2):(a=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=2+(r.options.slidesToShow/2+1)+r.currentSlide):(a=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=a+r.options.slidesToShow,r.options.fade===!0&&(a>0&&a--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(a,s),e(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),e(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(n))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.paused=!1,t.autoPlay()},e.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(){var e,i,n=this;e=t("img[data-lazy]",n.$slider).length,e>0&&(i=t("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},e.prototype.refresh=function(e){var i=this,n=i.currentSlide;i.destroy(!0),t.extend(i,i.initials),i.init(),e||i.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return"boolean"==typeof t?(e=t,t=e===!0?0:n.slideCount-1):t=e===!0?--t:t,n.slideCount<1||0>t||t>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),void 0)},e.prototype.setCSS=function(t){var e,i,n=this,a={};n.options.rtl===!0&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",a[n.positionProp]=t,n.transformsEnabled===!1?n.$slideTrack.css(a):(a={},n.cssTransitions===!1?(a[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(a)):(a[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(a)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):t.options.variableWidth===!0?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,a){e=-1*i.slideWidth*n,i.options.rtl===!0?t(a).css({position:"relative",right:e,top:0,zIndex:800,opacity:0}):t(a).css({position:"relative",left:e,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(t,e,i){var n=this;n.options[t]=e,i===!0&&(n.unload(),n.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,i,n,a,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(e=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(t>=e&&t<=s.slideCount-1-e?s.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):t>=0&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(a=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-a),n+a).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,a=this;if(a.options.fade===!0&&(a.options.centerMode=!1),a.options.infinite===!0&&a.options.fade===!1&&(i=null,a.slideCount>a.options.slidesToShow)){for(n=a.options.centerMode===!0?a.options.slidesToShow+1:a.options.slidesToShow,e=a.slideCount;e>a.slideCount-n;e-=1)i=e-1,t(a.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-a.slideCount).prependTo(a.$slideTrack).addClass("slick-cloned");for(e=0;n>e;e+=1)i=e,t(a.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+a.slideCount).appendTo(a.$slideTrack).addClass("slick-cloned");a.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.setPaused=function(t){var e=this;e.options.autoplay===!0&&e.options.pauseOnHover===!0&&(e.paused=t,t?e.autoPlayClear():e.autoPlay())},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),a=parseInt(n.attr("data-slick-index"));return a||(a=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),i.$slides.eq(a).addClass("slick-active").attr("aria-hidden","false"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(a).addClass("slick-center")),i.asNavFor(a),void 0):(i.slideHandler(a),void 0)},e.prototype.slideHandler=function(t,e,i){var n,a,s,r,o=null,l=this;return e=e||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow?void 0:(e===!1&&l.asNavFor(t),n=t,o=l.getLeft(n),r=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?r:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>t||t>l.getDotCount()*l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):l.options.infinite===!1&&l.options.centerMode===!0&&(0>t||t>l.slideCount-l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),a=0>n?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,a]),s=l.currentSlide,l.currentSlide=a,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(a,function(){l.postSlide(a)}):l.postSlide(a),l.animateHeight(),void 0):(i!==!0?l.animateSlide(o,function(){l.postSlide(a)
}):l.postSlide(a),void 0)))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,a=this;return t=a.touchObject.startX-a.touchObject.curX,e=a.touchObject.startY-a.touchObject.curY,i=Math.atan2(e,t),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?a.options.rtl===!1?"left":"right":360>=n&&n>=315?a.options.rtl===!1?"left":"right":n>=135&&225>=n?a.options.rtl===!1?"right":"left":a.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},e.prototype.swipeEnd=function(){var t,e=this;if(e.dragging=!1,e.shouldClick=e.touchObject.swipeLength>10?!1:!0,void 0===e.touchObject.curX)return!1;if(e.touchObject.edgeHit===!0&&e.$slider.trigger("edge",[e,e.swipeDirection()]),e.touchObject.swipeLength>=e.touchObject.minSwipe)switch(e.swipeDirection()){case"left":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide+e.getSlideCount()):e.currentSlide+e.getSlideCount(),e.slideHandler(t),e.currentDirection=0,e.touchObject={},e.$slider.trigger("swipe",[e,"left"]);break;case"right":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide-e.getSlideCount()):e.currentSlide-e.getSlideCount(),e.slideHandler(t),e.currentDirection=1,e.touchObject={},e.$slider.trigger("swipe",[e,"right"])}else e.touchObject.startX!==e.touchObject.curX&&(e.slideHandler(e.currentSlide),e.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,a,s,r=this;return s=void 0!==t.originalEvent?t.originalEvent.touches:null,!r.dragging||s&&1!==s.length?!1:(e=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==s?s[0].pageX:t.clientX,r.touchObject.curY=void 0!==s?s[0].pageY:t.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),i=r.swipeDirection(),"vertical"!==i?(void 0!==t.originalEvent&&r.touchObject.swipeLength>4&&t.preventDefault(),a=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(a=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.swipeLeft=r.options.vertical===!1?e+n*a:e+n*(r.$list.height()/r.listWidth)*a,r.options.verticalSwiping===!0&&(r.swipeLeft=e+n*a),r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):(r.setCSS(r.swipeLeft),void 0)):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0,void 0)},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):t.options.autoplay===!0&&(t.paused=!1,t.autoPlay())},t.fn.slick=function(){var t,i=this,n=arguments[0],a=Array.prototype.slice.call(arguments,1),s=i.length,r=0;for(r;s>r;r++)if("object"==typeof n||"undefined"==typeof n?i[r].slick=new e(i[r],n):t=i[r].slick[n].apply(i[r].slick,a),"undefined"!=typeof t)return t;return i}}),define("slick",["slick/slick.min"],function(t){return t}),define("tmpl!status-instagram-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Instagram</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Instagram</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n          <a class="status-author-name status-author-name-secondary status-pretty-link"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Instagram</span>@'+__e(user_username)+'</span></a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><i class="status-logo-icon icon-instagram-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          <a class="status-intent status-intent-instagram-like mr-action-click"\n            data-action="instagram-like"\n            href="'+__e(formatted_permalink)+'"\n            title="Like this"\n            target="_blank"\n\n            data-id="'+__e(id)+'"\n            data-liked="false"\n          ><span class="ada-text">Like this post on Instagram</span><span class="status-intent-text"></span><i class="status-intent-icon icon-instagram-like"></i></a>\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-instagram-2-retail-carousel"})}),define("tmpl!status-twitter-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+" ("+__e(user_screen_name)+')"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(intent_url_user)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Twitter</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(intent_url_user)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>'+(null==(__t=formatted_name_pretty)?"":__t),user_verified&&(__p+='<span class="status-twitter-verified-icon">\n          <i class="icon-twitter-verified-bg"></i>\n          <i class="icon-twitter-verified-check"></i>\n        </span>'),__p+='</a>\n          <a class="status-author-name status-author-name-secondary status-pretty-link"\n            href="'+__e(intent_url_user)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>@'+__e(user_screen_name)+'</span></a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Twitter</span><i class="status-logo-icon icon-twitter-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t)+'\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          <a class="status-intent status-intent-twitter-reply"\n            href="'+__e(intent_url_reply)+'"\n            title="Reply to this Tweet"\n            target="_blank"\n          ><span class="ada-text">Reply to this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n          <a class="status-intent status-intent-twitter-retweet"\n            href="'+__e(intent_url_retweet)+'"\n            title="Retweet this Tweet"\n            target="_blank"\n          ><span class="ada-text">Retweet this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n          <a class="status-intent status-intent-twitter-favorite"\n            href="'+__e(intent_url_favorite)+'"\n            title="Like this Tweet"\n            target="_blank"\n          ><span class="ada-text">Like this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",is_retweet&&(__p+='\n        <div class="status-meta-item status-meta-item-retweeted status-footer-item">\n          <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n          <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n              target="_blank"\n              title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n        </div>\n        "),__p+="\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-twitter-2-retail-carousel"})}),define("tmpl!status-facebook-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Facebook</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Facebook</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span><i class="status-logo-icon icon-facebook-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          ',intent_can_comment&&(__p+='\n          <a class="status-intent status-intent-facebook-comment mr-action-click"\n            data-action="fb-comment"\n            href="'+__e(intent_url_comment)+'"\n            title="Add a Comment"\n            target="_blank"\n\n            data-app_id="'+__e(intent_app_id)+'"\n            data-post_id="'+__e(facebook_id)+'"\n            data-message="'+__e(formatted_text_full)+'"\n            data-post_type="',print(obj.type||obj.kind),__p+='"\n            data-author_id="'+__e(from_id)+'"\n            data-author="'+__e(from_name)+'"\n            data-permalink="'+__e(formatted_permalink)+'"\n            data-timestamp="'+__e(formatted_date_iso)+'"\n          ><span class="ada-text">Comment on this post on Facebook/span><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n          '),__p+="\n\n          ",intent_can_share&&(__p+='\n          <a class="status-intent status-intent-facebook-share mr-action-click"\n            data-action="fb-share"\n            href="'+__e(intent_url_share)+'"\n            title="Share this"\n            target="_blank"\n\n            ',__p+='\n            data-link="',print("https:"+formatted_permalink),__p+='"\n            data-name="'+__e(formatted_text||formatted_permalink)+'"\n          ><span class="ada-text">Share this post on Facebook</span><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n          '),__p+='\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-facebook-2-retail-carousel"})}),define("tmpl!status-google-plus-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Google+</span></a></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Google+</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Google+</span><i class="status-logo-icon icon-google-plus-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Google+</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";
return __p},metadata:{customizable:!0},name:"status-google-plus-2-retail-carousel"})}),define("tmpl!status-youtube-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on YouTube</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to this post on YouTube</span><i class="status-logo-icon icon-youtube-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+__e(title)+'\n        </p>\n        <p class="status-duration">\n          '+(null==(__t=duration_pretty)?"":__t)+'\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on YouTube</span>'+__e(formatted_date)+"</a>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-youtube-2-retail-carousel"})}),define("tmpl!media-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+='\n  <div class="ken-background" style="background-image: url('+__e(url)+')"></div>\n  ',__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="ken-background" style="background-image: url('+__e(thumbnail_url)+')"></div>\n  <div class="media-image media-video media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",thumbnail_url?(__p+='\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    '):(__p+='\n    <div class="media-video-sizer"\n      ',__p+=0!==height*width?'\n      style="padding-bottom: '+__e(100*(height/width))+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+="\n    ></div>\n    "),__p+="\n\n    ",autoplay||load_video_html?(__p+='\n    <div class="video-embed-wrapper"\n        ',0!==height*width&&(__p+='\n          style="padding-top: '+__e(100*(height/width))+'%"\n        '),__p+=">\n    "+(null==(__t=html)?"":__t)+"\n    </div>\n    "):(__p+='\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",thumbnail_url&&(__p+='\n  <div class="ken-background" style="background-image: url('+__e(thumbnail_url)+')"></div>\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n  </div>\n  "),__p+="\n");return __p},metadata:{customizable:!0},name:"media-2-retail-carousel"})}),define("components/retail-carousel-2/views/RetailCarouselItemView",["require","jquery","lodash","lib/views/BaseView","tmpl!retail-carousel-item","components/status-2/viewFactory","slick","tmpl!status-instagram-2-retail-carousel","tmpl!status-twitter-2-retail-carousel","tmpl!status-facebook-2-retail-carousel","tmpl!status-google-plus-2-retail-carousel","tmpl!status-youtube-2-retail-carousel","tmpl!media-2-retail-carousel"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!retail-carousel-item"),s=t("components/status-2/viewFactory");t("slick");var r=t("tmpl!status-instagram-2-retail-carousel"),o=t("tmpl!status-twitter-2-retail-carousel"),l=t("tmpl!status-facebook-2-retail-carousel"),u=t("tmpl!status-google-plus-2-retail-carousel"),d=t("tmpl!status-youtube-2-retail-carousel"),c=t("tmpl!media-2-retail-carousel"),p={instagram:r,twitter:o,facebook:l,google_plus:u,youtube:d},h={1:{carousel:{530:{width:510,height:361},360:{width:340,height:292},290:{width:130,height:140,"image-only":{width:270,height:302}},240:{width:105,height:138}},"no-carousel":{530:{width:510,height:361},360:{width:340,height:380},290:{width:130,height:185,"image-only":{width:270,height:302}},240:{width:105,height:138}}},2:{carousel:{530:{width:355,height:224},360:{width:190,height:204},290:{width:130,height:140},240:{width:105,height:138}},"no-carousel":{530:{width:355,height:224},360:{width:190,height:204},290:{width:130,height:185},240:{width:105,height:138}}}};return n.extend({className:"retail-slide",template:a,events:i.extend({"click .status-nav-item":"clickNavItem","keydown .status-nav-item":"keyDownNavItem"},n.prototype.events),initialize:function(){var t=this;n.prototype.initialize.apply(this,arguments),this._statusViewConstructor=s.statusViewConstructor({componentId:this.componentId(),componentType:this.componentType(),analytics:this.analytics(),dispatcher:this.dispatcher()}),this.on("shouldRender",this.shouldRender),this.on("didDisappear",this.didDisappear),this.listenTo(this.model,"change:_retailShowingStatus",this.renderSelectedNav),this.listenTo(this.model,"change:currentSlide",this.changeSlide),this.listenTo(this.options.parent.model,"change:_windowWidth",function(){t.updateRetailImageSize(),i.delay(i.bind(t.renderSelectedNav,t),50)}),this.rendered=!1},keyDownNavItem:function(t){13===t.keyCode&&this.clickNavItem(t)},clickNavItem:function(t){var i=e(t.currentTarget),n=i.hasClass("status-nav-status");this.model.set("_retailShowingStatus",n),this.analytics().trackEvent({category:"viz:toggle",action:"select:"+(n?"details":"product")})},upgradeModel:function(){var t=this,e=this.model.attributes,n=this.options.parent.model.get("config"),a=n.showPageLinkButton||n.showPageLinkTitle||n.showPageLinkImage,s=i.isArray(e.massrel_page_links)&&e.massrel_page_links.length>0&&a,r=s?e.massrel_page_links:[];n.showCurrentProductPageLinks||(r=i.filter(r,function(t){return!MR.isCurrentProductPage(t.url)})),0===r.length&&(s=!1);var o=2===parseInt(n.retailItemsPerPage,10)&&r.length>1?2:1,l=r.length>o,u=[2===o?"two-items":"one-item",l?"has-carousel":"no-carousel"],d={_retailHasRetail:n.showRetail&&s,_retailNeedsCarousel:l,_retailItemsPerPage:o,_retailAdditionalClasses:u.join(" "),_retailExtraItemNeeded:0!==r.length%o&&l,_retailShowingStatus:n.showStatusFirst,_retailShowPageLinkButton:n.showPageLinkButton,_retailShowPageLinkTitle:n.showPageLinkTitle,_retailShowPageLinkImage:n.showPageLinkImage,_retailItemButtonText:n.retailItemButtonText,_retailNavShopText:n.statusNavShopText,_retailNavImageText:n.statusNavImageText};if(this.model.set(d),s){var c=r;i.forEach(c,function(e){var i=t.model.attributes,n=e.name||e.description;e.image_url&&i._retailShowPageLinkImage||i._retailShowPageLinkButton||n||(n="Shop This Look"),n.length>70&&(n=n.substring(0,67)+"..."),e.name=n,e.link=e.short_url||e.url,e.additionalClasses="",e.image_url&&t.model.get("_retailShowPageLinkImage")&&!t.model.get("_retailShowPageLinkTitle")&&!t.model.get("_retailShowPageLinkButton")&&(e.additionalClasses="image-only")}),this.model.set("massrel_page_links",c)}},render:function(){return n.prototype.render.apply(this,arguments),this.model._retailViews||(this.model._retailViews=[]),i.contains(this.model._retailViews,this)||this.model._retailViews.push(this),this.$status=this.$(".status-container"),this},shouldRender:function(t){return this.rendered&&!t?this:(this.upgradeModel(),this.renderStatus(),this.renderSelectedNav(),this.model.get("_retailNeedsCarousel")&&this.initializeCarousel(),this.rendered=!0,this.loadRetailImages(),this)},renderStatus:function(){var t=this,i=this._statusViewConstructor(this.model),n=i.extend({render:function(){return t.shouldRender(!0),this},realRender:function(){return i.prototype.render.apply(this,arguments),this}});this.statusView=new n({model:this.model}),this.$status.empty().append(this.statusView.realRender().$el),this.statusView.$("a.status-retail-track").on("click",function(i){i.stopPropagation(),t.analytics().trackEvent({category:"viz:outbound",action:"shop",label:e(this).attr("href")})})},loadRetailImages:function(){var t=this;this.$("img.status-retail-item-image[data-src]").each(function(){var i=e(this),n=i.parents(".status-retail-item").attr("data-id");e("<img>").attr("src",i.attr("data-src")).one("load",function(){var e=t.$('.status-retail-item[data-id="'+n+'"] img.status-retail-item-image[data-src]');e.data({width:this.width,height:this.height}).attr("src",e.attr("data-src")),t.updateRetailImageSize(e)})})},updateRetailImageSize:function(t){if(this.rendered){var i=this.model.get("_retailNeedsCarousel")?"carousel":"no-carousel",n=this.options.parent.model.get("_windowWidth"),a=this.model.get("_retailItemsPerPage"),s=h[a][i][n];t||(t=this.$("img.status-retail-item-image[data-src]")),t.each(function(){var t,i,n=e(this),r=n.data("width"),o=n.data("height"),l=n.parents(".status-retail-item"),u=l.find(".status-retail-item-image-frame");l.hasClass("image-only")&&s["image-only"]&&(s=s["image-only"]),r/s.width>o/s.height?(t=r<s.width,i=t?r:s.width,n.css({width:i,height:t?o:s.width*o/r})):(t=o<s.height,i=t?r:s.height*r/o,n.css({width:i,height:t?o:s.height})),a>1&&u.css({width:i})})}},renderSelectedNav:function(){var t=this.model.get("_retailShowingStatus"),e=t?"status":"retail",i=this.$(".status-nav-"+e),n=i.position()||{},a=parseInt(i.css("margin-left"),10),s=parseInt(i.css("width"),10);this.$(".status-nav-bar").css({left:n.left+a||0,width:s||0}),this.$status.toggleClass("showing-status",t)},initializeCarousel:function(){this.$carousel=this.$(".status-retail");var t=this.options.parent.model.get("config"),e=2===parseInt(t.retailItemsPerPage,10)?2:1;this.$carousel.on("afterChange",i.bind(this.afterChange,this)),this.$carousel.slick({vertical:!0,verticalSwiping:!0,slidesToShow:e,slidesToScroll:e,slide:".status-retail-item",initialSlide:this.model.get("currentSlide"),dots:!0,prevArrow:'<div class="slick-prev slick-pagination"><div class="arrow"><i class="icon-arrow-up"></i></div></div>',nextArrow:'<div class="slick-next slick-pagination"><div class="arrow"><i class="icon-arrow-down"></i></div></div>',customPaging:function(){return""}})},afterChange:function(t,e,i){this._disableCarouselAnalytics||(this.analytics().trackEvent({category:"viz:toggle",action:"retail-carousel-item"}),this._disableCarouselAnalytics=!1),this.model.set("currentSlide",i)},changeSlide:function(){var t=this.model.get("currentSlide");this.$carousel.slick("slickCurrentSlide")!==t&&(this._disableCarouselAnalytics=!0,this.$carousel.slick("slickGoTo",t,!1))},didDisappear:function(){this.rendered&&i.forEach(this.statusView.renderedSubviews,function(t){t.trigger("media-pause")})},status_style:function(){return{overrides:function(t){var e;return t&&t.network&&(e=p[t.network]),{additionalClasses:"status-style-retail-carousel",template:e,mediaTemplate:c,displayOptions:{}}}}},remove:function(){n.prototype.remove.apply(this,arguments),this.statusView&&this.statusView.remove(),i.remove(this.model._retailViews,this),this.model._retailViews.length||delete this.model._retailViews}})}),define("components/retail-carousel-2/views/RetailCarouselView",["require","jquery","lodash","lib/views/BaseView","tmpl!retail-carousel","./RetailCarouselItemView","slick"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!retail-carousel"),s=t("./RetailCarouselItemView");t("slick");var r={479:{nav:290,cssClass:"phone"},639:{nav:240,cssClass:"phablet"},959:{nav:290,cssClass:"tablet"},1439:{nav:360,cssClass:"desktop"}},o=function(t,e){return t-e},l=i.map(i.keys(r),function(t){return parseInt(t,10)}).sort(o),u=function(t){var e=i.find(l,function(e){return e>=t});return r[e]||{nav:530,cssClass:"cinema"}};return n.extend({template:a,subviews:{"retail-carousel-item":s},events:i.extend({"keydown .slick-arrow":"keyDownSlickArrow"},n.prototype.events),initialize:function(){return n.prototype.initialize.apply(this,arguments),this.$el.addClass("mr-component-instance-"+this.componentId()+" mr-component-type-"+this.componentType()),this.listenTo(this.model.get("queue"),"add",i.debounce(this.render,50)),this.listenTo(this.model,"change:noContent",i.debounce(this.render,50)),e(window).on("resize."+this.cid,i.debounce(i.bind(this.windowResize,this),50)),this},render:function(){n.prototype.render.apply(this,arguments);var t=this.model.get("config");return this.$carousel=this.$(".retail-carousel"),this.$carousel.toggleClass("is-modal",t.isModal),this.windowResize(),this.model.get("queue").length&&this.renderSlick(),this},keyDownSlickArrow:function(t){13===t.keyCode&&(e(t.currentTarget).hasClass("slick-prev")?this.slick.slick("slickPrev"):this.slick.slick("slickNext"))},renderSlick:function(){this.$carousel.on("beforeChange",i.bind(this.beforeChange,this)),this.$carousel.on("afterChange",i.bind(this.afterChange,this)),this.$carousel.on("init",i.bind(this.slickInit,this)),this.slick=this.$carousel.slick({initialSlide:this.model.get("startIndex"),slide:".retail-slide",prevArrow:'<div class="slick-prev slick-arrow" tabindex="0"><i class="icon-arrow-left slick-arrow-icon"><span class="ada-text">Click to view previous post</span></i></div>',nextArrow:'<div class="slick-next slick-arrow" tabindex="0"><i class="icon-arrow-right slick-arrow-icon"><span class="ada-text">Click to view next post</span></i></div>'}),this.renderSurroundingSlides(this._getSurroundingIndexes(this.model.get("startIndex"))),this.trackCurrentSlide(this.model.get("startIndex"))},slickInit:function(t){if(e(t.target).is(this.$carousel)){var i=this.model.get("queue");if(i.length>0){var n=this.$(".retail-slide.slick-slide[data-slick-index=-1]"),a=i.at(i.length-1),r=new s({model:a,parent:this,el:n});this.renderedSubviews[r.cid]=r,r.render();var o=this.$(".slick-slide[data-slick-index="+i.length+"]"),l=i.at(0),u=new s({model:l,parent:this,el:o});this.renderedSubviews[u.cid]=u,u.render()}}},beforeChange:function(t,i,n){e(t.target).is(this.$carousel)&&(this._currentSlide=n)},afterChange:function(t,n,a){if(e(t.target).is(this.$carousel)){if(a!==this._currentSlide){var s=this._currentSlide+1===a||0===a&&1!==this._currentSlide;this.analytics().trackEvent({category:"viz:toggle",action:"retail-carousel",label:s?"right":"left"})}var r=this._getSurroundingIndexes(a);this.renderSurroundingSlides(r),this.notifySurroundingDidDisappear(i.without(r,a)),this.trackCurrentSlide(a)}},_getSurroundingIndexes:function(t){var e=this.model.get("queue"),i=(t+1)%e.length,n=t-1;return 0>n&&(n=e.length+n),[n,t,i]},renderSurroundingSlides:function(t){var e=this.model.get("queue");i.forEach(t,function(t){var n=e.at(t);n&&n._retailViews&&i.forEach(n._retailViews,function(t){t.trigger("shouldRender")})})},notifySurroundingDidDisappear:function(t){var e=this.model.get("queue");i.forEach(t,function(t){var n=e.at(t);n&&n._retailViews&&i.forEach(n._retailViews,function(t){t.trigger("didDisappear")})})},trackCurrentSlide:function(t){var e=this.model.get("queue"),i=e.at(t);i&&this.analytics().trackEvent({category:"retail-carousel:show-status",action:i.get("_retailHasRetail")?"has-retail":"no-retail"})},windowResize:function(){if(this.$carousel){var t=this.model.get("config"),e=this.$carousel.outerWidth(!0);t.isModal&&(e-=80);var i=u(e);this.model.set("_windowWidth",i.nav),this.$carousel.removeClass(function(t,e){return(e.match(/(^|\s)bp-\S+/g)||[]).join(" ")}).addClass("bp-"+i.cssClass)}},remove:function(){n.prototype.remove.apply(this,arguments),e(window).off("resize."+this.cid)}})}),define("components/retail-carousel-2/main",["require","jquery","lib/BaseComponent","componentStyle!retail-carousel-2","./models/RetailCarouselModel","./views/RetailCarouselView"],function(t){var e=t("jquery"),i=t("lib/BaseComponent"),n=t("componentStyle!retail-carousel-2"),a=t("./models/RetailCarouselModel"),s=t("./views/RetailCarouselView");return i.extend({styles:n,create:function(){var t=this.get("id"),i=this.get("config"),n=this.get("dispatcher"),r=new a({id:t,dispatcher:n,config:i.settings});this.set("model",r);var o={model:r,View:s.extend({defaults:{analytics:this.get("analytics"),componentId:t,componentType:i.type,dispatcher:n,model:r}})};if(this.hasElement()){var l=new s({analytics:this.get("analytics"),el:e("#"+t),componentId:t,componentType:i.type,dispatcher:n,model:r});this.set("view",l),o.view=l}return o},render:function(){this.hasElement()&&this.get("view").render()}}).exports()}),function(t){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var a=i(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=N(100*this._a)/100,this._format=n.format||a.format,this._gradientType=n.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=a.ok,this._tc_id=O++}function i(t){var e={r:0,g:0,b:0},i=1,a=null,r=null,l=null,u=!1,d=!1;return"string"==typeof t&&(t=$(t)),"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(e=n(t.r,t.g,t.b),u=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(a=A(t.s),r=A(t.v),e=o(t.h,a,r),u=!0,d="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(a=A(t.s),l=A(t.l),e=s(t.h,a,l),u=!0,d="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=T(i),{ok:u,format:t.format||d,r:V(255,q(e.r,0)),g:V(255,q(e.g,0)),b:V(255,q(e.b,0)),a:i}}function n(t,e,i){return{r:255*C(t,255),g:255*C(e,255),b:255*C(i,255)}}function a(t,e,i){t=C(t,255),e=C(e,255),i=C(i,255);var n,a,s=q(t,e,i),r=V(t,e,i),o=(s+r)/2;if(s==r)n=a=0;else{var l=s-r;switch(a=o>.5?l/(2-s-r):l/(s+r),s){case t:n=(e-i)/l+(i>e?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:a,l:o}}function s(t,e,i){function n(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+6*(e-t)*(2/3-i):t}var a,s,r;if(t=C(t,360),e=C(e,100),i=C(i,100),0===e)a=s=r=i;else{var o=.5>i?i*(1+e):i+e-i*e,l=2*i-o;a=n(l,o,t+1/3),s=n(l,o,t),r=n(l,o,t-1/3)}return{r:255*a,g:255*s,b:255*r}}function r(t,e,i){t=C(t,255),e=C(e,255),i=C(i,255);var n,a,s=q(t,e,i),r=V(t,e,i),o=s,l=s-r;if(a=0===s?0:l/s,s==r)n=0;else{switch(s){case t:n=(e-i)/l+(i>e?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:a,v:o}}function o(e,i,n){e=6*C(e,360),i=C(i,100),n=C(n,100);var a=t.floor(e),s=e-a,r=n*(1-i),o=n*(1-s*i),l=n*(1-(1-s)*i),u=a%6,d=[n,o,r,r,l,n][u],c=[l,n,n,o,r,r][u],p=[r,r,l,n,n,o][u];return{r:255*d,g:255*c,b:255*p}}function l(t,e,i,n){var a=[E(N(t).toString(16)),E(N(e).toString(16)),E(N(i).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function u(t,e,i,n,a){var s=[E(N(t).toString(16)),E(N(e).toString(16)),E(N(i).toString(16)),E(L(n))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function d(t,e,i,n){var a=[E(L(n)),E(N(t).toString(16)),E(N(e).toString(16)),E(N(i).toString(16))];return a.join("")}function c(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.s-=i/100,n.s=M(n.s),e(n)}function p(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.s+=i/100,n.s=M(n.s),e(n)}function h(t){return e(t).desaturate(100)}function m(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.l+=i/100,n.l=M(n.l),e(n)}function f(t,i){i=0===i?0:i||10;var n=e(t).toRgb();return n.r=q(0,V(255,n.r-N(255*-(i/100)))),n.g=q(0,V(255,n.g-N(255*-(i/100)))),n.b=q(0,V(255,n.b-N(255*-(i/100)))),e(n)}function _(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.l-=i/100,n.l=M(n.l),e(n)}function g(t,i){var n=e(t).toHsl(),a=(n.h+i)%360;return n.h=0>a?360+a:a,e(n)}function v(t){var i=e(t).toHsl();return i.h=(i.h+180)%360,e(i)}function b(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+120)%360,s:i.s,l:i.l}),e({h:(n+240)%360,s:i.s,l:i.l})]}function y(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+90)%360,s:i.s,l:i.l}),e({h:(n+180)%360,s:i.s,l:i.l}),e({h:(n+270)%360,s:i.s,l:i.l})]}function w(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+72)%360,s:i.s,l:i.l}),e({h:(n+216)%360,s:i.s,l:i.l})]}function k(t,i,n){i=i||6,n=n||30;var a=e(t).toHsl(),s=360/n,r=[e(t)];for(a.h=(a.h-(s*i>>1)+720)%360;--i;)a.h=(a.h+s)%360,r.push(e(a));return r}function x(t,i){i=i||6;for(var n=e(t).toHsv(),a=n.h,s=n.s,r=n.v,o=[],l=1/i;i--;)o.push(e({h:a,s:s,v:r})),r=(r+l)%1;return o}function S(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function T(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function C(e,i){D(e)&&(e="100%");var n=P(e);return e=V(i,q(0,parseFloat(e))),n&&(e=parseInt(e*i,10)/100),t.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function M(t){return V(1,q(0,t))}function j(t){return parseInt(t,16)}function D(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function P(t){return"string"==typeof t&&-1!=t.indexOf("%")}function E(t){return 1==t.length?"0"+t:""+t}function A(t){return 1>=t&&(t=100*t+"%"),t}function L(e){return t.round(255*parseFloat(e)).toString(16)}function I(t){return j(t)/255}function U(t){return!!W.CSS_UNIT.exec(t)}function $(t){t=t.replace(R,"").replace(z,"").toLowerCase();var e=!1;if(Y[t])t=Y[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=W.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=W.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=W.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=W.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=W.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=W.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=W.hex8.exec(t))?{r:j(i[1]),g:j(i[2]),b:j(i[3]),a:I(i[4]),format:e?"name":"hex8"}:(i=W.hex6.exec(t))?{r:j(i[1]),g:j(i[2]),b:j(i[3]),format:e?"name":"hex"}:(i=W.hex4.exec(t))?{r:j(i[1]+""+i[1]),g:j(i[2]+""+i[2]),b:j(i[3]+""+i[3]),a:I(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=W.hex3.exec(t))?{r:j(i[1]+""+i[1]),g:j(i[2]+""+i[2]),b:j(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function F(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==i&&"large"!==i&&(i="small"),{level:e,size:i}}var R=/^\s+/,z=/\s+$/,O=0,N=t.round,V=t.min,q=t.max,H=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,i,n,a,s,r,o=this.toRgb();return e=o.r/255,i=o.g/255,n=o.b/255,a=.03928>=e?e/12.92:t.pow((e+.055)/1.055,2.4),s=.03928>=i?i/12.92:t.pow((i+.055)/1.055,2.4),r=.03928>=n?n/12.92:t.pow((n+.055)/1.055,2.4),.2126*a+.7152*s+.0722*r},setAlpha:function(t){return this._a=T(t),this._roundA=N(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=N(360*t.h),i=N(100*t.s),n=N(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=N(360*t.h),i=N(100*t.s),n=N(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return u(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*C(this._r,255))+"%",g:N(100*C(this._g,255))+"%",b:N(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*C(this._r,255))+"%, "+N(100*C(this._g,255))+"%, "+N(100*C(this._b,255))+"%)":"rgba("+N(100*C(this._r,255))+"%, "+N(100*C(this._g,255))+"%, "+N(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:B[l(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var i="#"+d(this._r,this._g,this._b,this._a),n=i,a=this._gradientType?"GradientType = 1, ":"";if(t){var s=e(t);n="#"+d(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+i+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0,a=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return a?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},e.fromRatio=function(t,i){if("object"==typeof t){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]="a"===a?t[a]:A(t[a]));t=n}return e(t,i)},e.equals=function(t,i){return t&&i?e(t).toRgbString()==e(i).toRgbString():!1
},e.random=function(){return e.fromRatio({r:H(),g:H(),b:H()})},e.mix=function(t,i,n){n=0===n?0:n||50;var a=e(t).toRgb(),s=e(i).toRgb(),r=n/100,o={r:(s.r-a.r)*r+a.r,g:(s.g-a.g)*r+a.g,b:(s.b-a.b)*r+a.b,a:(s.a-a.a)*r+a.a};return e(o)},e.readability=function(i,n){var a=e(i),s=e(n);return(t.max(a.getLuminance(),s.getLuminance())+.05)/(t.min(a.getLuminance(),s.getLuminance())+.05)},e.isReadable=function(t,i,n){var a,s,r=e.readability(t,i);switch(s=!1,a=F(n),a.level+a.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7}return s},e.mostReadable=function(t,i,n){var a,s,r,o,l=null,u=0;n=n||{},s=n.includeFallbackColors,r=n.level,o=n.size;for(var d=0;d<i.length;d++)a=e.readability(t,i[d]),a>u&&(u=a,l=e(i[d]));return e.isReadable(t,l,{level:r,size:o})||!s?l:(n.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],n))};var Y=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=e.hexNames=S(Y),W=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("tinycolor/tinycolor",[],function(){return e}):window.tinycolor=e}(Math),define("tinycolor",["tinycolor/tinycolor"],function(t){return t}),define("components/logo-1/models/LogoModel",["require","lodash","tinycolor","backbone-amd"],function(t){var e=t("lodash"),i=t("tinycolor"),n=t("backbone-amd"),a=n.Model.extend({themeColors:{dark:"#808285",light:"white"},defaults:{theme:""},initialize:function(t){this.id=t.id,this.dispatcher=t.dispatcher,this.config=t.config;var n=e.extend({},this.defaults,e.pick(t.config,e.keys(this.defaults)));if(!n.theme){var a="dark",s={};window.MR&&window.MR.templateConfig&&window.MR.templateConfig.styles&&(s=window.MR.templateConfig.styles);var r=s.backgroundColor||s.canvasColor;if(r){var o=i.mostReadable(r,e.values(this.themeColors)).toString();a=e.invert(this.themeColors)[o]}n.theme=a}this.set(n)}});return a}),define("tmpl!logo",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<span class="ada-text">Click to learn more about Spredfast Products</span>\n<i class="icon-spredfast-logo"></i><i class="icon-spredfast-logo-shape"></i><i class="logo-copy icon-spredfast-logo-copy">\n';return __p},metadata:{},name:"logo"})}),define("components/logo-1/views/LogoView",["require","lodash","lib/views/BaseView","tmpl!logo"],function(t){var e=t("lodash"),i=t("lib/views/BaseView"),n=t("tmpl!logo"),a=i.extend({template:n,themeClassPrefix:"theme-",attributes:{href:"http://www.spredfast.com",target:"_blank",title:"A Spredfast product\nhttp://www.spredfast.com",alt:"A Spredfast product"},events:{click:"trackAnalyticsClick"},initialize:function(){this.listenTo(this.model,"change",e.bind(this.render,this))},trackAnalyticsClick:function(){return this.analytics().trackEvent({category:"viz:outbound",action:"logo",label:this.attributes.href}),this},render:function(){i.prototype.render.apply(this,arguments);var t=this.$el.attr("class").replace(/^\s+|\s+$/g,"").split(/\s+/),n=e.filter(t,function(t){return new RegExp("^"+this.themeClassPrefix).test(t)},this).join(" ");this.$el.removeClass(n),this.$el.addClass(this.themeClassPrefix+this.model.get("theme")),this.$el.attr(this.attributes)}});return a}),define("componentStyle!logo-1",{render:function(){}}),define("components/logo-1/main",["require","jquery","lib/BaseComponent","./models/LogoModel","./views/LogoView","componentStyle!logo-1"],function(t){var e=t("jquery"),i=t("lib/BaseComponent"),n=t("./models/LogoModel"),a=t("./views/LogoView"),s=t("componentStyle!logo-1");return i.extend({styles:s,create:function(){var t=this.get("id"),i=this.get("config"),s=this.get("dispatcher"),r=new n({dispatcher:s,config:i.settings}),o=new a({analytics:this.get("analytics"),el:e("#"+t),componentId:t,componentType:i.type,model:r});return this.set("model",r),this.set("view",o),{model:r,view:o}},render:function(){this.hasElement()&&this.get("view").render()}}).exports()}),define("componentStyle!status-2",{render:function(){}}),define("massrel-js-backbone/lib/backbone",["require","backbone-amd"],function(t){var e=t("backbone-amd");return(window["massrel-js-backbone"]||window).Backbone||e}),define("massrel-js-backbone/lib/util",["require","q","lodash","moment"],function(t){var e=t("q"),i=t("lodash"),n=t("moment"),a=function(t){return t.toISOString()},s=function(t){return t.format("LLL")},r=function(t){return t.fromNow()},o=function(t){var e,i=function(e,i){return n().subtract(e,i).isBefore(t)},a=function(e,i){return n().diff(t,e)+i};return e=i(1,"second")?"now":i(1,"minute")?a("seconds","s"):i(1,"hour")?a("minutes","m"):i(1,"day")?a("hours","h"):i(1,"week")?a("days","d"):i(1,"month")?a("weeks","w"):t.format("M/D/YY")},l=function(t,e){if(!i.isPlainObject(t))return t;var n={};return i.each(t,function(t,a){var s=l(t,e);i.isPlainObject(s)&&0!==i.size(s)?(e=i.isUndefined(e)?"_":""+e,i.each(s,function(t,s){var r=a+e+s;i.has(n,r)||(n[r]=t)})):n[a]=s}),n},u=function(t){return i.isFunction(Object.freeze)&&Object.freeze(t),t},d={facebook:!0,twitter:!0},c=function(t,e,n){if(!i.has(d,t))throw new TypeError("Unsupported avatar network: "+t);return n=i.isNumber(n)?Math.max(0,n):73,"//api.massrelevance.com/avatar/"+t+"?"+"screen_name="+encodeURIComponent(e)+"&"+"width="+n+"&"+"height="+n},p=function(t){return t?t.textContent||t.innerText||"":""},h=function(t,n){if(!i.isString(t))throw new TypeError("`url` must be a string");if(!/^(?:https?:)?\/\//.test(t))throw new TypeError("`url` must be a HTTP(S)/protocol-relative URL");var a=e.defer(),s=n||new Image;return s.onload=function(){a.resolve(s)},s.onerror=function(){a.reject(new Error("Image failed to load"))},s.src=t,a.promise},m=function(t,e,n){var a=(t||"").replace(/\r\n|\r/g,"\n");if(i.isNumber(e)){if(!i.isFinite(e))throw new TypeError("`condenseTo` must be finite");if(Math.round(e)!==e)throw new TypeError("`condenseTo` must be an integer");if(0>e)throw new TypeError("`condenseTo` must be >= 0");for(var s="",r=0;e>r;r++)s+="\n";a=a.replace(new RegExp("\\n{"+(e+1)+",}","g"),s)}return i.isString(n)&&(a=a.replace(/\n/g,n)),a},f=function(t){return((t||"")+"").replace(/^https?:/i,"")},_=function(t,e){for(var i=0,n=0,a=t.length;a>n;n++){var s=t[n];if(i+s.length>e)break;i+=s.length}return n},g=Array.from||function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,a=function(t){var e=i(t);return Math.min(Math.max(e,0),n)};return function(t){var i=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,r=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof r){if(!e(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var o,l=a(n.length),u=e(i)?Object(new i(l)):new Array(l),d=0;l>d;)o=n[d],u[d]=r?"undefined"==typeof s?r(o,d):r.call(s,o,d):o,d+=1;return u.length=l,u}}(),v=/(\s+)/g,b=function(t,e){t=t||"";var n=g(t);if(!i.isNumber(e)||0>e)throw new TypeError("`maxLength` must be a positive number");if(n.length<=e)return[t,""];var a=(t||"").split(v),s=_(a,e);return[Array.prototype.slice.call(a,0,s).join(""),Array.prototype.slice.call(a,s).join("")]},y=function(t,e){if(t=t||"",!i.isNumber(e)||0>e)throw new TypeError("`maxLength` must be a positive number");var n=document.createElement("div");if(n.innerHTML=t,p(n).length<=e)return[t,""];for(var a=[],s=[],r=0,o=n.childNodes.length;o>r;r++){var l=n.childNodes[r];if(l.nodeType===Node.TEXT_NODE){var u=l.nodeValue.split(v);Array.prototype.push.apply(a,u),Array.prototype.push.apply(s,u)}else a.push(p(l)),s.push(l.outerHTML)}var d=_(a,e);return[Array.prototype.slice.call(s,0,d).join(""),Array.prototype.slice.call(s,d).join("")]},w=function(t,e,i){if(t=""+t,t.length>=e)return t;for(i=i||"0";t.length<e;)t=i+t;return t.slice(-e)},k=function(t){return t=t||{},i(t).pick(function(t){return i.isString(t)||i.isNumber(t)}).mapValues(encodeURIComponent).map(function(t,e){return e+"="+t}).join("&")},x=function(t,e){return e||!String.prototype.trim?t.replace(/^\s+|\s+$/g,""):t.trim()},S=function(t,e){return t=t.replace(/^(&nbsp;|<\s*br\s*\/?>|\s)+|(&nbsp;|<\s*br\s*\/?>|\s)+$/gi,""),x(t,e)};return{arrayFrom:g,calculateISODate:a,calculateFullDate:s,calculateShortDate:o,calculateDisplayDate:r,flattenObject:l,freeze:u,getAvatarProxyURL:c,getNodeText:p,loadImage:h,normalizeLineBreaks:m,protocolRelativize:f,splitTextToLength:b,splitHTMLToLength:y,padLeft:w,paramaterize:k,trim:x,trimHTML:S}}),define("massrel-js-backbone/lib/MediaModel",["require","./backbone","lodash","./util"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("./util"),a={vine:!1,twitter:!1,facebook:!1,google:!1,getglue:!1,youtube:!1,instagram:!1,vimeo:!1,tumblr:!1},s={YouTube:"youtube",Vine:"vine",Twitter:"twitter",Facebook:"facebook",GetGlue:"getglue","Google+":"google",Instagram:"instagram",Vimeo:"vimeo",Tumblr:"tumblr"},r={youtube:"icon-youtube-logo",facebook:"icon-facebook-logo",twitter:"icon-twitter-logo",vine:"icon-vine-logo",instagram:"icon-instagram-logo",tumblr:"icon-tumblr-logo",google:"icon-google-plus-logo"},o=e.Model.extend({defaults:function(){return{type:"",html:"",url:"",link:"",width:0,height:0,provider_name:"",provider_url:"",provider:{},title:"",description:"",thumbnail_url:"",thumbnail_width:0,thumbnail_height:0,author_name:"",author_url:"",formatted_author_name:"",provider_icon_class:"",load_video_html:!1,loop_video:!1,load_gif:!1,autoplay:!1,sizes:n.freeze([])}},constructor:function(t,n){var a=i.extend({},n,{parse:!0});e.Model.call(this,t,a)},initialize:function(){this.set("provider_name",this._getProviderName(this.get("provider_name"))),this.set("provider",this._getProviderObject(this.get("provider_name"))),this.on({"change:provider change:provider_name change:author_name":this._updateFormattedAuthorName,"change:provider":this._updateProviderIconClass}),this._updateFormattedAuthorName(),this._updateProviderIconClass()},size:function(){return o.calculateSize(this.attributes)},resize:function(){var t={width:0,height:0};if(1===arguments.length)t.width=t.height=arguments[0];else{if(2!==arguments.length)throw new Error("Either both `width`, `height` arguments, or a single `size` argument, are required!");t.width=arguments[0],t.height=arguments[1]}var e=o.calculateSize(t),n=null,a=i.findLast(this.get("sizes"),function(t){return n=t,o.calculateSize(t)>=e})||n;return this.set(a),i.clone(a)},validate:function(t){var e={error:this._validateError,link:this._validateLink,photo:this._validatePhoto,rich:this._validateRich,video:this._validateVideo};if(!i.isString(t.type))return new Error("`type` must be a string (got: "+t.type+")");if(!i.has(e,t.type))return new Error("Invalid `type` value: "+t.type);var n;return t.provider_url&&(n=this._validateURL("provider_url",t))?n:t.author_url&&(n=this._validateURL("author_url",t))?n:t.thumbnail_url&&(n=this._validateURL("thumbnail_url",t))?n:this._validateIntegers(["width","height","thumbnail_width","thumbnail_height"],t)||e[t.type].call(this,t)},_validateIntegers:function(t,e){for(var n=t.length-1;n>=0;n--){var a=t[n],s=e[a];if(!i.isNumber(s)||0>s||!i.isFinite(s)||Math.round(s)!==s)return new Error("`"+a+"` must be an integer (got: "+s+")")}},_validateURL:function(t,e){return i.isString(e[t])?e[t]?/^(?:https?:)?\/\//i.test(e[t])?void 0:new Error("`"+t+"` must be a HTTP(S) or protocol-relative URL"):new Error("`"+t+"` must not be empty"):new Error("`"+t+"` must be a string")},_validateError:i.noop,_validateLink:i.noop,_validatePhoto:function(t){return this._validateURL("url",t)},_validateRich:function(t){return i.isString(t.html)?t.html?void 0:new Error("`html` must not be empty"):new Error("`html` must be a string")},_validateVideo:function(t){return i.isString(t.html)?t.html?this._validateURL("url",t):new Error("`html` must not be empty"):new Error("`html` must be a string")},parse:function(t){var e=n.flattenObject(i.omit(t,["version","cache_age"])),a=i.map(e.sizes||[],function(t){return o.pickSizeAttributes(t)});return a.push(o.pickSizeAttributes(e)),a=i(a).sortBy(function(t){return-o.calculateSize(t)}).map(n.freeze).value(),e.sizes=n.freeze(a),"Vine"===e.provider_name&&e.html&&(e.html=e.html.replace("2Fembed%2Fsimple","2Fembed%2Fsimple%3Fautoplay%3Dno")),e},_getProviderName:function(t){return s[t]||t},_getProviderObject:function(t){t=s[t]||t;var e=i.extend({},a);return i.has(e,t)&&(e[t]=!0),e},_getProviderIconClass:function(){return r[this.get("provider_name")]||""},_updateFormattedAuthorName:function(){var t="",e=this.get("provider");(e.twitter||e.instagram||e.tumblr)&&(t="@"),this.set("formatted_author_name",this.get("author_name")?t+this.get("author_name"):"")},_updateProviderIconClass:function(){this.set("provider_icon_class",this._getProviderIconClass())}},{calculateSize:function(t){return t.width&&t.height?t.width*t.height:t.thumbnail_url?t.thumbnail_width*t.thumbnail_height:0},pickSizeAttributes:i.partialRight(i.pick,["html","url","width","height","thumbnail_url","thumbnail_width","thumbnail_height"])});return o}),define("twemoji/twemoji.amd",[],function(){var t=function(){function t(t){return document.createTextNode(t)}function e(t){return t.replace(y,o)}function i(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function n(t,e){for(var i,a,s=t.childNodes,r=s.length;r--;)i=s[r],a=i.nodeType,3===a?e.push(i):1!==a||w.test(i.nodeName)||n(i,e);return e}function a(t){return m(t.indexOf(b)<0?t.replace(v,""):t)}function s(e,i){for(var s,r,o,l,u,d,c,p,h,m,f,_,v,b=n(e,[]),y=b.length;y--;){for(o=!1,l=document.createDocumentFragment(),u=b[y],d=u.nodeValue,p=0;c=g.exec(d);){if(h=c.index,h!==p&&l.appendChild(t(d.slice(p,h))),f=c[0],_=a(f),p=h+f.length,v=i.callback(_,i)){m=new Image,m.onerror=i.onerror,m.setAttribute("draggable","false"),s=i.attributes(f,_);for(r in s)s.hasOwnProperty(r)&&0!==r.indexOf("on")&&!m.hasAttribute(r)&&m.setAttribute(r,s[r]);m.className=i.className,m.alt=f,m.src=v,o=!0,l.appendChild(m)}m||l.appendChild(t(f)),m=null}o&&(p<d.length&&l.appendChild(t(d.slice(p))),u.parentNode.replaceChild(l,u))}return e}function r(t,i){return p(t,function(t){var n,s,r=t,o=a(t),l=i.callback(o,i);if(l){r="<img ".concat('class="',i.className,'" ','draggable="false" ','alt="',t,'"',' src="',l,'"'),n=i.attributes(t,o);for(s in n)n.hasOwnProperty(s)&&0!==s.indexOf("on")&&-1===r.indexOf(" "+s+"=")&&(r=r.concat(" ",s,'="',e(n[s]),'"'));r=r.concat(">")}return r})}function o(t){return _[t]}function l(){return null}function u(t){return"number"==typeof t?t+"x"+t:t}function d(t){var e="string"==typeof t?parseInt(t,16):t;return 65536>e?k(e):(e-=65536,k(55296+(e>>10),56320+(1023&e)))}function c(t,e){return e&&"function"!=typeof e||(e={callback:e}),("string"==typeof t?r:s)(t,{callback:e.callback||i,attributes:"function"==typeof e.attributes?e.attributes:l,base:"string"==typeof e.base?e.base:f.base,ext:e.ext||f.ext,size:e.folder||u(e.size||f.size),className:e.className||f.className,onerror:e.onerror||f.onerror})}function p(t,e){return String(t).replace(g,e)}function h(t){g.lastIndex=0;var e=g.test(t);return g.lastIndex=0,e}function m(t,e){for(var i=[],n=0,a=0,s=0;s<t.length;)n=t.charCodeAt(s++),a?(i.push((65536+(a-55296<<10)+(n-56320)).toString(16)),a=0):n>=55296&&56319>=n?a=n:i.push(n.toString(16));return i.join(e||"-")}var f={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:d,toCodePoint:m},onerror:function(){this.parentNode&&this.parentNode.replaceChild(t(this.alt),this)},parse:c,replace:p,test:h},_={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},g=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d\udd75|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc6f\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3c-\udd3e])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1e\udd26\udd30\udd33-\udd39\udd3c-\udd3e]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef6]|\ud83e[\udd10-\udd17\udd20-\udd25\udd27\udd3a\udd40-\udd45\udd47-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]|[\u23e9-\u23ec\u23f0\u23f3\u2640\u2642\u2695\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,v=/\uFE0F/g,b=String.fromCharCode(8205),y=/[&<>'"]/g,w=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,k=String.fromCharCode;return f}();return t}),define("twemoji",["twemoji/twemoji.amd"],function(t){return t}),define("massrel-js-backbone/lib/MediaCollection",["require","./backbone","lodash","./MediaModel","./util"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("./MediaModel"),a=t("./util"),s=e.Collection.extend({model:n,initialize:function(){this.on("reset",this.sort)},comparator:function(t,e){var n=t.get("type"),a=e.get("type");if(n!==a){var r=9999999,o=r;i.has(s.MEDIA_TYPE_SORT_VALUES,n)&&(o=s.MEDIA_TYPE_SORT_VALUES[n]);var l=r;return i.has(s.MEDIA_TYPE_SORT_VALUES,a)&&(l=s.MEDIA_TYPE_SORT_VALUES[a]),o-l}return e.size()-t.size()}},{MEDIA_TYPE_SORT_VALUES:a.freeze({video:0,photo:1,link:2,rich:3})});return s}),define("massrel-js-backbone/lib/embedly",["require","q","lodash","./util","massrel-js"],function(t){var e=t("q"),i=t("lodash"),n=t("./util"),a=t("massrel-js"),s="https:"===window.location.protocol,r="//embedly.massrelevance.com/1/",o=function(t,n){if(i.isArray(n))n=i(n).each(function(t){if(!i.isString(t))throw new TypeError("array values must be strings (got: "+t+")")}).sortBy().value();else{if(!i.isString(n))throw new TypeError("`urls` must be either a string or an array (got: "+n+")");n=[n]}var o=e.defer();if(n.length>0){var l=[["key","fd577f7497bf11e0b95d4040d3dc5c07"],["secure",s],["maxwidth",1e3],["urls",n]];a.helpers.request_factory(r+t,l,"__embedly_jsonp__",null,function(t){for(var e=0;e<t.length;e++)t[e].link=n[e];o.resolve(t)},function(t){o.reject(new Error(t))})}else o.resolve([]);return o.promise},l=/^(https?:)?\/\/embedly\.massrelevance\.com\/\d+\/image/i,u=function(t){return l.test(t)||(t="//embedly.massrelevance.com/1/image?key=fd577f7497bf11e0b95d4040d3dc5c07&url="+encodeURIComponent(t)),t},d="//cdn.embedly.com/widgets/media.html?",c={url:"",image:"",video:"",video_secure:"true",type:"video/mp4",schema:"instagram"},p=function(t){t=i.extend({},c,t);var e=d+n.paramaterize(t);return'<iframe src="'+e+'" scrolling="no" frameborder="0"></iframe>'};return{embed:i.partial(o,"oembed"),widget:p,proxyImageURL:u}}),define("massrel-js-backbone/lib/StatusModel",["require","./backbone","q","lodash","moment","twemoji","placeholder-image-generator","./MediaCollection","./MediaModel","./embedly","./util"],function(t){var e=t("./backbone"),i=t("q"),n=t("lodash"),a=t("moment"),s=t("twemoji"),r=t("placeholder-image-generator"),o=t("./MediaCollection"),l=t("./MediaModel"),u=t("./embedly"),d=t("./util"),c="media-fetch",p="error:media-fetch",h=function(t){throw new Error("Method `"+t+"` is not implemented")},m=function(t){var e=s.parse(t,{size:"72x72"});return e.replace(/\bclass="\s*emoji\s*"/g,'class="status-emoji"')},f={thumbnail_url:r(),thumbnail_width:480,thumbnail_height:360},_=e.Model.extend({idAttribute:"entity_id",network:null,defaults:{additional_classes:"",raw_status:null,has_fetched_media:!1,is_fetching_media:!1,formatted_permalink:"",formatted_date_format:"display",formatted_date:"",formatted_date_iso:"",formatted_date_full:"",formatted_date_short:"",formatted_date_display:"",formatted_avatar_url_format:"medium",formatted_avatar_url:"",formatted_avatar_url_thumb:"",formatted_avatar_url_small:"",formatted_avatar_url_medium:"",formatted_avatar_url_large:"",formatted_avatar_url_huge:"",formatted_profile_url:"",formatted_text_max_length:140,formatted_text:"",formatted_text_rest:"",formatted_text_full:"",formatted_text_pretty:"",formatted_text_rest_pretty:"",formatted_text_full_pretty:"",formatted_name:"",formatted_name_pretty:"",formatted_klout_score:null,formatted_klout_permalink:null,formatted_place:null,media:null},constructor:function(t,i){var a=n.extend({},i,{parse:!0});e.Model.call(this,t,a)},initialize:function(t,e){this.options=e,this.set("media",new o,{silent:!0}),this.on({"change:formatted_avatar_url_format":this._updateFormattedAvatarURL,"change:formatted_date_format":this._updateFormattedDate,"change:formatted_text_max_length":this._updateFormattedTexts}),this._generateFormattedAvatarURLs(),this._generateFormattedDates(),this._generateFormattedPermalink(),this._generateFormattedProfileURL(),this._updateFormattedAvatarURL(),this._updateFormattedDate(),this._updateFormattedName(),this._updateFormattedPlace(),this._updateFormattedTexts(),this._updateFormattedCounts()},parse:function(t){var e=d.flattenObject(t);return e.raw_status=n.cloneDeep(t),e},_splitText:d.splitTextToLength,_getMediaFetchURLs:function(){h("_getMediaFetchURLs")},_getMediaExisting:function(){h("_getMediaExisting")},_postProcessFetchMedia:function(){},fetchMedia:function(){if(this.get("is_fetching_media"))return this;if(this.get("has_fetched_media"))return this.trigger(c),this;this.set("is_fetching_media",!0),this.set("has_fetched_media",!1);var t=this._getMediaFetchURLs(),e=this._getMediaExisting(),a=i.defer();t&&t.length>0?a=u.embed(t):(a.resolve([]),a=a.promise);var s=this;return a.then(function(t){s.set("is_fetching_media",!1),s.set("has_fetched_media",!0),s._postProcessFetchMedia(t);var i=n(t).reject(function(t){return"error"===t.type}).reject(function(t){var e=["snappytv"],i=["snpy.tv"],a=["photo","video"];return(t.provider_name&&n.contains(e,t.provider_name.toLowerCase())||n.find(i,function(e){return t.link&&t.link.indexOf(e)>=0}))&&"photo"!==t.type&&"video"!==t.type&&t.type&&t.thumbnail_url&&(t.type="photo",t.width=t.thumbnail_width,t.height=t.thumbnail_height,t.url=t.thumbnail_url),!n.contains(a,t.type)}).map(function(t){return t.thumbnail_url||"YouTube"!==t.provider_name||(t.thumbnail_url=r({width:480,height:360,template:"youtube"})),n.extend({},f,t)}).map(function(t){return new l(t)}).concat(e).reject(function(t){return"error"===t.get("type")}).value();s.get("media").reset(i),s.trigger(c)}).fail(function(t){s.set("is_fetching_media",!1),s.set("has_fetched_media",!1),s.trigger(p,s,null,{error:t})}).done(),this},_prettifyText:function(){h("_prettifyText")},_getPermalink:function(){h("_getPermalink")},getPermalink:function(){return this._getPermalink()},_getCreateDate:function(){h("_getCreateDate")},getCreateDate:function(){return this._getCreateDate()},_getText:function(){h("_getText")},getText:function(){return this._getText()},_getPlace:function(){h("_getPlace")},getPlace:function(){return this._getPlace()},_getAvatarURL:function(){h("_getAvatarURL")},getAvatarURL:function(t){var e=1e4;return 0>t||t>e?t=e:(!n.isNumber(t)||n.isNaN(t))&&(t=_.AVATAR_SIZES.medium),this._getAvatarURL(t)},_getProfileURL:function(){h("_getProfileURL")},getProfileURL:function(){return this._getProfileURL()},_getName:function(){h("_getName")},getName:function(){return this._getName()},_updateFormattedDate:function(){var t,e=this.get("formatted_date_format"),i=this.get("formatted_date_iso");return t=n.isFunction(e)?e.call(null,a(i)):this.has("formatted_date_"+e)?this.get("formatted_date_"+e):a(i).format(e),this.set("formatted_date",t),this},updateFormattedDates:function(){return this._generateFormattedDates(),this._updateFormattedDate(),this},_updateFormattedPlace:function(){return this.set("formatted_place",this.getPlace()),this
},_updateFormattedAvatarURL:function(){var t,e=this.get("formatted_avatar_url_format");if(n.isFunction(e))t=e.call(null);else{if(!this.has("formatted_avatar_url_"+e))throw new TypeError("Invalid avatar format value: "+e);t=this.get("formatted_avatar_url_"+e)}return this.set("formatted_avatar_url",t),this},_updateFormattedTexts:function(){var t=this.getText(),e=this.get("formatted_text_max_length"),i=this._splitText(t,e),a=n.compose(m,n.bind(this._prettifyText,this));return this.set({formatted_text:i[0],formatted_text_rest:i[1],formatted_text_full:t,formatted_text_pretty:a(i[0]),formatted_text_rest_pretty:a(i[1]),formatted_text_full_pretty:a(t)}),this},_updateFormattedName:function(){var t=this.getName();return this.set({formatted_name:t,formatted_name_pretty:m(t)}),this},_generateFormattedAvatarURLs:function(){var t={};return n.each(_.AVATAR_SIZES,function(e,i){t["formatted_avatar_url_"+i]=this.getAvatarURL(e)},this),this.set(t),this},_updateFormattedCounts:function(){h("_updateFormattedCounts")},_generateFormattedProfileURL:function(){return this.set("formatted_profile_url",this.getProfileURL()),this},_generateFormattedPermalink:function(){return this.set("formatted_permalink",this.getPermalink()),this},_generateFormattedDates:function(){var t=this.getCreateDate();t&&t.isValid()||(t=a());var e=d.calculateISODate(t),i=d.calculateFullDate(t),n=d.calculateShortDate(t),s=d.calculateDisplayDate(t);return this.set({formatted_date_iso:e,formatted_date_full:i,formatted_date_short:n,formatted_date_display:s}),this},_convertNumberToAbbreviatedFormat:function(t){return 1e3>t?t:1e5>t?Math.round(t/100)/10+"k":1e6>t?Math.round(t/1e3)+"k":1e9>t?Math.round(t/1e5)/10+"m":Math.round(t/1e8)/10+"b"}},{AVATAR_SIZES:d.freeze({thumb:24,small:48,medium:73,large:128,huge:1e4}),AUTOLINK_DEFAULTS:d.freeze({usernameIncludeSymbol:!0,suppressDataScreenName:!0,targetBlank:!0,symbolTag:"s",textWithSymbolTag:"span",urlClass:"status-pretty-link status-url ",hashtagClass:"status-pretty-link status-hashtag ",usernameClass:"status-pretty-link status-username ",listClass:"status-pretty-link status-list ",cashtagClass:"status-pretty-link status-cashtag "})});return _}),define("massrel-js-backbone/lib/FacebookStatusModel",["require","lodash","moment","twitter-text","./MediaModel","./StatusModel","./embedly","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./MediaModel"),s=t("./StatusModel"),r=t("./embedly"),o=t("./util"),l=s.extend({network:"facebook",defaults:e.extend({},s.prototype.defaults,{intent_can_comment:!1,intent_can_like:!1,intent_can_share:!1,intent_url_comment:"",intent_url_like:"",intent_url_share:"",actions:[],actions_has_comment:!1,actions_has_like:!1,intent_app_id:"508524932504444"}),initialize:function(){s.prototype.initialize.apply(this,arguments),this.on("change:type change:kind",this._generateIntentAbilities),this.on("change:actions",this._generateAvailableActions),this._generateAvailableActions(),this._generateIntentAbilities(),this._generateIntentURLs()},getType:function(){return this.get("type")||this.get("kind")},_getMediaFetchURLs:function(){var t=this.getType(),i=n.extractUrlsWithIndices(this.getText()),a=e.pluck(i,"url");return("link"===t||"video"===t)&&this.get("link")&&a.push(this.get("link")),e.uniq(a)},_parseMediaPhoto:function(){var t=e.sortBy(this.get("images"),function(t){return-(t.width*t.height)});if(0===t.length)return null;var i=t[0],n=t[t.length-1],s=o.protocolRelativize(n.source);return new a({type:"photo",url:o.protocolRelativize(i.source),link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id")),sizes:e.map(t.slice(1),function(t){return{url:o.protocolRelativize(t.source),width:t.width,height:t.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height}})})},_parseMediaPicture:function(){return this.has("picture")&&"video"!==this.getType()?new a({type:"photo",url:l.upgradePictureURL(this.get("picture")),link:this.get("formatted_permalink"),width:0,height:0,thumbnail_url:this.get("picture"),thumbnail_width:0,thumbnail_height:0,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id"))}):null},_postProcessFetchMedia:function(t){if(t&&t.length){var i=e.sortBy(this.get("format"),function(t){return-(t.width*t.height)});if(0!==i.length){var n=i[0];e.each(t,function(t){t.provider_name&&"facebook"===t.provider_name.toLowerCase()&&(t.thumbnail_url=o.protocolRelativize(n.picture),t.thumbnail_width=n.width,t.thumbnail_height=n.height)})}}},_parseMediaVideo:function(){var t=e.sortBy(this.get("format"),function(t){return-(t.width*t.height)});if(0===t.length)return null;var i=t[0],n=t[t.length-1],s=o.protocolRelativize(i.picture);return new a({type:"link",url:this.get("link"),link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:s,thumbnail_width:i.width,thumbnail_height:i.height,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id")),sizes:e.map(t.slice(1),function(t){return{width:t.width,height:t.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height}})})},_getMediaExisting:function(){var t=[];return e.isArray(this.get("images"))&&t.push(this._parseMediaPhoto()),t.push(this._parseMediaPicture()),e.compact(t)},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t),a=n.extractHashtagsWithIndices(t,{checkUrlOverlap:!1}),r=i.concat(a);n.removeOverlappingEntities(r);var l=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-facebook",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-facebook",hashtagUrlBase:"//www.facebook.com/hashtag/"}),u=n.autoLinkEntities(t,r,l);return o.normalizeLineBreaks(o.trimHTML(u),2,"<br />")},_updateFormattedCounts:function(){},_getCreateDate:function(){return i(this.get("created_time"),i.ISO_8601)},_getPlace:function(){if(this.has("place_id")){var t=this.get("place_location_city")+", "+(this.get("place_location_state")||this.get("place_location_country")),e=this.get("place_location_city")?{name:t}:null,i=parseFloat(this.get("place_location_longitude"),10),n=parseFloat(this.get("place_location_latitude"),10);return{type:"Feature",properties:e,geometry:{type:"Point",coordinates:[i,n]}}}return null},_getAvatarURL:function(t){var e=this.get("from_id");return o.getAvatarProxyURL("facebook",e,t)},_getProfileURL:function(){return"//www.facebook.com/"+this.get("from_id")},_getText:function(){var t;return this.has("share_text")&&this.has("story")?t=this.get("story"):(this.has("message")||this.has("name"))&&(t=this.get("message")||this.get("name")),t||""},_getName:function(){return this.get("from_name")},_getPermalink:function(){var t=this.get("facebook_id");return t.indexOf("_")<0&&(t=this.get("from_id")+"_"+this.get("facebook_id")),"//www.facebook.com/"+t},_generateIntentAbilities:function(){return this.set({intent_can_comment:"comment"!==this.getType()||this.get("actions_has_comment"),intent_can_like:!1,intent_can_share:!0}),this},_generateIntentURLs:function(){return this.set({intent_url_comment:this.get("formatted_permalink")+"/comments",intent_url_like:this.get("formatted_permalink")+"/likes",intent_url_share:this.get("formatted_permalink")+"/share"}),this},_generateAvailableActions:function(){var t={Comment:"comment",Like:"like"},i=this;e.each(t,function(t){i.set("actions_has_"+t,!1)}),this.get("actions")&&e.each(this.get("actions"),function(e){var n=t[e.name];n&&i.set("actions_has_"+n,!0)})}},{upgradePictureURL:function(t){t=e.isString(t)?t:"",t=t.replace(/_[anst]\./,"_n.");var i=/\/safe_image\.php\?.*url=([^&]+)(?:&|$)/g.exec(t);return i&&(t=r.proxyImageURL(decodeURIComponent(i[1]))),t},getAuthorURLById:function(t){return"//facebook.com/"+t}});return l}),define("massrel-js-backbone/lib/GooglePlusStatusModel",["require","lodash","moment","./MediaModel","./StatusModel","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("./MediaModel"),a=t("./StatusModel"),s=t("./util"),r=e.template('<a href=<%- url %> target="_blank" rel="nofollow" class="<%- classes %>"><s><%- symbol %></s><span><%- text %></span></a>'),o=function(t){var e=i().diff(t,"hours");return 24>e?t.format("LT"):48>e?"Yesterday "+t.format("LT"):t.format("ll")},l=a.extend({network:"google_plus",defaults:e.extend({},a.prototype.defaults,{formatted_date_format:o}),_getMediaFetchURLs:function(){var t=e.map(this.get("object_attachments"),function(t){return t.embed&&t.embed.url?t.embed.url:null});return e.compact(t)},_parseMediaAlbum:function(t){return e.map(t.thumbnails,function(t){var e=s.protocolRelativize(t.image.url);return new n({type:"photo",url:s.protocolRelativize(l.changeURLSizeHint(t.image.url,l.LARGE_PHOTO_SIZE,l.LARGE_PHOTO_SIZE)),link:this.get("formatted_permalink"),width:l.LARGE_PHOTO_SIZE,height:l.LARGE_PHOTO_SIZE,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height,description:t.description||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),sizes:[{url:e,width:t.image.width,height:t.image.height,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height}]})},this)},_parseMediaArticle:function(t){var i={type:"link",url:t.url,link:this.get("formatted_permalink"),title:t.displayName||"",description:t.content||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url")};return t.fullImage&&e.extend(i,{thumbnail_url:t.fullImage.url,thumbnail_width:t.fullImage.width||t.image.width||0,thumbnail_height:t.fullImage.height||t.image.height||0}),new n(i)},_parseMediaPhoto:function(t){var e=s.protocolRelativize(t.image.url);return new n({type:"photo",url:t.fullImage.url,link:this.get("formatted_permalink"),width:t.fullImage.width,height:t.fullImage.height,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height,title:t.displayName||"",description:t.content||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),sizes:[{url:e,width:Math.round(t.fullImage.width/2),height:Math.round(t.fullImage.height/2),thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height}]})},_parseMediaVideo:function(t){if(t.embed);else if(t.image)return new n({type:"photo",url:s.protocolRelativize(l.changeURLSizeHint(t.image.url,l.LARGE_PHOTO_SIZE,l.LARGE_PHOTO_SIZE)),link:this.get("formatted_permalink"),width:t.image.width,height:t.image.height,provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),thumbnail_url:s.protocolRelativize(t.image.url),thumbnail_width:t.image.width,thumbnail_height:t.image.height,title:t.displayName||"",description:t.content||""});return null},_getMediaExisting:function(){var t=e.map(this.get("object_attachments"),function(t){var i=t.objectType,n=e.noop;return"album"===i?n=this._parseMediaAlbum:"article"===i?n=this._parseMediaArticle:"event"===i||("photo"===i?n=this._parseMediaPhoto:"video"===i?n=this._parseMediaVideo:window.console&&window.console.warn&&window.console.warn("Unrecognized Google+ attachment type: "+i,t,this.toJSON())),n.call(this,t)},this);return e(t).flatten(!0).compact().value()},_prettifyText:function(t){var i=document.createElement("div");return i.innerHTML=t,e.each(i.querySelectorAll(".ot-hashtag"),function(t){var e=document.createElement("div");e.innerHTML=r({url:t.href,classes:a.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-google-plus",symbol:"#",text:s.getNodeText(t).slice(1)}),t.parentNode.replaceChild(e.firstChild,t)}),e.each(i.querySelectorAll(".proflinkWrapper"),function(t){var e=t.querySelector(".proflink"),i=document.createElement("div");i.innerHTML=r({url:e.href,classes:a.AUTOLINK_DEFAULTS.usernameClass+"status-username-google-plus",symbol:"+",text:s.getNodeText(e)}),t.parentNode.replaceChild(i.firstChild,t)}),e.each(i.querySelectorAll("a"),function(t){""===s.trim(t.className)&&(t.className=a.AUTOLINK_DEFAULTS.urlClass+"status-url-google-plus",t.target="_blank")}),s.trimHTML(i.innerHTML)},_updateFormattedCounts:function(){},_getName:function(){return this.get("actor_displayName")},_getPermalink:function(){return s.protocolRelativize(this.get("url"))},_getCreateDate:function(){return i(this.get("published"),i.ISO_8601)},_getText:function(){return this.has("object_content")?this.get("object_content"):s.normalizeLineBreaks(this.get("title"),null,"<br />")},_getPlace:function(){if(this.has("location_kind")){var t=parseFloat(this.get("location_position_latitude")),i=parseFloat(this.get("location_position_longitude"));if(e.isNaN(t)||e.isNaN(i))return null;var n=this.get("location_address_formatted")||"",a=n?{name:n}:null;return{type:"Feature",properties:a,geometry:{type:"Point",coordinates:[i,t]}}}return null},_getAvatarURL:function(t){var e=this.get("actor_image_url");return s.protocolRelativize(e.replace(/\bsz\=\d+/,"sz="+Math.min(9999,t)))},_getProfileURL:function(){return s.protocolRelativize(this.get("actor_url"))},_splitText:s.splitHTMLToLength},{LARGE_PHOTO_SIZE:2560,changeURLSizeHint:function(t,i,n){var a="/";return e.isNumber(i)&&e.isNumber(n)&&(a="/w"+i+"-h"+n+"/"),(t||"").replace(/\/w\d+-h\d+(?:-[a-z])*\//gi,a)},formatDate:o});return l}),define("massrel-js-backbone/lib/InstagramStatusModel",["require","lodash","moment","twitter-text","./MediaModel","./StatusModel","./embedly","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./MediaModel"),s=t("./StatusModel"),r=t("./embedly"),o=t("./util"),l=s.extend({network:"instagram",_getMediaFetchURLs:function(){var t=[];return"video"===this.get("type")&&t.push(this.get("link")),t},_getMediaExisting:function(){var t=this.get("raw_status"),i=e(t.images).values().sortBy(function(t){return-(t.width*t.height)}).value();if(0===i.length)return null;var n=i[0],s=i[i.length-1],o=r.proxyImageURL(n.url),l=r.proxyImageURL(s.url);return[new a({type:"photo",url:o,link:this.get("formatted_permalink"),width:n.width,height:n.height,thumbnail_url:l,thumbnail_width:s.width,thumbnail_height:s.height,provider_name:"Instagram",author_name:this.get("user_username"),author_url:"//instagram.com/"+this.get("user_username"),sizes:e.map(i.slice(1),function(t){return{url:r.proxyImageURL(t.url),width:t.width,height:t.height,thumbnail_url:l,thumbnail_width:s.width,thumbnail_height:s.height}})})]},_prettifyText:function(t){var i=String.fromCharCode(133)+"#",a=l.getHashtagRuns(t);t=e.reduce(a,function(t,e){var n=e.replace(/#/g,i).slice(1);return t.replace(e,n)},t);var r=n.extractUrlsWithIndices(t),u=n.extractMentionsWithIndices(t),d=n.extractHashtagsWithIndices(t,{checkUrlOverlap:!1}),c=r.concat(d).concat(u);n.removeOverlappingEntities(c);var p=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-instagram",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-instagram",usernameClass:s.AUTOLINK_DEFAULTS.usernameClass+"status-username-instagram",hashtagUrlBase:"//instagram.com/explore/tags/",usernameUrlBase:"//instagram.com/"}),h=n.autoLinkEntities(t,c,p);return o.normalizeLineBreaks(o.trimHTML(h),2,"<br />")},_updateFormattedCounts:function(){},_getName:function(){return this.get("user_full_name")||this.get("user_username")},_getPermalink:function(){return o.protocolRelativize(this.get("link"))},_getCreateDate:function(){return i(this.get("created_time"),"X")},_getText:function(){return this.get("caption_text")||""},_getPlace:function(){if(this.has("location_latitude")){var t=this.get("location_name")?{name:this.get("location_name")}:null,e=parseFloat(this.get("location_longitude"),10),i=parseFloat(this.get("location_latitude"),10);return{type:"Feature",properties:t,geometry:{type:"Point",coordinates:[e,i]}}}return null},_getAvatarURL:function(){return r.proxyImageURL(this.get("user_profile_picture"))},_getProfileURL:function(){return"//instagram.com/"+this.get("user_username")}},{getHashtagRuns:function(t){for(var i=/(?:#|^|\s)((?:#[^#\s]+){2,})(?:#|$|\s)/gi,n=[],a=i.exec(t);a;)i.lastIndex=a.index+1,n.push(a[1]),a=i.exec(t);return e.sortBy(n,"length").reverse()}});return l}),define("massrel-js-backbone/lib/RSSStatusModel",["require","lodash","moment","twitter-text","./StatusModel","./MediaModel","./util","./embedly"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./StatusModel"),s=t("./MediaModel"),r=t("./util"),o=t("./embedly"),l=["ddd MMM DD HH:mm:ss UTC YYYY",i.ISO_8601],u=a.extend({network:"rss",parse:function(t){return e.forEach(t.raw||[],function(i){e.isArray(i)&&"spredfast:type"===i[0]&&(t.kind=i[i.length-1])}),a.prototype.parse.call(this,t)},_getMediaFetchURLs:function(){var t=this.get("links").slice();return t.push(this.getPermalink()),e.uniq(t)},_getMedia_1_Object:function(t){var e={};if(t.forEach(function(t){Array.isArray(t)&&(e[t[0]]=t[1])}),e.type&&e.link){var i={type:"image"===e.type?"photo":e.type,url:e.link,link:e.link,thumbnail_url:e.thumbnail};return"video"===e.type&&(i.html=o.widget({video:e.link})),new s(i)}},_getMediaExisting:function(){var t=this,i=this.getPermalink(),n=e.compact(e.map(this.get("raw_status").raw||[],function(n){if(e.isArray(n)){var a;if("spredfast:media_image_url"===n[0])a="photo";else{if("spredfast:media_video_url"!==n[0])return"media_1"===n[0]?t._getMedia_1_Object(n):void 0;a="video"}var r=n[1],l=n[2];if("object"!=typeof r&&(r={},l=n[1]),l){var u={type:a,url:l,link:"#"===i?l:i,thumbnail_url:r.thumbnailUrl||l,width:parseInt(r.width,10)||0,height:parseInt(r.height,10)||0};return"video"===a&&(u.html=o.widget({video:l})),new s(u)}}})),a=e.map(this.get("raw_status").media,function(e){return new s({type:"photo",url:e.url,link:t.get("formatted_permalink"),height:e.height,width:e.width})});return n.concat(a)},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t);n.removeOverlappingEntities(i);var s=e.extend({},a.AUTOLINK_DEFAULTS,{urlClass:a.AUTOLINK_DEFAULTS.urlClass+"status-url-rss"}),o=n.autoLinkEntities(t,i,s);return r.normalizeLineBreaks(r.trim(o),2,"<br />")},_updateFormattedCounts:function(){},_getPermalink:function(){return/^(?:https?:)?\/\//i.test(this.get("guid"))?this.get("guid"):this.get("link")||"#"},_getCreateDate:function(){var t=this.get("pub_date"),e=i(t,l);return e.isValid()||(e=i(t)),e},_getText:function(){var t=this.get("description")||this.get("title")||"";if(/</g.test(t)&&/>/.test(t)){var e=document.createElement("div");e.innerHTML=t,t=r.getNodeText(e)}return t},_getName:function(){return this.get("author")},_getPlace:e.constant(null),_getAvatarURL:e.constant(""),_getProfileURL:e.constant("")});return u}),define("massrel-js-backbone/lib/TwitterStatusModel",["require","lodash","massrel-js","moment","twitter-text","./StatusModel","./MediaModel","./util","./embedly"],function(t){var e=t("lodash"),i=t("massrel-js"),n=t("moment"),a=t("twitter-text"),s=t("./StatusModel"),r=t("./MediaModel"),o=t("./util"),l=t("./embedly"),u="ddd MMM DD HH:mm:ss ZZ YYYY",d=/https?:\/\/video.twimg.com\/ext_tw_video\/.*?\/pu\/vid\/(.*?)x(.*?)\/.*?.mp4/,c=s.extend({network:"twitter",defaults:e.extend({},s.prototype.defaults,{intent_original_referer:"@spredfast",intent_url_favorite:"",intent_url_reply:"",intent_url_retweet:"",intent_url_user:"",formatted_date_format:"short",is_retweet:!1,reply_mentions:[]}),initialize:function(){s.prototype.initialize.apply(this,arguments),this.on("change:intent_original_referer",this._generateIntentURLs),this._generateIntentURLs(),this._generateReplyMentions()},parse:function(t){var i=e.cloneDeep(t);if(t.retweeted_status){var n=e.cloneDeep(t.retweeted_status),a=e.omit(t,"retweeted_status");e(a).each(function(t,i){e.has(n,i)||(n[i]=t,delete a[i])}),n.retweeting_status=a,n.is_retweet=!0,t=n}var r=s.prototype.parse.call(this,t);return r.raw_status=i,r},_getPlace:function(){var t,i;if(this.has("place_bounding_box_coordinates")){i=this.has("place_name")?{name:this.get("place_name")}:null;var n=this.get("place_bounding_box_coordinates")[0];if(!n||4!==n.length)return null;var a=(parseFloat(n[0][0],10)+parseFloat(n[1][0],10))/2,s=(parseFloat(n[0][1],10)+parseFloat(n[2][1],10))/2;return{type:"Feature",properties:i,geometry:{type:"Point",coordinates:[a,s]}}}return this.has("geo_type")?(t=this.get("place_full_name"),i=t?{name:t}:null,{type:"Feature",properties:i,geometry:{type:"Point",coordinates:e.cloneDeep(this.get("coordinates_coordinates"))}}):this.get("geo_hint_coordinates")?(t=this.get("place_full_name"),t||(t=e.compact([this.get("geo_hint_state"),this.get("geo_hint_country")]).join(", ")),i=t?{name:t}:null,{type:"Feature",properties:i,geometry:{type:"Point",coordinates:[this.get("geo_hint_coordinates")[1],this.get("geo_hint_coordinates")[0]]}}):this.get("user_location")?{type:"Feature",properties:{name:this.get("user_location")},geometry:null}:null},_getCreateDate:function(){return n(this.get("created_at"),u)},_splitText:function(t,e){var i=function(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")},n=function(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},a=s.prototype._splitText(i(t),e);return[n(a[0]),n(a[1])]},_getText:function(){if("string"==typeof this.get("full_text")){var t=this.get("display_text_range"),e=o.arrayFrom(this.get("full_text")),i=this.options.strip_mentions?t[0]:0;return e=e.slice(i,t[1]),e.join("")}return this.get("text")},_getMediaFetchURLs:function(){return e.pluck(this.get("entities_urls"),"expanded_url")},_parseMediaPhoto:function(t){var i=e(t.sizes).map(function(t,i){return e.extend({},t,{name:i})}).sortBy(function(t){return-(t.w*t.h)}).value();if(0===i.length)return null;var n=i[0],a=i[i.length-1],s=o.protocolRelativize(t.media_url);return new r({type:"photo",url:s+":"+n.name,link:this.get("formatted_permalink"),width:n.w,height:n.h,thumbnail_url:s+":"+a.name,thumbnail_width:a.w,thumbnail_height:a.h,provider_name:"Twitter",author_name:this.get("user_screen_name"),author_url:"//twitter.com/"+this.get("user_screen_name"),sizes:e.map(i.slice(1),function(t){return{url:s+":"+t.name,width:t.w,height:t.h,thumbnail_url:s+":"+a.name,thumbnail_width:a.w,thumbnail_height:a.h}})})},_parseMediaVideo:function(t){var i=e(t.sizes).map(function(t,i){return e.extend({},t,{name:i})}).sortBy(function(t){return-(t.w*t.h)}).value();if(0===i.length)return null;var n=i[0],a=o.protocolRelativize(t.media_url),s=e(t.video_info.variants).filter(function(t){return"video/mp4"===t.content_type}).map(function(t){var e=n.w,i=n.h,a=d.exec(t.url);return a&&(e=parseInt(a[1],10),i=parseInt(a[2],10)),{url:t.url,w:e,h:i}}).sortBy(function(t){return t.h*t.w}).reverse().value();if(0===s.length)return null;var u=s[0],c={video:u.url,image:a+":"+n.name,url:this.get("formatted_permalink")};return"animated_gif"===t.type&&(c.loop="1"),new r({type:"video",url:u.url,link:this.get("formatted_permalink"),html:l.widget(c),width:u.w,height:u.h,thumbnail_url:a+":"+n.name,thumbnail_width:n.w,thumbnail_height:n.h,provider_name:"Twitter",author_name:this.get("user_screen_name"),author_url:"//twitter.com/"+this.get("user_screen_name"),sizes:e.map(s.slice(1),function(t){return{url:t.url,html:l.widget(e.extend({},c,{video:t.url})),width:t.w,height:t.h}})})},_getMediaExisting:function(){var t=this.get("extended_entities_media");t&&0!==t.length||(t=this.get("entities_media")||[]);var i=e.map(t,function(t){var e=null;return"photo"===t.type?e=this._parseMediaPhoto(t):"video"===t.type||"animated_gif"===t.type?e=this._parseMediaVideo(t):window.console&&window.console.warn&&window.console.warn("Unrecognized Twitter media entity type: "+t.type,t,this.toJSON()),e},this);return e.compact(i)},_prettifyText:function(t){var i=this.get("entities_urls")||[],n=this.get("entities_media")||[],r=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-twitter",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-twitter",usernameClass:s.AUTOLINK_DEFAULTS.usernameClass+"status-username-twitter",listClass:s.AUTOLINK_DEFAULTS.listClass+"status-list-twitter",cashtagClass:s.AUTOLINK_DEFAULTS.cashtagClass+"status-cashtag-twitter",urlEntities:i.concat(n)}),l=a.autoLink(t,r);return o.normalizeLineBreaks(o.trimHTML(l),null,"<br />")},_getName:function(){return this.get("user_name")},_getPermalink:function(){return"//twitter.com/"+this.get("user_screen_name")+"/status/"+this.get("id_str")},_getAvatarURL:function(t){var e=this.get("user_screen_name");return o.getAvatarProxyURL("twitter",e,t)},_getProfileURL:function(){return"//www.twitter.com/"+this.get("user_screen_name")},_updateFormattedCounts:function(){this.set("formatted_retweet_count",this._convertNumberToAbbreviatedFormat(this.get("retweet_count"))),this.set("formatted_user_followers_count",this._convertNumberToAbbreviatedFormat(this.get("user_followers_count"))),this.set("formatted_user_statuses_count",this._convertNumberToAbbreviatedFormat(this.get("user_statuses_count"))),this.set("formatted_favorite_count",this._convertNumberToAbbreviatedFormat(this.get("favorite_count")))},_generateIntentURLs:function(){var t=this.get("id_str"),n=this.get("user_screen_name"),a={original_referer:this.get("intent_original_referer")},s=o.protocolRelativize;return this.set({intent_url_favorite:s(i.intents.favorite(t,e.clone(a))),intent_url_reply:s(i.intents.reply(t,e.clone(a))),intent_url_retweet:s(i.intents.retweet(t,e.clone(a))),intent_url_user:s(i.intents.user(n,e.clone(a)))}),this},_generateReplyMentions:function(){var t=this.get("display_text_range"),i=[];return t&&(e.forEach(this.get("entities_user_mentions"),function(n){if(n.indices[1]<t[0]){var a=encodeURIComponent(n.screen_name);i.push(e.extend({link:"https://twitter.com/"+a,avatar_url:"//api.massrelevance.com/avatar/twitter?screen_name="+a+"&width=73&height=73"},n))}}),this.set("reply_mentions",i)),this}});return c}),define("massrel-js-backbone/lib/YouTubeVideoStatusModel",["require","lodash","moment","twitter-text","./StatusModel","./MediaModel","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./StatusModel"),s=t("./MediaModel"),r=t("./util"),o=a.extend({network:"youtube",defaults:e.extend({},a.prototype.defaults,{formatted_date_format:"short",duration:null,duration_pretty:""}),initialize:function(){a.prototype.initialize.apply(this,arguments),this.on("change:contentDetails_duration",this._parseDuration),this._parseDuration()},parse:function(t){var i=e.cloneDeep(t),n=e.cloneDeep(i);n.title=t.snippet.title;var s=a.prototype.parse.call(this,n);return s.raw_status=i,s},_getMediaFetchURLs:function(){return["//youtu.be/"+this.get("youtube_video_id")]},_getMediaExisting:function(){var t=e(this.get("raw_status").snippet.thumbnails).map(function(t){return{url:t.url,width:t.width,height:t.height}}).sortBy(function(t){return-s.calculateSize(t)}).value(),i=t.shift(),n=t[t.length-1];return[new s({type:"photo",url:i.url,link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:n.url,thumbnail_width:n.width,thumbnail_height:n.height,provider_name:"YouTube",sizes:t})]},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t);n.removeOverlappingEntities(i);var s=e.extend({},a.AUTOLINK_DEFAULTS,{urlClass:a.AUTOLINK_DEFAULTS.urlClass+"status-url-youtube"}),o=n.autoLinkEntities(t,i,s);return r.normalizeLineBreaks(r.trim(o),2,"<br />")},_updateFormattedCounts:function(){},_getPermalink:function(){return"//youtu.be/"+this.get("youtube_video_id")},_getCreateDate:function(){var t=this.get("snippet_publishedAt"),e=i(t,i.ISO_8601);return e},_getText:function(){return this.get("snippet_description")},_getName:function(){return this.get("snippet_channelTitle")},_getPlace:e.constant(null),_getAvatarURL:e.constant(""),_getProfileURL:function(){return"//youtube.com/channel/"+this.get("snippet_channelId")},_parseDuration:function(){var t=i.duration(this.get("contentDetails_duration"));this.set("duration",t);var e=":"+r.padLeft(t.get("seconds"),2);e=t.get("hours")?t.get("hours")+":"+r.padLeft(t.get("minutes"),2)+e:t.get("minutes")+e,this.set("duration_pretty",e)}});return o}),define("massrel-js-backbone/lib/createStatus",["require","lodash","./FacebookStatusModel","./GooglePlusStatusModel","./InstagramStatusModel","./RSSStatusModel","./TwitterStatusModel","./YouTubeVideoStatusModel"],function(t){var e=t("lodash"),i=t("./FacebookStatusModel"),n=t("./GooglePlusStatusModel"),a=t("./InstagramStatusModel"),s=t("./RSSStatusModel"),r=t("./TwitterStatusModel"),o=t("./YouTubeVideoStatusModel"),l=e.reduce([i,n,a,s,r,o],function(t,e){return t[e.prototype.network]=e,t},{});return function(t,i){if(!(t&&t.network&&e.has(l,t.network))){var n=new TypeError("No constructor found for the given data");throw n.data=t,n}var a=l[t.network];return new a(t,i)}}),define("massrel-js-backbone/lib/StreamPoller",["require","./backbone","q","lodash","./createStatus","massrel-js"],function(t){var e=t("./backbone"),i=t("q"),n=t("lodash"),a=t("./createStatus"),s=t("massrel-js"),r=e.Model.extend({defaults:{stream_name:"",polling:!1},initialize:function(){this._processors=[],this.poller=this._createPoller(),this.on("change:stream_name",this._updatePoller)},start:function(){return this.get("stream_name")&&(this.poller.start(),this.set("polling",!0)),this},stop:function(){return this.poller.stop(),this.set("polling",!1),this},more:function(){return this.trigger("more:loading"),this.poller.more(n.bind(this._handleMore,this)),this},process:function(t){if(!n.isFunction(t))throw new TypeError("`processorFunction` must be a function");return this._processors.push(t),this},_createPoller:function(){var t=new s.Stream(this.get("stream_name")),e=t.poller(this.toJSON());return e.data(n.once(n.bind(this._handleEmpty,this))),e.data(n.bind(this._handleBatch,this)),e},_updatePoller:function(){var t=this.get("polling");return this.poller.stop(),this.poller=this._createPoller(),this.trigger("poller:update"),t&&this.poller.start(),this},_processStatuses:function(t){var e=this,s=n(t).map(function(t){try{var i=a(t,e.toJSON());return e.trigger("status:pre-process",i),i}catch(n){e.trigger("error:invalid-status",n)}}).compact().map(function(t){var a=n.map(e._processors,function(e){var n=i.defer();return e.call(null,t,n),n.promise}),s=i.defer();return 0!==a.length?i.all(a).then(function(){e.trigger("status",t),s.resolve(t)}).fail(function(i){e.trigger("status:rejected",t,i),s.reject(i)}).done():(e.trigger("status",t),s.resolve(t)),s.promise}).value(),r=i.defer();return i.allSettled(s).done(function(t){var e=n(t).filter(function(t){return"fulfilled"===t.state}).pluck("value").value();r.resolve(e)}),r.promise},_handleData:function(t,e){if(this.trigger(e.raw,t),t&&0!==t.length){var i=this;this._processStatuses(t).done(function(t){i.trigger(e.processed,t)})}else this.trigger(e.empty);return this},_handleBatch:function(t){return this._handleData(t,{raw:"raw:batch",empty:"batch:empty",processed:"batch"}),this},_handleMore:function(t){return this._handleData(t,{raw:"raw:more",empty:"more:end",processed:"more"}),this},_handleEmpty:function(t){return t&&0!==t.length||this.trigger("empty"),this}});return r}),define("massrel-js-backbone/lib/ComparePoller",["require","./backbone"],function(t){var e=t("./backbone"),i="massrel-js";return e.Model.extend({defaults:function(){return{streams:[],frequency:20}},initialize:function(){var t=this.toJSON();this.compare=new i.Compare(t.streams),this.poller=this.compare.poller(t)},start:function(){var t=this;this.get("streams")&&this.get("streams").length>0&&(t.set("loading",!0),t.poller.data(function(e){t.set("data",e),t.set("loading",!1)}),t.poller.start())},stop:function(){this.poller.stop()}})}),define("massrel-js-backbone/lib/MetaPoller",["require","./backbone","massrel-js"],function(t){var e=t("./backbone"),i=t("massrel-js");return e.Model.extend({defaults:function(){return{stream_name:"",disregard:"",frequency:20,loading:!1,activity:{},count:{},networks:{}}},initialize:function(){var t=this,e=t.toJSON();
t.stream=new i.Stream(e.stream_name),t.poller=t.stream.metaPoller(e)},start:function(){var t=this;this.get("stream_name")&&(t.set("loading",!0),t.poller.data(function(e){t.set(e),t.set("loading",!1)}),t.poller.start())},stop:function(){var t=this;t.poller.stop()}})}),define("massrel-js-backbone/lib/TopThingsPoller",["require","./backbone","lodash","massrel-js"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("massrel-js");return e.Model.extend({defaults:function(){return{stream_name:"",networks:1,frequency:20,resolution:"1h",start:"-1h",finish:"",thing:"",limit:50,loading:!1,data:{}}},start:function(){if(this.stop(),this.get("stream_name")){var t=i.pick(this.toJSON(),["tweet_mode","thing","resolution","start","finish","limit","stream_name"]);this.stream=new n.Stream(t.stream_name),this.poller=this.stream.topThingsPoller(t),this.set("loading",!0),this.poller.data(i.bind(function(t){this.set("data",t),this.set("loading",!1)},this)),this.poller.start()}},stop:function(){this.poller&&this.poller.stop()}})}),define("massrel-js-backbone/lib/processors",["require","./util","lodash"],function(t){var e=t("./util"),i=t("lodash"),n=function(t,i,n,a){t.once("media-fetch",function(){var s=t.get("media").at(0);s&&"photo"===s.get("type")?e.loadImage(s.get("url"),a).then(function(){i.resolve()}).fail(function(t){i.reject(t)}).done():n?i.resolve():i.reject(new Error("No media or non-photo as first media item"))}),t.fetchMedia()},a=function(t){return function(i,n){var a=i.get("additional_classes");a+=" status-style-"+t,i.set("additional_classes",e.trim(a).replace(/\s+/g," ")),n.resolve()}},s=function(t){return function(i,n){var a,s=i.get("additional_classes");a=t?new RegExp("(^|\\s+)status-style-"+t+"\\b","g"):/(^|\s+)status-style-[A-Za-z0-9-]+\b/g,s=s.replace(a,""),i.set("additional_classes",e.trim(s).replace(/\s+/g," ")),n.resolve()}},r=function(t,e){t.once("media-fetch",function(){t.get("media").each(function(t){t.set("autoplay",!0)})}),e.resolve()},o=function(t,e){t.once("media-fetch error:media-fetch",function(){e.resolve()}),t.fetchMedia()},l=function(t,i,n){t.once("media-fetch",function(){var a=t.get("media").at(0);if(a){var s;"photo"===a.get("type")?s=a.get("url"):a.get("thumbnail_url")&&(s=a.get("thumbnail_url")),e.loadImage(s,n).fin(function(){i.resolve()}).done()}else i.resolve()}),t.fetchMedia()},u=function(t,e){t.once("media-fetch",function(){t.get("media").each(function(t){t.set("loop_video",!0)})}),e.resolve()},d=function(t){return function(e,n){e.once("media-fetch",function(){var a=e.get("media").filter(function(e){return!i.contains(t,e.get("type"))});e.get("media").remove(a),n.resolve()}),e.fetchMedia()}},c=function(t,e){t.once("media-fetch",function(){t.get("media").length>0?e.resolve():e.reject(new Error("Status has no media."))}),t.fetchMedia()},p=function(t,e){t.once("media-fetch",function(){t.get("media").length>0?"video"===t.get("media").at(0).get("type")||"photo"===t.get("media").at(0).get("type")?e.resolve():e.reject(new Error("Media is not of type photo or video")):e.reject(new Error("Status has no media."))}),t.fetchMedia()},h=function(t,e){0===t._getMediaFetchURLs().length&&0===t._getMediaExisting().length?e.resolve():e.reject(new Error("Status has media."))},m=function(t,e){var i=t.getText()||"";i.replace(/^\s+|\s+$/g,"")?e.resolve():e.reject(new Error("Status has no non-whitespace text"))},f=function(t,e,i){return n(t,e,!1,i)},_=function(t,e,i){return n(t,e,!0,i)};return{addStyleClass:a,autoplayMedia:r,fetchMedia:o,loopVideoMedia:u,preloadImage:l,removeStyleClass:s,removeMediaIfNotType:d,rejectIfNoMedia:c,rejectIfMediaNotPhotoOrVideo:p,rejectIfMedia:h,rejectIfNoText:m,allowOnlyValidPhoto:f,rejectIfInvalidPhoto:_}}),define("massrel-js-backbone/main",["require","./lib/StreamPoller","./lib/ComparePoller","./lib/MetaPoller","./lib/TopThingsPoller","./lib/StatusModel","./lib/TwitterStatusModel","./lib/FacebookStatusModel","./lib/GooglePlusStatusModel","./lib/InstagramStatusModel","./lib/RSSStatusModel","./lib/processors","./lib/MediaCollection","./lib/MediaModel","./lib/createStatus","massrel-js"],function(t){var e=t("./lib/StreamPoller"),i=t("./lib/ComparePoller"),n=t("./lib/MetaPoller"),a=t("./lib/TopThingsPoller"),s=t("./lib/StatusModel"),r=t("./lib/TwitterStatusModel"),o=t("./lib/FacebookStatusModel"),l=t("./lib/GooglePlusStatusModel"),u=t("./lib/InstagramStatusModel"),d=t("./lib/RSSStatusModel"),c=t("./lib/processors"),p=t("./lib/MediaCollection"),h=t("./lib/MediaModel"),m=t("./lib/createStatus"),f=t("massrel-js");return{ComparePoller:i,MetaPoller:n,StreamPoller:e,TopThingsPoller:a,StatusModel:s,FacebookStatusModel:o,GooglePlusStatusModel:l,InstagramStatusModel:u,RSSStatusModel:d,TwitterStatusModel:r,MediaCollection:p,MediaModel:h,processors:c,createStatus:m,massrel:f}}),define("massrel-js-backbone",["massrel-js-backbone/main"],function(t){return t}),define("components/status-2/main",["require","lodash","lib/BaseComponent","componentStyle!status-2","massrel-js-backbone","./viewFactory"],function(t){var e=t("lodash"),i=t("lib/BaseComponent"),n=t("componentStyle!status-2"),a=t("massrel-js-backbone"),s=t("./viewFactory");return i.extend({styles:n,initialize:function(){i.prototype.initialize.apply(this,arguments);var t=this.get("config");this._statusViewConstructor=s.statusViewConstructor({componentId:t.id,componentType:t.type,analytics:this.get("analytics"),dispatcher:this.get("dispatcher"),additional_classes:this.get("config").settings.additional_classes}),this._statusViewCreator=s.statusViewCreator({componentId:t.id,componentType:t.type,analytics:this.get("analytics"),dispatcher:this.get("dispatcher"),additional_classes:this.get("config").settings.additional_classes}),t.settings.status_style&&this.get("dispatcher").on("#"+t.settings.status_style+":discovery",e.bind(this._discover,this))},_discover:function(t){"status-style"===t.payload.type&&(this.status_style=t.payload.component)},create:function(){var t=this;return{createStatus:a.createStatus,getStatusViewConstructor:this._statusViewConstructor,createStatusView:this._statusViewCreator,status_style:function(){return t.status_style}}}}).exports()}),define("lib/views/BaseButtonView",["require","lib/views/BaseView"],function(t){var e=t("lib/views/BaseView"),i=e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:disabled",function(t,e){this.$el.toggleClass("disabled",e)})}});return i}),define("components/load-more-1/models/LoadMoreButtonModel",["lodash","backbone-amd"],function(t,e){return e.Model.extend({defaults:{buttonText:"Load More",useScrollEvents:!1,isMobileSafari:!1},constructor:function(i,n){var a=this;i=t.pick(i,t.keys(a.defaults)),e.Model.call(a,i,n)}})}),define("tmpl!load-more-button",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<span class="button-text">'+__e(buttonText)+"</span>";return __p},metadata:{},name:"load-more-button"})}),define("components/load-more-1/views/LoadMoreButtonView",["jquery","underscore","lib/views/BaseButtonView","components/load-more-1/models/LoadMoreButtonModel","tmpl!load-more-button"],function(t,e,i,n,a){return i.extend({tagName:"div",className:function(){return"button load-more-button "+(this.model.get("useScrollEvents")&&!this.model.get("isMobileSafari")?"hidden":"")},template:a,initialize:function(t){i.prototype.initialize.apply(this,arguments);var e=this;return e.dispatcher=e._closest("dispatcher"),void 0===t.model&&(e.model=new n),this.isButtonPresentable=!this.model.get("useScrollEvents")||this.model.get("isMobileSafari"),e},hide:function(){this.$el.hide()},show:function(){this.isButtonPresentable&&this.$el.show()},render:function(){var t=this;return i.prototype.render.apply(t,arguments),t.$el.data("view-id",t.cid),t.$el.css("border-radius",this.model.get("buttonBorderRadius")+"px"),t.$el.on("click",function(){t.dispatcher.trigger("load-more",e.noop)}),t}})}),define("componentStyle!load-more-1",{render:function(){}}),define("components/load-more-1/main",["require","jquery","lodash","lib/BaseComponent","components/load-more-1/views/LoadMoreButtonView","components/load-more-1/models/LoadMoreButtonModel","componentStyle!load-more-1"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/BaseComponent"),a=t("components/load-more-1/views/LoadMoreButtonView"),s=t("components/load-more-1/models/LoadMoreButtonModel"),r=t("componentStyle!load-more-1"),o=e(window),l=function(t,i,n){this.config=t,this.id=i,this.dispatcher=n,this.scrollElement=this.config.settings.scrollElement||window,this.scrollContent=this.config.settings.scrollElement||document.body,this.$el=e("#"+i),this.config.settings.isMobileSafari=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/),this.config.settings.useScrollEvents="scroll"===this.config.settings.type,this.model=new s(this.config.settings),this.smartSize=(MR.spaceConfig.smart_size||"true"===MR.ENV.hash.local_smart_resize)&&"true"!==MR.ENV.hash["pgb-infinite-scroll-local"],this.isSpaceEmbedded=MR.isSpaceEmbedded(),"true"===MR.ENV.hash["pgb-infinite-scroll-local"]&&(MR.parent.trigger("pgb:noresize",{}),MR.resize({scrolling:!0})),this.view=new a({dispatcher:n,componentType:t.type,componentId:i,model:this.model})};return l.prototype.bindScrollEvent=function(){if(!this.config.settings.isMobileSafari&&this.config.settings.useScrollEvents)if(this.isSpaceEmbedded&&this.smartSize)MR.parent.trigger("scroll:listen",{belowFrame:!0}),MR.parent.on("scroll:end",i.bind(function(){this.loadMore()},this));else{var t=e(this.scrollElement),n=i.bind(i.debounce(function(){this.shouldLoadMore()&&this.loadMore()},this.config.settings.eventThrottle),this);t.on("scroll",n)}},l.prototype.loadMore=function(){this.dispatcher.trigger("load-more",i.bind(function(){this.ensuringFilled&&this.ensureFilled()},this))},l.prototype.hideButton=function(){this.ensuringFilled=!1,this.view.hide()},l.prototype.showButton=function(){this.view.show()},l.prototype.shouldLoadMore=function(){var t=e(this.scrollContent),i=t[0],n=document.documentElement,a=window.pageYOffset||i.scrollTop||n.scrollTop;(!this.config.settings.isMobileSafari||this.config.settings.isMobileSafari&&!this.innerHeight)&&(this.innerHeight=window.innerHeight||i.clientHeight||n.clientHeight||0);var s;return s=Math.max(i.scrollHeight,n.scrollHeight,i.offsetHeight,n.offsetHeight,i.clientHeight,n.clientHeight),(!this.smartSize||!this.isSpaceEmbedded)&&a+this.innerHeight>=s||this.ensuringFilled&&this.minimumHeight>s?!0:(this.ensuringFilled=!1,!1)},l.prototype.render=function(){this.$el.html(this.view.render().el),this.bindScrollEvent(),this.smartSize&&(this.minimumHeight=this.config.settings.useScrollEvents?MR.ENV.hash.vph:o.outerHeight(!0)),this.minimumHeight=this.minimumHeight||0},l.prototype.ensureFilled=function(){this.ensuringFilled=!0,i.delay(i.bind(function(){this.shouldLoadMore()&&this.loadMore()},this),500)},n.extend({styles:r,exports:{LoadMoreButton:l,LoadMoreButtonView:a,LoadMoreButtonModel:s},create:function(){var t=new l(this.get("config"),this.get("id"),this.get("dispatcher"));return this.set("loadMoreButton",t),{loadMoreButton:t}},render:function(){this.hasElement()&&this.get("loadMoreButton").render()}}).exports()}),define("lib/ModalUtils",["require","underscore"],function(t){var e=t("underscore"),i={};return{open:function(t){var n=e.defaults(t||{},{data:{},url:MR.spacePath()+"/modal.html",fallback:e.identity});i=n.data;var a;MR.ENV.hash.embedModals||(a=MR.parent.trigger("modal:open",{url:n.url})),!a&&e.isFunction(n.fallback)&&n.fallback.call(window,n.data)},close:function(){MR.parent.trigger("modal:close")},getData:function(){if(MR.ENV.hash.frame){var t=MR.ENV.hash.frame.split(","),n=e.reduce(t,function(t,e){return t.frames[e]},window.parent);return n.MR.modal.getData()}return i}}}),define("lib/refreshPoller",["require","jquery","has"],function(t){var e=t("jquery");return t("has"),{start:function(t){var i,n;MR.spaceConfig.auto_refresh&&MR.isIndex()&&!function a(){e.get().done(function(e,s,r){var o=r.getResponseHeader("ETag"),l=new Date(r.getResponseHeader("Last-Modified")||"").getTime(),u=i&&o&&i!==o,d=!t&&n&&l&&l>n;return u||d?window.location.reload(!0):(i=o,n=l,o&&setTimeout(a,3e4),void 0)})}()}}}),define("setup",["require","lib/ModalUtils","jquery","underscore","lib/refreshPoller","has","lib/UrlUtils"],function(t){function e(t){return(t+"/").replace(/\/+$/,"/").toLowerCase().replace(/^https?:\/\//,"")}function i(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"","/",window.location.pathname.replace(/^\//,"")].join("")}var n=t("lib/ModalUtils"),a=t("jquery"),s=t("underscore"),r=t("lib/refreshPoller");t("has");var o=t("lib/UrlUtils"),l=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/);return MR.spacePath=s.memoize(function(){var t=MR.spaceConfig;if(t.path)return t.path;var n=e(i()),a=t.host||(t.client?t.client+".massrel.io":window.location.host),r=t.name||"",o=a+"/"+r;return s.chain(t.cnames||[]).compact().map(e).uniq().sortBy("length").forEach(function(t){0===n.indexOf(t)&&(o=t)}),"//"+o.replace(/\/+$/,"")}),MR.isIndex=function(){return i().replace(/\/(index\.html)?$/,"")===window.location.protocol+MR.spacePath()},MR.isSpaceEmbedded=function(){return!!MR.ENV.hash.parent&&window.parent!==window.self},MR.isCurrentProductPage=function(t){var e=MR.getProductUrls(),i=t.replace(/.*?:\/\//g,"");return s.some(e,function(t){var e=t.replace(/.*?:\/\//g,"");return e.indexOf(i)>=0||i.indexOf(e)>=0})},MR.getProductUrls=function(){var t=MR.ENV.hash["product-url"];return s.isArray(t)||(t=[t]),s.compact(t)},{config:function(){var t=a.Deferred(),e=a.Deferred(),i=!0;return t.done(function(){(MR.isPage||"smart"===MR.ENV.hash.sizing)&&(MR.spaceConfig.smart_size=!0,MR.spaceConfig.auto_size=!1),"auto"===MR.ENV.hash.sizing&&(MR.spaceConfig.smart_size=!1,MR.spaceConfig.auto_size=!0),s.isFunction(window.MR_init)&&window.MR_init.call({async:function(){return i=!1,e.resolve}}),i&&e.resolve()}),MR.isIndex()?a.get().always(function(e,i,n){try{s.extend(MR.spaceConfig,o.getParams(n.getResponseHeader("x-amz-meta-space-config"),!0))}catch(a){}t.resolve()}):t.resolve(),e.promise()},pmcMethods:function(){return{spaceEvent:function(t){t&&t.eventName&&MR.ENV.scope("template").trigger("space:"+t.eventName,t.data)}}},init:function(t){function e(t){var e=parseInt(o.css("margin-top"),10)||0,i=o.offset().top,n=0;i>e&&(n=i-e);var a=t&&o[0].scrollHeight?o[0].scrollHeight:o.outerHeight(!0);return Math.ceil(a+n)}var i,o=a("body"),u=MR.spaceConfig,d=u.auto_size===!1&&!u.smart_size;MR.resize=function(n){if(!d&&MR.isSpaceEmbedded()){var r=s.clone(n||{});r.scrolling===!1?o.css("overflow","hidden"):r.scrolling===!0&&o.css("overflow","auto"),i&&(clearTimeout(i),i=null),s.isUndefined(r.height)&&(r.height=(window.MR_height||a.noop)()||e());var u=!!MR.templateConfig.settings.has_natural_height;u&&(r.naturalHeight=e(!0)),t.run("resize",r),!l&&r.interval&&(i=setTimeout(function(){MR.resize(n)},r.interval))}},d&&(u.height||u.width)&&t.run("resize",s.pick(u,"height","width")),u.smart_size&&MR.resize({interval:300,scrolling:!1}),MR.parent={ready:function(){return!!MR.ENV.hash.parent&&!!MR.ENV.hash["space-id"]&&t.ready()},trigger:function(e,i){return e?(t.run(e,i),MR.parent.ready()):!1},on:function(t,e,i){t&&MR.ENV.instance.on("#template:space:"+t,e,i)},off:function(t,e,i){t&&MR.ENV.instance.off("#template:space:"+t,e,i)}},r.start(),MR.modal=n}}}),define("app",function(){}),window.MR.require=require,window.MR.define=define,window.MR.requirejs=requirejs}(MR.define,MR.require,MR.requirejs);</script>


<script>MR.require(["loader","lib/analytics/main","staticPath"],function(loader,Analytics,staticPath){MR.templateConfig={data:{},settings:{header:{showHeader:!1,headerText:"FOLLOW @COCACOLA",headerImage:"https://massrel-library-assets.a.ssl.fastly.net/production/47944/jeff_logo.png?1461855109",backLink:"http://www.instagram.com/rocksnropes",backText:"<Back","@headerFontSize":14,"@headerFontFamily":'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',"@headerFontColor":"#000","@backButtonFontSize":16,"@backButtonFontFamily":'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',"@backButtonFontColor":"#000","@headerBackgroundColor":"#fdfdfd","@instagramLogoColor":"color"},noContentText:{"@noContentTextFontSize":14,"@noContentTextFontFamily":'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',"@noContentTextFontColor":"#000"},body:{"@backgroundColor":"#FFF","@backgroundImage":"","@backgroundImageStyle":"center","@socialContentBackgroundColor":"transparent"},footer:{showLogo:!1},modal:{modalType:"retail","@detailViewBackgroundColor":"#FFF","@overlayColor":"#000","@socialContentFontSize":16,"@socialContentFontColor":"#000","@socialContentFontFamily":'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',"@linkColor":"#55acee","@linkUnderline":"none","@linkHoverColor":"#55acee","@linkHoverUnderline":"underline","@linkVisitedColor":"#55acee","@secondaryLinkColor":"#55acee","@secondaryLinkUnderline":"none","@secondaryLinkHoverColor":"#55acee","@secondaryLinkHoverUnderline":"underline","@secondaryLinkVisitedColor":"#55acee"},"@maxCellSize":200,gridWidth:4,"@gridWidth":4,gridHeight:2,"@mobileBreakpoint":399,mobileBreakpoint:399,gridType:"fixed","@mobileGridWidth":2,mobileGridHeight:3,streamName:"293qnkfxkx/cocacola-instagram",media_type:"both",require_product_links:!1,no_content_text:"No content available.",cell_delay:"2","@cellGutterSize":5,"@colorCellBackgroundColor":"#fff","@colorCellBackgroundImage":"","@colorCellBackgroundImageStyle":"center","@mediaBorderSize":1,"@mediaBorderColor":"#CCC","@mediaShadowColor":"black","@mediaGridMargin":0,"@spredfastLogoColor":"black","@footerBackgroundColor":"#fdfdfd","@footerBackgroundImage":"","@footerBackgroundSize":"center","@expandButtonText":"expand","@expandButtonFontSize":11,"@expandButtonFontFamily":'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',"@expandButtonFontColor":"#fff",visualization_encoded_id:"27RG"},styles:{headerFontSize:14,header_headerFontSize:14,headerFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',header_headerFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',headerFontColor:"#000",header_headerFontColor:"#000",backButtonFontSize:16,header_backButtonFontSize:16,backButtonFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',header_backButtonFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',backButtonFontColor:"#000",header_backButtonFontColor:"#000",headerBackgroundColor:"#fdfdfd",header_headerBackgroundColor:"#fdfdfd",instagramLogoColor:"color",header_instagramLogoColor:"color",noContentTextFontSize:14,noContentText_noContentTextFontSize:14,noContentTextFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',noContentText_noContentTextFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',noContentTextFontColor:"#000",noContentText_noContentTextFontColor:"#000",backgroundColor:"#FFF",body_backgroundColor:"#FFF",backgroundImage:"",body_backgroundImage:"",backgroundImageStyle:"center",body_backgroundImageStyle:"center",socialContentBackgroundColor:"transparent",body_socialContentBackgroundColor:"transparent",detailViewBackgroundColor:"#FFF",modal_detailViewBackgroundColor:"#FFF",overlayColor:"#000",modal_overlayColor:"#000",socialContentFontSize:16,modal_socialContentFontSize:16,socialContentFontColor:"#000",modal_socialContentFontColor:"#000",socialContentFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',modal_socialContentFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',linkColor:"#55acee",modal_linkColor:"#55acee",linkUnderline:"none",modal_linkUnderline:"none",linkHoverColor:"#55acee",modal_linkHoverColor:"#55acee",linkHoverUnderline:"underline",modal_linkHoverUnderline:"underline",linkVisitedColor:"#55acee",modal_linkVisitedColor:"#55acee",secondaryLinkColor:"#55acee",modal_secondaryLinkColor:"#55acee",secondaryLinkUnderline:"none",modal_secondaryLinkUnderline:"none",secondaryLinkHoverColor:"#55acee",modal_secondaryLinkHoverColor:"#55acee",secondaryLinkHoverUnderline:"underline",modal_secondaryLinkHoverUnderline:"underline",secondaryLinkVisitedColor:"#55acee",modal_secondaryLinkVisitedColor:"#55acee",maxCellSize:200,gridWidth:4,mobileBreakpoint:399,mobileGridWidth:2,cellGutterSize:5,colorCellBackgroundColor:"#fff",colorCellBackgroundImage:"",colorCellBackgroundImageStyle:"center",mediaBorderSize:1,mediaBorderColor:"#CCC",mediaShadowColor:"black",mediaGridMargin:0,spredfastLogoColor:"black",footerBackgroundColor:"#fdfdfd",footerBackgroundImage:"",footerBackgroundSize:"center",expandButtonText:"expand",expandButtonFontSize:11,expandButtonFontFamily:'"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',expandButtonFontColor:"#fff"},components:{modal:{settings:{"@maxWidth":"550px"},styles:{maxWidth:"550px"},type:"modal-2"},mediaFirstStatus:{settings:{},styles:{},type:"media-first-status-1"},modalStatus:{settings:{},styles:{},type:"media-first-status-1"},"retail-modal":{settings:{showRetail:!0,showStatusFirst:!1,retailItemsPerPage:"2",isModal:!0,noContent:"No content available.",showCurrentProductPageLinks:!0,showPageLinkButton:!0,showPageLinkTitle:!0,showPageLinkImage:!0,"@backgroundColor":"#fcfcfc","@borderColor":"#ffffff","@statusNetworkStyle":"color","@statusAvatarBorderColor":"#d8d8d8","@statusAuthorPrimaryColor":"#333333","@statusAuthorPrimaryFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusAuthorPrimaryFontSize":14,"@statusAuthorSecondaryFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusAuthorSecondaryFontSize":12,"@statusAuthorSecondaryColor":"#333333","@statusAuthorSecondaryUnderline":"none","@statusAuthorSecondaryHoverColor":"red","@statusAuthorSecondaryHoverUnderline":"underline","@statusAuthorSecondaryVisitedColor":"#333333","@statusBodyFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusBodyFontSize":18,"@statusBodyColor":"#333333","@statusBodyLinkColor":"#62a9ff","@statusBodyLinkUnderline":"none","@statusBodyLinkHoverColor":"red","@statusBodyLinkHoverUnderline":"none","@statusBodyLinkVisitedColor":"#333333","@statusFooterFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusFooterFontSize":12,"@statusFooterColor":"#333333","@statusFooterLinkColor":"#333333","@statusFooterLinkUnderline":"underline","@statusFooterLinkHoverColor":"red","@statusFooterLinkHoverUnderline":"underline","@statusFooterLinkVisitedColor":"#333333","@statusFooterIconColor":"#999999","@statusFooterDividerColor":"#eaeaea","@statusIntentColor":"#333333","@statusIntentIconColor":"#999999","@statusIntentHoverColor":"#4a90e2","@statusIntentIconHoverColor":"#4a90e2","@statusNavFontSize":14,"@statusNavFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusNavColor":"#999999","@statusNavActiveColor":"#4a90e2",statusNavShopText:"SHOP THIS LOOK",statusNavImageText:"DETAILS","@statusMediaAttributionColor":"white","@statusMediaAttributionFontSize":14,"@statusMediaAttributionFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusMediaNetworkStyle":"light","@retailItemTitleColor":"#333333","@retailItemTitleFontSize":14,"@retailItemTitleFont":"'Open Sans', Helvetica, Arial, sans-serif","@retailItemTitleLinkColor":"#333333","@retailItemTitleLinkUnderline":"underline","@retailItemTitleLinkHoverColor":"#666666","@retailItemTitleLinkHoverUnderline":"underline","@retailItemTitleLinkVisitedColor":"#333333",retailItemButtonText:"SHOP","@retailItemButtonBorderRadius":3,"@retailItemButtonLinkColor":"#FFFFFF","@retailItemButtonLinkHoverColor":"#FFFFFF","@retailItemButtonFontSize":14,"@retailItemButtonFont":"'Open Sans', Helvetica, Arial, sans-serif","@retailItemButtonBackgroundColor":"#5fa9ff","@retailItemButtonBorderColor":"#4a90e2","@retailItemButtonBackgroundHoverColor":"#4a90e2","@retailItemButtonBorderHoverColor":"#4a90e2","@retailItemImageBorder":!0,"@retailItemImageBorderColor":"#d8d8d8","@retailItemImageBorderHoverColor":"#d8d8d8","@retailItemDividerColor":"#dddddd","@retailItemArrowColor":"#4a90e2","@retailItemArrowHoverColor":"#4a90e2","@retailItemArrowBorderColor":"#dddddd","@retailItemArrowBorderHoverColor":"#4a90e2","@retailItemArrowBackgroundColor":"white","@retailItemArrowBackgroundHoverColor":"white","@retailItemPaginationBackground":"#ffffff","@retailItemPaginationBorder":"#dddddd","@retailItemPaginationBackgroundActiveColor":"#4a90e2","@retailItemPaginationBorderActiveColor":"#4a90e2"},styles:{backgroundColor:"#fcfcfc",borderColor:"#ffffff",statusNetworkStyle:"color",statusAvatarBorderColor:"#d8d8d8",statusAuthorPrimaryColor:"#333333",statusAuthorPrimaryFont:"'Open Sans', Helvetica, Arial, sans-serif",statusAuthorPrimaryFontSize:14,statusAuthorSecondaryFont:"'Open Sans', Helvetica, Arial, sans-serif",statusAuthorSecondaryFontSize:12,statusAuthorSecondaryColor:"#333333",statusAuthorSecondaryUnderline:"none",statusAuthorSecondaryHoverColor:"red",statusAuthorSecondaryHoverUnderline:"underline",statusAuthorSecondaryVisitedColor:"#333333",statusBodyFont:"'Open Sans', Helvetica, Arial, sans-serif",statusBodyFontSize:18,statusBodyColor:"#333333",statusBodyLinkColor:"#62a9ff",statusBodyLinkUnderline:"none",statusBodyLinkHoverColor:"red",statusBodyLinkHoverUnderline:"none",statusBodyLinkVisitedColor:"#333333",statusFooterFont:"'Open Sans', Helvetica, Arial, sans-serif",statusFooterFontSize:12,statusFooterColor:"#333333",statusFooterLinkColor:"#333333",statusFooterLinkUnderline:"underline",statusFooterLinkHoverColor:"red",statusFooterLinkHoverUnderline:"underline",statusFooterLinkVisitedColor:"#333333",statusFooterIconColor:"#999999",statusFooterDividerColor:"#eaeaea",statusIntentColor:"#333333",statusIntentIconColor:"#999999",statusIntentHoverColor:"#4a90e2",statusIntentIconHoverColor:"#4a90e2",statusNavFontSize:14,statusNavFont:"'Open Sans', Helvetica, Arial, sans-serif",statusNavColor:"#999999",statusNavActiveColor:"#4a90e2",statusMediaAttributionColor:"white",statusMediaAttributionFontSize:14,statusMediaAttributionFont:"'Open Sans', Helvetica, Arial, sans-serif",statusMediaNetworkStyle:"light",retailItemTitleColor:"#333333",retailItemTitleFontSize:14,retailItemTitleFont:"'Open Sans', Helvetica, Arial, sans-serif",retailItemTitleLinkColor:"#333333",retailItemTitleLinkUnderline:"underline",retailItemTitleLinkHoverColor:"#666666",retailItemTitleLinkHoverUnderline:"underline",retailItemTitleLinkVisitedColor:"#333333",retailItemButtonBorderRadius:3,retailItemButtonLinkColor:"#FFFFFF",retailItemButtonLinkHoverColor:"#FFFFFF",retailItemButtonFontSize:14,retailItemButtonFont:"'Open Sans', Helvetica, Arial, sans-serif",retailItemButtonBackgroundColor:"#5fa9ff",retailItemButtonBorderColor:"#4a90e2",retailItemButtonBackgroundHoverColor:"#4a90e2",retailItemButtonBorderHoverColor:"#4a90e2",retailItemImageBorder:!0,retailItemImageBorderColor:"#d8d8d8",retailItemImageBorderHoverColor:"#d8d8d8",retailItemDividerColor:"#dddddd",retailItemArrowColor:"#4a90e2",retailItemArrowHoverColor:"#4a90e2",retailItemArrowBorderColor:"#dddddd",retailItemArrowBorderHoverColor:"#4a90e2",retailItemArrowBackgroundColor:"white",retailItemArrowBackgroundHoverColor:"white",retailItemPaginationBackground:"#ffffff",retailItemPaginationBorder:"#dddddd",retailItemPaginationBackgroundActiveColor:"#4a90e2",retailItemPaginationBorderActiveColor:"#4a90e2"},type:"retail-carousel-2"},"mr-logo":{settings:{theme:"","@visible":!1},styles:{visible:!1},type:"logo-1"},"status-2":{settings:{additional_classes:"",status_style:""},styles:{},type:"status-2"},"load-more":{settings:{buttonText:"Load More",type:"scroll",eventThrottle:0,scrollElement:""},styles:{},type:"load-more-1"}}},MR.spaceConfig={template:{id:39814,root_id:39814,component_ids:[95,164,174,185,213,263]},visualization:73488,visualization_encoded_id:"27RG",page:null,search_api_access_token:"8e16b260d23786b0cb895fec3fc5e4f24ab49d7332201204bf2b186f8221c301bb7e1a457fc0800985e3f8ae38e2ac58ea6e602e59d4224ca3eb33092a29bd1b",name:"cokeweb",client:"mcr-my-coke-rewards-coca-cola",account_id:"MR004776-001a000001EedQ1",id:29356,auto_size:!1,smart_size:!0,height:400,width:600,analytics_ga_id:"",facebook_custom_audience_id:"",short_url:"http://mssv.ly/28NyxyY",cnames:[],host:null,auto_refresh:!0},MR.analytics=new Analytics([MR.spaceConfig,{scope:"template"}]),loader.registerTemplate("mediaFirstStatus__media",function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)photo_urls&&(__p+='\n<div class="background-image" style="background-image: url('+__e(photo_urls.large.url)+');">\n  <div class="icon-video"></div>\n  <div class="expand-button">\n    <div class="expand-button-image"></div>\n    <p class="expand-button-text"></p>\n  </div>\n  <img src="'+__e(photo_urls.large.url)+'" />\n</div>\n'),__p+="\n";return __p}),loader.registerTemplate("mediaFirstStatus__status-instagram-media-first",function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="grid-cell-wrapper '+__e("grid-cell-"+(network||"unknown"))+' mr-action-click" data-action="showDetails">\n  <div class="grid-cell-contents">\n    '+(null==(__t=subview("media",media.find(mediaFilter)))?"":__t)+"\n  </div>\n</div>\n";return __p}),loader.registerTemplate("modalStatus__media",function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)type.photo&&(__p+='\n  <a href="'+__e(link)+'" target="_blank">\n    <img src="'+__e(photo_urls.large.url)+'" />\n    <div class="attribution">\n      <div class="handle">\n        ',author&&(provider.twitter||provider.vine||provider.instagram||"Tumblr"===providerName)?__p+="\n          "+__e("@"+author)+"\n        ":author&&(__p+="\n          "+__e(author)+"\n        "),__p+='\n      </div>\n      <div class="logo">\n      ',provider.youtube?__p+='\n        <i class="icon-youtube-logo"></i>\n      ':provider.facebook?__p+='\n        <i class="icon-facebook-logo"></i>\n      ':provider.twitter?__p+='\n        <i class="icon-twitter-logo"></i>\n      ':provider.vine?__p+='\n        <i class="icon-vine-logo"></i>\n      ':provider.instagram?__p+='\n        <i class="icon-instagram-logo"></i>\n      ':"Tumblr"===providerName?__p+='\n        <i class="icon-twitter-logo"></i>\n      ':provider.google&&(__p+='\n        <i class="icon-google-plus-logo"></i>\n      '),__p+="\n      </div>\n    </div>\n  </a>\n"),__p+="\n\n",type.video&&(__p+='\n  <div class="video provider-'+(null==(__t=(providerName||"").toLowerCase())?"":__t)+'">\n    ',embed_url?__p+='\n      <iframe src="'+__e(embed_url)+'" seamless></iframe>\n    ':embed_html&&(__p+="\n      "+(null==(__t=embed_html)?"":__t)+"\n    "),__p+="\n  </div>\n"),__p+="\n";return __p}),loader.init(),MR.templateConfig.components&&loader.render(MR.templateConfig.components)});</script>



    <script src="./index.js"></script>
    <script>!function(e){window.MR_ready=function(o){var t=this.async();e.require(["js/index"],function(e){e.ready(o),t()})},window.MR_render=function(o){e.require(["js/index"],function(e){e.render(o)})}}(window.MRT||window);</script>
  

<iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./saved_resource(1).html"></iframe></body></html>